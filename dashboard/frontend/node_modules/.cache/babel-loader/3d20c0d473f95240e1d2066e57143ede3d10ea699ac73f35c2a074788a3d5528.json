{"ast":null,"code":"import { defaultIconDimensions } from \"../icon/defaults.js\";\n\n/**\n* Minify icon set\n*\n* Function finds common values for few numeric properties, such as 'width' and 'height' (see defaultIconDimensions keys for list of properties),\n* removes entries from icons and sets default entry in root of icon set object.\n*\n* For example, this:\n* {\n*  icons: {\n*      foo: {\n*          body: '<g />',\n*          width: 24\n*      },\n*      bar: {\n*          body: '<g />',\n*          width: 24\n*      },\n*      baz: {\n*          body: '<g />',\n*          width: 16\n*      }\n*  }\n* }\n* is changed to this:\n* {\n*  icons: {\n*      foo: {\n*          body: '<g />'\n*      },\n*      bar: {\n*          body: '<g />'\n*      },\n*      baz: {\n*          body: '<g />',\n*          width: 16\n*      }\n*  },\n*  width: 24\n* }\n*/\nfunction minifyIconSet(data) {\n  const icons = Object.keys(data.icons);\n  Object.keys(defaultIconDimensions).forEach(prop => {\n    if (data[prop] === defaultIconDimensions[prop]) delete data[prop];\n    const defaultValue = defaultIconDimensions[prop];\n    const propType = typeof defaultValue;\n    const hasMinifiedDefault = typeof data[prop] === propType && data[prop] !== defaultValue;\n    let maxCount = 0;\n    let maxValue = null;\n    const counters = /* @__PURE__ */new Map();\n    for (let i = 0; i < icons.length; i++) {\n      const item = data.icons[icons[i]];\n      let value;\n      if (typeof item[prop] === propType) value = item[prop];else if (hasMinifiedDefault) value = data[prop];else value = defaultIconDimensions[prop];\n      if (i === 0) {\n        maxCount = 1;\n        maxValue = value;\n        counters.set(value, 1);\n        continue;\n      }\n      if (!counters.has(value)) {\n        counters.set(value, 1);\n        continue;\n      }\n      const count = counters.get(value) + 1;\n      counters.set(value, count);\n      if (count > maxCount) {\n        maxCount = count;\n        maxValue = value;\n      }\n    }\n    const canMinify = maxValue !== null && maxCount > 1;\n    const oldDefault = hasMinifiedDefault ? data[prop] : null;\n    const newDefault = canMinify ? maxValue : oldDefault;\n    if (newDefault === defaultValue) delete data[prop];else if (canMinify) data[prop] = newDefault;\n    icons.forEach(key => {\n      const item = data.icons[key];\n      const value = prop in item ? item[prop] : hasMinifiedDefault ? oldDefault : defaultValue;\n      if (value === newDefault || newDefault === null && value === defaultValue) {\n        delete item[prop];\n        return;\n      }\n      if (canMinify && !(prop in item)) item[prop] = value;\n    });\n  });\n}\nexport { minifyIconSet };","map":{"version":3,"names":["defaultIconDimensions","minifyIconSet","data","icons","Object","keys","forEach","prop","defaultValue","propType","hasMinifiedDefault","maxCount","maxValue","counters","Map","i","length","item","value","set","has","count","get","canMinify","oldDefault","newDefault","key"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@iconify/utils/lib/icon-set/minify.js"],"sourcesContent":["import { defaultIconDimensions } from \"../icon/defaults.js\";\n\n/**\n* Minify icon set\n*\n* Function finds common values for few numeric properties, such as 'width' and 'height' (see defaultIconDimensions keys for list of properties),\n* removes entries from icons and sets default entry in root of icon set object.\n*\n* For example, this:\n* {\n*  icons: {\n*      foo: {\n*          body: '<g />',\n*          width: 24\n*      },\n*      bar: {\n*          body: '<g />',\n*          width: 24\n*      },\n*      baz: {\n*          body: '<g />',\n*          width: 16\n*      }\n*  }\n* }\n* is changed to this:\n* {\n*  icons: {\n*      foo: {\n*          body: '<g />'\n*      },\n*      bar: {\n*          body: '<g />'\n*      },\n*      baz: {\n*          body: '<g />',\n*          width: 16\n*      }\n*  },\n*  width: 24\n* }\n*/\nfunction minifyIconSet(data) {\n\tconst icons = Object.keys(data.icons);\n\tObject.keys(defaultIconDimensions).forEach((prop) => {\n\t\tif (data[prop] === defaultIconDimensions[prop]) delete data[prop];\n\t\tconst defaultValue = defaultIconDimensions[prop];\n\t\tconst propType = typeof defaultValue;\n\t\tconst hasMinifiedDefault = typeof data[prop] === propType && data[prop] !== defaultValue;\n\t\tlet maxCount = 0;\n\t\tlet maxValue = null;\n\t\tconst counters = /* @__PURE__ */ new Map();\n\t\tfor (let i = 0; i < icons.length; i++) {\n\t\t\tconst item = data.icons[icons[i]];\n\t\t\tlet value;\n\t\t\tif (typeof item[prop] === propType) value = item[prop];\n\t\t\telse if (hasMinifiedDefault) value = data[prop];\n\t\t\telse value = defaultIconDimensions[prop];\n\t\t\tif (i === 0) {\n\t\t\t\tmaxCount = 1;\n\t\t\t\tmaxValue = value;\n\t\t\t\tcounters.set(value, 1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!counters.has(value)) {\n\t\t\t\tcounters.set(value, 1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst count = counters.get(value) + 1;\n\t\t\tcounters.set(value, count);\n\t\t\tif (count > maxCount) {\n\t\t\t\tmaxCount = count;\n\t\t\t\tmaxValue = value;\n\t\t\t}\n\t\t}\n\t\tconst canMinify = maxValue !== null && maxCount > 1;\n\t\tconst oldDefault = hasMinifiedDefault ? data[prop] : null;\n\t\tconst newDefault = canMinify ? maxValue : oldDefault;\n\t\tif (newDefault === defaultValue) delete data[prop];\n\t\telse if (canMinify) data[prop] = newDefault;\n\t\ticons.forEach((key) => {\n\t\t\tconst item = data.icons[key];\n\t\t\tconst value = prop in item ? item[prop] : hasMinifiedDefault ? oldDefault : defaultValue;\n\t\t\tif (value === newDefault || newDefault === null && value === defaultValue) {\n\t\t\t\tdelete item[prop];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (canMinify && !(prop in item)) item[prop] = value;\n\t\t});\n\t});\n}\n\nexport { minifyIconSet };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}