{"ast":null,"code":"import _objectSpread from\"/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import{Shield,GitBranch,Upload,Link,Tag,Clock,RefreshCw,Save,Trash2,Plus,X,Copy,CheckCircle,AlertCircle,ChevronDown,ChevronRight,Settings,BarChart3,FileText,Loader2,Lock,Users,UserPlus,UserMinus,Key,Eye,EyeOff,ToggleLeft,ToggleRight,HardDrive,Camera,RotateCcw,Database,Expand}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE='/api';// 버킷 정책 관리 컴포넌트\nexport const BucketPolicyManager=_ref=>{let{bucketName,showToast}=_ref;const[policy,setPolicy]=useState(null);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[editing,setEditing]=useState(false);const[policyJson,setPolicyJson]=useState('');const initialLoadDone=React.useRef(false);const fetchPolicy=useCallback(async()=>{try{const[policyRes,templatesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\")),axios.get(\"\".concat(API_BASE,\"/storage/policy-templates\"))]);setPolicy(policyRes.data.policy);setPolicyJson(policyRes.data.policy?JSON.stringify(policyRes.data.policy,null,2):'');setTemplates(templatesRes.data.templates||[]);}catch(error){showToast('정책 조회 실패','error');}finally{setLoading(false);initialLoadDone.current=true;}},[bucketName,showToast]);useEffect(()=>{initialLoadDone.current=false;setLoading(true);fetchPolicy();},[bucketName,fetchPolicy]);const handleApplyTemplate=async template=>{if(!template.policy){// private - 정책 삭제\ntry{await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"));showToast('버킷이 비공개로 설정되었습니다');fetchPolicy();}catch(error){showToast('정책 삭제 실패','error');}return;}const policyWithBucket=JSON.parse(JSON.stringify(template.policy).replace(/BUCKET_NAME/g,bucketName));try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"),{policy:policyWithBucket});showToast(\"'\".concat(template.name,\"' \\uC815\\uCC45\\uC774 \\uC801\\uC6A9\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchPolicy();}catch(error){showToast('정책 적용 실패','error');}};const handleSavePolicy=async()=>{try{const parsedPolicy=JSON.parse(policyJson);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"),{policy:parsedPolicy});showToast('정책이 저장되었습니다');setEditing(false);fetchPolicy();}catch(error){if(error instanceof SyntaxError){showToast('올바른 JSON 형식이 아닙니다','error');}else{showToast('정책 저장 실패','error');}}};if(loading&&!initialLoadDone.current){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uCC45 \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel policy-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Shield,{size:16}),\" \\uC815\\uCC45 \\uD15C\\uD50C\\uB9BF\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"template-card \".concat(!template.policy?'private':''),onClick:()=>handleApplyTemplate(template),children:[/*#__PURE__*/_jsx(\"div\",{className:\"template-name\",children:template.name}),/*#__PURE__*/_jsx(\"div\",{className:\"template-desc\",children:template.description})]},template.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(FileText,{size:16}),\" \\uD604\\uC7AC \\uC815\\uCC45\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat(editing?'btn-primary':''),onClick:()=>setEditing(!editing),children:editing?'취소':'편집'})]}),policy?editing?/*#__PURE__*/_jsxs(\"div\",{className:\"policy-editor\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:policyJson,onChange:e=>setPolicyJson(e.target.value),className:\"code-editor\",rows:15}),/*#__PURE__*/_jsx(\"div\",{className:\"editor-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSavePolicy,children:[/*#__PURE__*/_jsx(Save,{size:14}),\" \\uC800\\uC7A5\"]})})]}):/*#__PURE__*/_jsx(\"pre\",{className:\"policy-view\",children:JSON.stringify(policy,null,2)}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Shield,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uCC45\\uC774 \\uC124\\uC815\\uB418\\uC9C0 \\uC54A\\uC74C (\\uBE44\\uACF5\\uAC1C)\"})]})]})]});};// 버전 관리 컴포넌트\nexport const VersioningManager=_ref2=>{let{bucketName,showToast}=_ref2;const[versioning,setVersioning]=useState(null);const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const fetchVersioning=useCallback(async()=>{try{const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/versioning\"));setVersioning(res.data.versioning);}catch(error){showToast('버전 관리 상태 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{setLoading(true);fetchVersioning();},[bucketName,fetchVersioning]);const handleToggleVersioning=async()=>{try{setUpdating(true);const newStatus=(versioning===null||versioning===void 0?void 0:versioning.status)!=='Enabled';await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/versioning\"),{enabled:newStatus});showToast(\"\\uBC84\\uC804 \\uAD00\\uB9AC\\uAC00 \".concat(newStatus?'활성화':'비활성화',\"\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchVersioning();}catch(error){showToast('버전 관리 설정 실패','error');}finally{setUpdating(false);}};if(loading&&!versioning){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC84\\uC804 \\uAD00\\uB9AC \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"})]});}const isEnabled=(versioning===null||versioning===void 0?void 0:versioning.status)==='Enabled';return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel versioning-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"versioning-status\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-info\",children:[/*#__PURE__*/_jsx(GitBranch,{size:32,className:isEnabled?'enabled':'disabled'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1D\\uCCB4 \\uBC84\\uC804 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"status-text \".concat(isEnabled?'enabled':'disabled'),children:isEnabled?'활성화됨':'비활성화됨'})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn \".concat(isEnabled?'btn-danger':'btn-primary'),onClick:handleToggleVersioning,disabled:updating,children:[updating?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):null,isEnabled?'비활성화':'활성화']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"versioning-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:20,className:\"success\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uBC84\\uC804 \\uAD00\\uB9AC \\uD65C\\uC131\\uD654 \\uC2DC\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uAC1D\\uCCB4 \\uC218\\uC815/\\uC0AD\\uC81C \\uC2DC \\uC774\\uC804 \\uBC84\\uC804 \\uBCF4\\uC874\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2E4\\uC218\\uB85C \\uC0AD\\uC81C\\uD55C \\uD30C\\uC77C \\uBCF5\\uAD6C \\uAC00\\uB2A5\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uBCC0\\uACBD \\uC774\\uB825 \\uCD94\\uC801 \\uAC00\\uB2A5\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:20,className:\"warning\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC8FC\\uC758\\uC0AC\\uD56D\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2A4\\uD1A0\\uB9AC\\uC9C0 \\uC0AC\\uC6A9\\uB7C9 \\uC99D\\uAC00\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD55C\\uBC88 \\uD65C\\uC131\\uD654\\uD558\\uBA74 \\uC644\\uC804 \\uBE44\\uD65C\\uC131\\uD654 \\uBD88\\uAC00 (Suspended\\uB9CC \\uAC00\\uB2A5)\"})]})]})]})]})]});};// Presigned URL 생성 컴포넌트\nexport const PresignedUrlGenerator=_ref3=>{let{bucketName,objectName,showToast}=_ref3;const[url,setUrl]=useState(null);const[method,setMethod]=useState('GET');const[expiresHours,setExpiresHours]=useState(1);const[loading,setLoading]=useState(false);const[copied,setCopied]=useState(false);const handleGenerate=async()=>{try{setLoading(true);const res=await axios.post(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/presigned-url\"),{object_name:objectName,expires_hours:expiresHours,method:method});setUrl(res.data);showToast('Presigned URL이 생성되었습니다');}catch(error){showToast('URL 생성 실패','error');}finally{setLoading(false);}};const handleCopy=()=>{if(url){navigator.clipboard.writeText(url.url);setCopied(true);showToast('URL이 클립보드에 복사되었습니다');setTimeout(()=>setCopied(false),2000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel presigned-panel\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Link,{size:16}),\" Presigned URL \\uC0DD\\uC131\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"presigned-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB300\\uC0C1 \\uAC1D\\uCCB4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:objectName||'파일을 선택하세요',disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC791\\uC5C5 \\uC720\\uD615\"}),/*#__PURE__*/_jsxs(\"select\",{value:method,onChange:e=>setMethod(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"GET\",children:\"\\uB2E4\\uC6B4\\uB85C\\uB4DC (GET)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PUT\",children:\"\\uC5C5\\uB85C\\uB4DC (PUT)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC720\\uD6A8 \\uC2DC\\uAC04\"}),/*#__PURE__*/_jsxs(\"select\",{value:expiresHours,onChange:e=>setExpiresHours(Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:6,children:\"6\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:12,children:\"12\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:24,children:\"24\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:48,children:\"48\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:168,children:\"7\\uC77C\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleGenerate,disabled:!objectName||loading,children:[loading?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Link,{size:14}),\"URL \\uC0DD\\uC131\"]})]}),url&&/*#__PURE__*/_jsxs(\"div\",{className:\"presigned-result\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"url-display\",children:[/*#__PURE__*/_jsx(\"code\",{children:url.url}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:handleCopy,children:copied?/*#__PURE__*/_jsx(CheckCircle,{size:16,className:\"success\"}):/*#__PURE__*/_jsx(Copy,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC720\\uD6A8\\uAE30\\uAC04: \",url.expires_in]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uBC29\\uC2DD: \",url.method]})]})]})]});};// 객체 태그 관리 컴포넌트\nexport const ObjectTagsManager=_ref4=>{let{bucketName,objectName,showToast,onClose}=_ref4;const[tags,setTags]=useState({});const[loading,setLoading]=useState(true);const[newKey,setNewKey]=useState('');const[newValue,setNewValue]=useState('');const[saving,setSaving]=useState(false);const fetchTags=useCallback(async()=>{if(!objectName)return;try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"));setTags(res.data.tags||{});}catch(error){// 태그가 없는 경우\nsetTags({});}finally{setLoading(false);}},[bucketName,objectName]);useEffect(()=>{fetchTags();},[fetchTags]);const handleAddTag=()=>{if(newKey.trim()&&newValue.trim()){setTags(_objectSpread(_objectSpread({},tags),{},{[newKey.trim()]:newValue.trim()}));setNewKey('');setNewValue('');}};const handleRemoveTag=key=>{const newTags=_objectSpread({},tags);delete newTags[key];setTags(newTags);};const handleSave=async()=>{try{setSaving(true);if(Object.keys(tags).length===0){await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"));}else{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"),{tags:tags});}showToast('태그가 저장되었습니다');if(onClose)onClose();}catch(error){showToast('태그 저장 실패','error');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel tags-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tags-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Tag,{size:16}),\" \\uAC1D\\uCCB4 \\uD0DC\\uADF8\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"object-name\",children:objectName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags-list\",children:[Object.entries(tags).map(_ref5=>{let[key,value]=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"tag-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"tag-key\",children:key}),/*#__PURE__*/_jsx(\"span\",{className:\"tag-value\",children:value}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleRemoveTag(key),children:/*#__PURE__*/_jsx(X,{size:14})})]},key);}),Object.keys(tags).length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state small\",children:[/*#__PURE__*/_jsx(Tag,{size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD0DC\\uADF8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-tag-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD0A4\",value:newKey,onChange:e=>setNewKey(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC12\",value:newValue,onChange:e=>setNewValue(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleAddTag,children:/*#__PURE__*/_jsx(Plus,{size:14})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSave,disabled:saving,children:[saving?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Save,{size:14}),\"\\uC800\\uC7A5\"]})})]});};// 생명주기 규칙 관리 컴포넌트\nexport const LifecycleManager=_ref6=>{let{bucketName,showToast}=_ref6;const[rules,setRules]=useState([]);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[showAddRule,setShowAddRule]=useState(false);const[newRule,setNewRule]=useState({rule_id:'',prefix:'',enabled:true,expiration_days:30});const fetchLifecycle=useCallback(async()=>{try{setLoading(true);const[rulesRes,templatesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\")),axios.get(\"\".concat(API_BASE,\"/storage/lifecycle-templates\"))]);setRules(rulesRes.data.rules||[]);setTemplates(templatesRes.data.templates||[]);}catch(error){showToast('생명주기 규칙 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchLifecycle();},[fetchLifecycle]);const handleApplyTemplate=async template=>{const rule=_objectSpread(_objectSpread({},template.rule),{},{rule_id:\"\".concat(template.name,\"-\").concat(Date.now())});try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:[...rules,rule]});showToast(\"'\".concat(template.description,\"' \\uADDC\\uCE59\\uC774 \\uCD94\\uAC00\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchLifecycle();}catch(error){showToast('규칙 추가 실패','error');}};const handleAddRule=async()=>{if(!newRule.rule_id.trim()){showToast('규칙 ID를 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:[...rules,newRule]});showToast('규칙이 추가되었습니다');setShowAddRule(false);setNewRule({rule_id:'',prefix:'',enabled:true,expiration_days:30});fetchLifecycle();}catch(error){showToast('규칙 추가 실패','error');}};const handleDeleteRule=async ruleId=>{try{const updatedRules=rules.filter(r=>r.rule_id!==ruleId);if(updatedRules.length===0){await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"));}else{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:updatedRules});}showToast('규칙이 삭제되었습니다');fetchLifecycle();}catch(error){showToast('규칙 삭제 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59 \\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel lifecycle-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Clock,{size:16}),\" \\uADDC\\uCE59 \\uD15C\\uD50C\\uB9BF\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid compact\",children:templates.map(template=>/*#__PURE__*/_jsx(\"div\",{className:\"template-card small\",onClick:()=>handleApplyTemplate(template),children:/*#__PURE__*/_jsx(\"div\",{className:\"template-name\",children:template.description})},template.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD604\\uC7AC \\uADDC\\uCE59 (\",rules.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddRule(true),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\" \\uCD94\\uAC00\"]})]}),rules.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Clock,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"rules-list\",children:rules.map(rule=>/*#__PURE__*/_jsxs(\"div\",{className:\"rule-item \".concat(rule.enabled?'':'disabled'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rule-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rule-id\",children:rule.rule_id}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-details\",children:[rule.prefix&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC811\\uB450\\uC0AC: \",rule.prefix]}),rule.expiration_days&&/*#__PURE__*/_jsxs(\"span\",{children:[rule.expiration_days,\"\\uC77C \\uD6C4 \\uC0AD\\uC81C\"]}),rule.noncurrent_expiration_days&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC774\\uC804 \\uBC84\\uC804 \",rule.noncurrent_expiration_days,\"\\uC77C \\uD6C4 \\uC0AD\\uC81C\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-actions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(rule.enabled?'running':'stopped'),children:rule.enabled?'활성':'비활성'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleDeleteRule(rule.rule_id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},rule.rule_id))})]}),showAddRule&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowAddRule(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content small\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59 \\uCD94\\uAC00\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setShowAddRule(false),children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uADDC\\uCE59 ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRule.rule_id,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{rule_id:e.target.value})),placeholder:\"my-rule-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC811\\uB450\\uC0AC (\\uC120\\uD0DD)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRule.prefix,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{prefix:e.target.value})),placeholder:\"logs/\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB9CC\\uB8CC \\uC77C\\uC218\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRule.expiration_days,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{expiration_days:Number(e.target.value)})),min:1})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newRule.enabled,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{enabled:e.target.checked}))}),\"\\uD65C\\uC131\\uD654\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>setShowAddRule(false),children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleAddRule,children:\"\\uCD94\\uAC00\"})]})]})})]});};// 버킷 통계 컴포넌트\nexport const BucketStats=_ref7=>{let{bucketName,showToast}=_ref7;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[isRefreshing,setIsRefreshing]=useState(false);const initialLoadDone=React.useRef(false);const fetchStats=useCallback(async function(){let isBackground=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(isBackground){setIsRefreshing(true);}const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/stats\"));setStats(res.data.stats);}catch(error){if(!isBackground){showToast('통계 조회 실패','error');}}finally{setLoading(false);setIsRefreshing(false);initialLoadDone.current=true;}},[bucketName,showToast]);useEffect(()=>{initialLoadDone.current=false;setLoading(true);fetchStats(false);// 30초마다 백그라운드 리프레시\nconst interval=setInterval(()=>fetchStats(true),30000);return()=>clearInterval(interval);},[bucketName,fetchStats]);if(loading&&!stats){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD1B5\\uACC4 \\uB85C\\uB529 \\uC911...\"})]});}if(!stats)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel stats-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(BarChart3,{size:16}),\" \\uBC84\\uD0B7 \\uD1B5\\uACC4\"]}),isRefreshing&&/*#__PURE__*/_jsx(Loader2,{className:\"spin refresh-indicator\",size:14})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_objects}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uCD1D \\uAC1D\\uCCB4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_folders}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uD3F4\\uB354\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_size_human}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uCD1D \\uC6A9\\uB7C9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value \".concat(stats.versioning_enabled?'enabled':''),children:stats.versioning_enabled?'ON':'OFF'}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uBC84\\uC804 \\uAD00\\uB9AC\"})]})]}),Object.keys(stats.file_types).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uD30C\\uC77C \\uC720\\uD615 \\uBD84\\uD3EC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"file-types\",children:Object.entries(stats.file_types).map(_ref8=>{let[ext,count]=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"file-type-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"ext\",children:[\".\",ext]}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:count})]},ext);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uD06C\\uAE30 \\uBD84\\uD3EC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"size-distribution\",children:Object.entries(stats.size_distribution).map(_ref9=>{let[range,count]=_ref9;return/*#__PURE__*/_jsxs(\"div\",{className:\"size-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"range\",children:range}),/*#__PURE__*/_jsx(\"div\",{className:\"bar-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bar\",style:{width:\"\".concat(count/Math.max(stats.total_objects,1)*100,\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:count})]},range);})})]})]});};// 객체 잠금 관리 컴포넌트\nexport const ObjectLockManager=_ref0=>{let{bucketName,showToast}=_ref0;const[config,setConfig]=useState(null);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[mode,setMode]=useState('GOVERNANCE');const[duration,setDuration]=useState(30);const[durationUnit,setDurationUnit]=useState('DAYS');const fetchConfig=useCallback(async()=>{try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/object-lock\"));setConfig(res.data);if(res.data.mode)setMode(res.data.mode);if(res.data.duration)setDuration(res.data.duration);if(res.data.duration_unit)setDurationUnit(res.data.duration_unit);}catch(error){showToast('객체 잠금 설정 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchConfig();},[fetchConfig]);const handleSave=async()=>{try{setSaving(true);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/object-lock\"),{mode,duration,duration_unit:durationUnit});showToast('객체 잠금 설정이 저장되었습니다');fetchConfig();}catch(error){var _error$response,_error$response$data;showToast(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'설정 저장 실패','error');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"object-lock-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1D\\uCCB4 \\uC7A0\\uAE08 (Object Lock)\"})]}),!(config!==null&&config!==void 0&&config.enabled)?/*#__PURE__*/_jsxs(\"div\",{className:\"info-box warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uAC1D\\uCCB4 \\uC7A0\\uAE08 \\uBE44\\uD65C\\uC131\\uD654\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC774 \\uBC84\\uD0B7\\uC740 \\uAC1D\\uCCB4 \\uC7A0\\uAE08\\uC774 \\uD65C\\uC131\\uD654\\uB418\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4. \\uBC84\\uD0B7 \\uC0DD\\uC131 \\uC2DC\\uC5D0\\uB9CC \\uD65C\\uC131\\uD654\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-box success\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uAC1D\\uCCB4 \\uC7A0\\uAE08\\uC774 \\uD65C\\uC131\\uD654\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uAE30\\uBCF8 \\uBCF4\\uC874 \\uC815\\uCC45\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBCF4\\uC874 \\uBAA8\\uB4DC\"}),/*#__PURE__*/_jsxs(\"select\",{value:mode,onChange:e=>setMode(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"GOVERNANCE\",children:\"Governance (\\uAD00\\uB9AC\\uC790 \\uC0AD\\uC81C \\uAC00\\uB2A5)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"COMPLIANCE\",children:\"Compliance (\\uC0AD\\uC81C \\uBD88\\uAC00)\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"hint\",children:mode==='GOVERNANCE'?'특별 권한으로 삭제 가능':'보존 기간 동안 절대 삭제 불가'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBCF4\\uC874 \\uAE30\\uAC04\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:duration,onChange:e=>setDuration(parseInt(e.target.value)||1)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB2E8\\uC704\"}),/*#__PURE__*/_jsxs(\"select\",{value:durationUnit,onChange:e=>setDurationUnit(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"DAYS\",children:\"\\uC77C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"YEARS\",children:\"\\uB144\"})]})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSave,disabled:saving,children:[saving?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Save,{size:14}),\"\\uC800\\uC7A5\"]})]})]})]});};// IAM 사용자 관리 컴포넌트\nexport const IAMManager=_ref1=>{let{showToast}=_ref1;const[users,setUsers]=useState([]);const[policies,setPolicies]=useState([]);const[loading,setLoading]=useState(true);const[showAddUser,setShowAddUser]=useState(false);const[newUser,setNewUser]=useState({access_key:'',secret_key:'',policy:'readwrite'});const[showSecrets,setShowSecrets]=useState({});const fetchUsers=useCallback(async()=>{try{setLoading(true);const[usersRes,policiesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/iam/users\")),axios.get(\"\".concat(API_BASE,\"/storage/iam/policies\"))]);setUsers(usersRes.data.users||[]);setPolicies(policiesRes.data.policies||[]);}catch(error){// Fallback to soft users\ntry{const res=await axios.get(\"\".concat(API_BASE,\"/storage/users\"));setUsers(res.data.users||[]);setPolicies(['readonly','readwrite','writeonly','consoleAdmin']);}catch(e){showToast('사용자 목록 조회 실패','error');}}finally{setLoading(false);}},[showToast]);useEffect(()=>{fetchUsers();},[fetchUsers]);const handleCreateUser=async()=>{if(!newUser.access_key||!newUser.secret_key){showToast('Access Key와 Secret Key를 입력하세요','error');return;}if(newUser.secret_key.length<8){showToast('Secret Key는 8자 이상이어야 합니다','error');return;}try{await axios.post(\"\".concat(API_BASE,\"/storage/iam/users\"),newUser);showToast(\"\\uC0AC\\uC6A9\\uC790 '\".concat(newUser.access_key,\"'\\uAC00 \\uC0DD\\uC131\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowAddUser(false);setNewUser({access_key:'',secret_key:'',policy:'readwrite'});fetchUsers();}catch(error){var _error$response2,_error$response2$data;showToast(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'사용자 생성 실패','error');}};const handleDeleteUser=async accessKey=>{if(!window.confirm(\"'\".concat(accessKey,\"' \\uC0AC\\uC6A9\\uC790\\uB97C \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{await axios.delete(\"\".concat(API_BASE,\"/storage/iam/users/\").concat(accessKey));showToast(\"\\uC0AC\\uC6A9\\uC790 '\".concat(accessKey,\"'\\uAC00 \\uC0AD\\uC81C\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchUsers();}catch(error){var _error$response3,_error$response3$data;showToast(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'사용자 삭제 실패','error');}};const handleToggleStatus=async(accessKey,currentStatus)=>{const enabled=currentStatus!=='enabled';try{await axios.put(\"\".concat(API_BASE,\"/storage/iam/users/\").concat(accessKey,\"/status?enabled=\").concat(enabled));showToast(\"\\uC0AC\\uC6A9\\uC790\\uAC00 \".concat(enabled?'활성화':'비활성화',\"\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchUsers();}catch(error){showToast('상태 변경 실패','error');}};const handleChangePolicy=async(accessKey,policy)=>{try{await axios.put(\"\".concat(API_BASE,\"/storage/iam/users/\").concat(accessKey,\"/policy?policy=\").concat(policy));showToast(\"\\uC815\\uCC45\\uC774 '\".concat(policy,\"'\\uB85C \\uBCC0\\uACBD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchUsers();}catch(error){showToast('정책 변경 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"iam-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Users,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"IAM \\uC0AC\\uC6A9\\uC790 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uC0AC\\uC6A9\\uC790 \\uCD94\\uAC00\"]})]}),showAddUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC0C8 \\uC0AC\\uC6A9\\uC790 \\uC0DD\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Access Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC0AC\\uC6A9\\uC790 ID\",value:newUser.access_key,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{access_key:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Secret Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 (8\\uC790 \\uC774\\uC0C1)\",value:newUser.secret_key,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{secret_key:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC815\\uCC45\"}),/*#__PURE__*/_jsx(\"select\",{value:newUser.policy,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{policy:e.target.value})),children:policies.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p,children:p},p))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleCreateUser,children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uC0DD\\uC131\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowAddUser(false),children:\"\\uCDE8\\uC18C\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Users,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB4F1\\uB85D\\uB41C \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Access Key\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC815\\uCC45\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD0DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"access-key\",children:[/*#__PURE__*/_jsx(Key,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:user.accessKey||user.access_key}),(user.accessKey||user.access_key)==='admin'&&/*#__PURE__*/_jsx(\"span\",{className:\"badge admin\",children:\"\\uAD00\\uB9AC\\uC790\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"select\",{value:user.policyName||user.policy||'readwrite',onChange:e=>handleChangePolicy(user.accessKey||user.access_key,e.target.value),disabled:(user.accessKey||user.access_key)==='admin',children:policies.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p,children:p},p))})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"status-toggle \".concat((user.userStatus||user.status)==='enabled'?'enabled':'disabled'),onClick:()=>handleToggleStatus(user.accessKey||user.access_key,user.userStatus||user.status),disabled:(user.accessKey||user.access_key)==='admin',children:(user.userStatus||user.status)==='enabled'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToggleRight,{size:16}),\" \\uD65C\\uC131\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToggleLeft,{size:16}),\" \\uBE44\\uD65C\\uC131\"]})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleDeleteUser(user.accessKey||user.access_key),disabled:(user.accessKey||user.access_key)==='admin',title:\"\\uC0AD\\uC81C\",children:/*#__PURE__*/_jsx(UserMinus,{size:14})})})]},user.accessKey||user.access_key))})]})})]});};// 버킷별 사용자 접근 권한 관리 컴포넌트\nexport const BucketUserAccessManager=_ref10=>{let{bucketName,showToast}=_ref10;const[users,setUsers]=useState([]);const[allUsers,setAllUsers]=useState([]);const[loading,setLoading]=useState(true);const[showAddUser,setShowAddUser]=useState(false);const[newPermission,setNewPermission]=useState({user:'',access:'read',quota_gb:''});const[bucketQuota,setBucketQuota]=useState(null);const[quotaInput,setQuotaInput]=useState('');const fetchData=useCallback(async()=>{try{var _quotaRes$data;setLoading(true);const[usersRes,allUsersRes,quotaRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users\")),axios.get(\"\".concat(API_BASE,\"/storage/iam/users\")).catch(()=>({data:{users:[]}})),axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/quota\")).catch(()=>({data:null}))]);setUsers(usersRes.data.users||[]);setAllUsers(allUsersRes.data.users||[]);setBucketQuota(quotaRes.data);if((_quotaRes$data=quotaRes.data)!==null&&_quotaRes$data!==void 0&&_quotaRes$data.quota_bytes){setQuotaInput((quotaRes.data.quota_bytes/(1024*1024*1024)).toFixed(1));}}catch(error){showToast('버킷 사용자 정보 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchData();},[fetchData]);const handleAddUser=async()=>{if(!newPermission.user){showToast('사용자를 선택하세요','error');return;}try{await axios.post(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users\"),{user:newPermission.user,access:newPermission.access,quota_gb:newPermission.quota_gb?parseFloat(newPermission.quota_gb):null});showToast(\"'\".concat(newPermission.user,\"'\\uC5D0\\uAC8C \\uC811\\uADFC \\uAD8C\\uD55C\\uC774 \\uBD80\\uC5EC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowAddUser(false);setNewPermission({user:'',access:'read',quota_gb:''});fetchData();}catch(error){var _error$response4,_error$response4$data;showToast(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||'권한 부여 실패','error');}};const handleRemoveUser=async user=>{if(!window.confirm(\"'\".concat(user,\"'\\uC758 \\uC811\\uADFC \\uAD8C\\uD55C\\uC744 \\uC81C\\uAC70\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users/\").concat(user));showToast(\"'\".concat(user,\"'\\uC758 \\uC811\\uADFC \\uAD8C\\uD55C\\uC774 \\uC81C\\uAC70\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchData();}catch(error){var _error$response5,_error$response5$data;showToast(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||'권한 제거 실패','error');}};const handleUpdateAccess=async(user,access)=>{try{const existingUser=users.find(u=>u.user===user);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users/\").concat(user),{user,access,quota_gb:existingUser!==null&&existingUser!==void 0&&existingUser.quota_bytes?existingUser.quota_bytes/(1024*1024*1024):null});showToast('접근 권한이 변경되었습니다');fetchData();}catch(error){showToast('권한 변경 실패','error');}};const handleSetQuota=async()=>{if(!quotaInput){showToast('할당량을 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/quota?quota_gb=\").concat(parseFloat(quotaInput)));showToast(\"\\uBC84\\uD0B7 \\uD560\\uB2F9\\uB7C9\\uC774 \".concat(quotaInput,\"GB\\uB85C \\uC124\\uC815\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchData();}catch(error){var _error$response6,_error$response6$data;showToast(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||'할당량 설정 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bucket-access-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(HardDrive,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uBC84\\uD0B7 \\uD560\\uB2F9\\uB7C9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quota-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quota-info\",children:(bucketQuota===null||bucketQuota===void 0?void 0:bucketQuota.quota_human)&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD604\\uC7AC: \",bucketQuota.used_human,\" / \",bucketQuota.quota_human]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quota-input-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0.1\",placeholder:\"\\uD560\\uB2F9\\uB7C9 (GB)\",value:quotaInput,onChange:e=>setQuotaInput(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"unit\",children:\"GB\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",onClick:handleSetQuota,children:\"\\uC124\\uC815\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(Users,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC0AC\\uC6A9\\uC790 \\uC811\\uADFC \\uAD8C\\uD55C\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uCD94\\uAC00\"]})]}),showAddUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC0AC\\uC6A9\\uC790 \\uAD8C\\uD55C \\uCD94\\uAC00\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC0AC\\uC6A9\\uC790\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPermission.user,onChange:e=>setNewPermission(_objectSpread(_objectSpread({},newPermission),{},{user:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC120\\uD0DD...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"admin\"}),allUsers.map(u=>/*#__PURE__*/_jsx(\"option\",{value:u.accessKey||u.access_key,children:u.accessKey||u.access_key},u.accessKey||u.access_key))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC811\\uADFC \\uAD8C\\uD55C\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPermission.access,onChange:e=>setNewPermission(_objectSpread(_objectSpread({},newPermission),{},{access:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"read\",children:\"\\uC77D\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"write\",children:\"\\uC77D\\uAE30/\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uAD00\\uB9AC\\uC790\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uAC1C\\uC778 \\uD560\\uB2F9\\uB7C9 (GB)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0\",placeholder:\"\\uBB34\\uC81C\\uD55C\",value:newPermission.quota_gb,onChange:e=>setNewPermission(_objectSpread(_objectSpread({},newPermission),{},{quota_gb:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleAddUser,children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uCD94\\uAC00\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowAddUser(false),children:\"\\uCDE8\\uC18C\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Users,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC774 \\uBC84\\uD0B7\\uC5D0 \\uC811\\uADFC \\uAD8C\\uD55C\\uC774 \\uBD80\\uC5EC\\uB41C \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0AC\\uC6A9\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC811\\uADFC \\uAD8C\\uD55C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uD560\\uB2F9\\uB7C9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"access-key\",children:[/*#__PURE__*/_jsx(Key,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:user.user})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:user.access,onChange:e=>handleUpdateAccess(user.user,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"read\",children:\"\\uC77D\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"write\",children:\"\\uC77D\\uAE30/\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uAD00\\uB9AC\\uC790\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:user.quota_human||'무제한'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleRemoveUser(user.user),title:\"\\uC81C\\uAC70\",children:/*#__PURE__*/_jsx(UserMinus,{size:14})})})]},user.user))})]})})]});};// Longhorn 볼륨/스냅샷 관리 컴포넌트\nexport const LonghornManager=_ref11=>{let{showToast}=_ref11;const[volumes,setVolumes]=useState([]);const[selectedVolume,setSelectedVolume]=useState(null);const[snapshots,setSnapshots]=useState([]);const[longhornStatus,setLonghornStatus]=useState(null);const[loading,setLoading]=useState(true);const[snapshotLoading,setSnapshotLoading]=useState(false);const[showCreateSnapshot,setShowCreateSnapshot]=useState(false);const[newSnapshotName,setNewSnapshotName]=useState('');const[expandSize,setExpandSize]=useState('');const[showExpand,setShowExpand]=useState(false);const[errorMessage,setErrorMessage]=useState(null);const fetchData=useCallback(async()=>{try{setLoading(true);setErrorMessage(null);const[statusRes,volumesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/longhorn/status\")),axios.get(\"\".concat(API_BASE,\"/longhorn/volumes\"))]);setLonghornStatus(statusRes.data);setVolumes(volumesRes.data.volumes||[]);}catch(error){var _error$response7,_error$response8,_error$message;// 404 또는 503 에러는 Longhorn 미설치로 처리\nif(((_error$response7=error.response)===null||_error$response7===void 0?void 0:_error$response7.status)===404||((_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.status)===503||error.code==='ERR_NETWORK'||(_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Network Error')){setLonghornStatus({installed:false});setErrorMessage(null);// 미설치는 에러가 아님\n}else{var _error$response9,_error$response9$data;setLonghornStatus({installed:false});setErrorMessage(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.detail)||'Longhorn 서비스에 연결할 수 없습니다.');}}finally{setLoading(false);}},[]);const fetchSnapshots=useCallback(async volumeName=>{if(!volumeName)return;try{setSnapshotLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(volumeName,\"/snapshots\"));setSnapshots(res.data.snapshots||[]);}catch(error){showToast('스냅샷 목록 조회 실패','error');}finally{setSnapshotLoading(false);}},[showToast]);useEffect(()=>{fetchData();},[fetchData]);useEffect(()=>{if(selectedVolume){fetchSnapshots(selectedVolume.name);}},[selectedVolume,fetchSnapshots]);const handleCreateSnapshot=async()=>{if(!newSnapshotName.trim()){showToast('스냅샷 이름을 입력하세요','error');return;}try{await axios.post(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(selectedVolume.name,\"/snapshots\"),{name:newSnapshotName});showToast(\"\\uC2A4\\uB0C5\\uC0F7 '\".concat(newSnapshotName,\"'\\uC774 \\uC0DD\\uC131\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowCreateSnapshot(false);setNewSnapshotName('');fetchSnapshots(selectedVolume.name);}catch(error){var _error$response0,_error$response0$data;showToast(((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.detail)||'스냅샷 생성 실패','error');}};const handleDeleteSnapshot=async snapshotName=>{if(!window.confirm(\"'\".concat(snapshotName,\"' \\uC2A4\\uB0C5\\uC0F7\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{await axios.delete(\"\".concat(API_BASE,\"/longhorn/snapshots/\").concat(snapshotName));showToast(\"\\uC2A4\\uB0C5\\uC0F7 '\".concat(snapshotName,\"'\\uC774 \\uC0AD\\uC81C\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchSnapshots(selectedVolume.name);}catch(error){var _error$response1,_error$response1$data;showToast(((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.detail)||'스냅샷 삭제 실패','error');}};const handleRestoreSnapshot=async snapshotName=>{if(!window.confirm(\"'\".concat(snapshotName,\"' \\uC2A4\\uB0C5\\uC0F7\\uC5D0\\uC11C \\uC0C8 \\uBCFC\\uB968\\uC744 \\uC0DD\\uC131\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{const res=await axios.post(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(selectedVolume.name,\"/restore\"),{snapshot_name:snapshotName});showToast(res.data.message);fetchData();}catch(error){var _error$response10,_error$response10$dat;showToast(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.detail)||'복원 실패','error');}};const handleExpandVolume=async()=>{const sizeGb=parseInt(expandSize);if(!sizeGb||sizeGb<=0){showToast('유효한 크기를 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(selectedVolume.name,\"/expand?size_gb=\").concat(sizeGb));showToast(\"\\uBCFC\\uB968\\uC774 \".concat(sizeGb,\"GB\\uB85C \\uD655\\uC7A5 \\uC694\\uCCAD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowExpand(false);setExpandSize('');fetchData();}catch(error){var _error$response11,_error$response11$dat;showToast(((_error$response11=error.response)===null||_error$response11===void 0?void 0:(_error$response11$dat=_error$response11.data)===null||_error$response11$dat===void 0?void 0:_error$response11$dat.detail)||'볼륨 확장 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}if(!(longhornStatus!==null&&longhornStatus!==void 0&&longhornStatus.installed)){return/*#__PURE__*/_jsxs(\"div\",{className:\"info-box warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Longhorn \\uBBF8\\uC124\\uCE58\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Longhorn\\uC774 \\uC124\\uCE58\\uB418\\uC5B4 \\uC788\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uB3D9\\uC801 \\uBCFC\\uB968 \\uAD00\\uB9AC\\uB97C \\uC0AC\\uC6A9\\uD558\\uB824\\uBA74 Longhorn\\uC744 \\uC124\\uCE58\\uD558\\uC138\\uC694.\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"longhorn-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"longhorn-status-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-card\",children:[/*#__PURE__*/_jsx(Database,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uC804\\uCCB4 \\uC2A4\\uD1A0\\uB9AC\\uC9C0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:longhornStatus.total_storage})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-card\",children:[/*#__PURE__*/_jsx(HardDrive,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uC0AC\\uC6A9 \\uC911\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[longhornStatus.used_storage,\" (\",longhornStatus.usage_percent,\"%)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-card\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uBCFC\\uB968 \\uC218\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[longhornStatus.volume_count,\"\\uAC1C\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"longhorn-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"volume-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Database,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"Longhorn \\uBCFC\\uB968\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:fetchData,title:\"\\uC0C8\\uB85C\\uACE0\\uCE68\",children:/*#__PURE__*/_jsx(RefreshCw,{size:14})})]}),volumes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Database,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"Longhorn \\uBCFC\\uB968\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"volumes\",children:volumes.map(vol=>/*#__PURE__*/_jsxs(\"div\",{className:\"volume-item \".concat((selectedVolume===null||selectedVolume===void 0?void 0:selectedVolume.name)===vol.name?'selected':''),onClick:()=>setSelectedVolume(vol),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"volume-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"volume-name\",children:vol.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"volume-meta\",children:[vol.size_human,\" | \",vol.state,vol.pvc_name&&\" | PVC: \".concat(vol.pvc_name)]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(vol.state==='attached'?'success':'warning'),children:vol.state})]},vol.name))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"snapshot-panel\",children:selectedVolume?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Camera,{size:18}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uC2A4\\uB0C5\\uC0F7 - \",selectedVolume.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-secondary\",onClick:()=>setShowExpand(true),title:\"\\uBCFC\\uB968 \\uD655\\uC7A5\",children:[/*#__PURE__*/_jsx(Expand,{size:14}),\"\\uD655\\uC7A5\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowCreateSnapshot(true),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\"\\uC2A4\\uB0C5\\uC0F7 \\uC0DD\\uC131\"]})]})]}),showExpand&&/*#__PURE__*/_jsxs(\"div\",{className:\"expand-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uBCFC\\uB968 \\uD655\\uC7A5\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"hint\",children:[\"\\uD604\\uC7AC \\uD06C\\uAE30: \",selectedVolume.size_human]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\uC0C8 \\uD06C\\uAE30 (GB)\",value:expandSize,onChange:e=>setExpandSize(e.target.value),min:\"1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"unit\",children:\"GB\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleExpandVolume,children:\"\\uD655\\uC7A5\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowExpand(false),children:\"\\uCDE8\\uC18C\"})]})]}),showCreateSnapshot&&/*#__PURE__*/_jsxs(\"div\",{className:\"create-snapshot-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC0C8 \\uC2A4\\uB0C5\\uC0F7 \\uC0DD\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC2A4\\uB0C5\\uC0F7 \\uC774\\uB984\",value:newSnapshotName,onChange:e=>setNewSnapshotName(e.target.value)}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleCreateSnapshot,children:[/*#__PURE__*/_jsx(Camera,{size:14}),\"\\uC0DD\\uC131\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowCreateSnapshot(false),children:\"\\uCDE8\\uC18C\"})]})]}),snapshotLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC2A4\\uB0C5\\uC0F7 \\uB85C\\uB529 \\uC911...\"})]}):snapshots.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Camera,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC2A4\\uB0C5\\uC0F7\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hint\",children:\"\\uC2A4\\uB0C5\\uC0F7\\uC744 \\uC0DD\\uC131\\uD558\\uC5EC \\uBCFC\\uB968 \\uC0C1\\uD0DC\\uB97C \\uC800\\uC7A5\\uD558\\uC138\\uC694\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"snapshots-list\",children:snapshots.map(snap=>/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"snapshot-name\",children:snap.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"snapshot-meta\",children:[new Date(snap.created).toLocaleString(),\" | \",snap.size_human]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-secondary\",onClick:()=>handleRestoreSnapshot(snap.name),title:\"\\uC774 \\uC2A4\\uB0C5\\uC0F7\\uC5D0\\uC11C \\uC0C8 \\uBCFC\\uB968 \\uC0DD\\uC131\",children:[/*#__PURE__*/_jsx(RotateCcw,{size:14}),\"\\uBCF5\\uC6D0\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleDeleteSnapshot(snap.name),title:\"\\uC2A4\\uB0C5\\uC0F7 \\uC0AD\\uC81C\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},snap.name))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Camera,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBCFC\\uB968\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hint\",children:\"\\uBCFC\\uB968\\uC744 \\uC120\\uD0DD\\uD558\\uBA74 \\uC2A4\\uB0C5\\uC0F7\\uC744 \\uAD00\\uB9AC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})]})})]})]});};// 고급 기능 탭 컴포넌트\nexport const StorageAdvancedTabs=_ref12=>{let{bucketName,selectedObject,showToast}=_ref12;const[activeTab,setActiveTab]=useState('stats');const tabs=[{id:'stats',label:'통계',icon:BarChart3},{id:'policy',label:'정책',icon:Shield},{id:'versioning',label:'버전',icon:GitBranch},{id:'lifecycle',label:'생명주기',icon:Clock},{id:'objectlock',label:'잠금',icon:Lock},{id:'access',label:'접근관리',icon:UserPlus},{id:'presigned',label:'URL 생성',icon:Link},{id:'iam',label:'IAM',icon:Users},{id:'longhorn',label:'스냅샷',icon:Camera}];if(!bucketName){return/*#__PURE__*/_jsx(\"div\",{className:\"advanced-panel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Settings,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC84\\uD0B7\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"storage-advanced\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"advanced-tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),children:[/*#__PURE__*/_jsx(tab.icon,{size:14}),tab.label]},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-content\",children:[activeTab==='stats'&&/*#__PURE__*/_jsx(BucketStats,{bucketName:bucketName,showToast:showToast}),activeTab==='policy'&&/*#__PURE__*/_jsx(BucketPolicyManager,{bucketName:bucketName,showToast:showToast}),activeTab==='versioning'&&/*#__PURE__*/_jsx(VersioningManager,{bucketName:bucketName,showToast:showToast}),activeTab==='lifecycle'&&/*#__PURE__*/_jsx(LifecycleManager,{bucketName:bucketName,showToast:showToast}),activeTab==='objectlock'&&/*#__PURE__*/_jsx(ObjectLockManager,{bucketName:bucketName,showToast:showToast}),activeTab==='access'&&/*#__PURE__*/_jsx(BucketUserAccessManager,{bucketName:bucketName,showToast:showToast}),activeTab==='presigned'&&/*#__PURE__*/_jsx(PresignedUrlGenerator,{bucketName:bucketName,objectName:selectedObject,showToast:showToast}),activeTab==='iam'&&/*#__PURE__*/_jsx(IAMManager,{showToast:showToast}),activeTab==='longhorn'&&/*#__PURE__*/_jsx(LonghornManager,{showToast:showToast})]})]});};export default StorageAdvancedTabs;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","Shield","GitBranch","Upload","Link","Tag","Clock","RefreshCw","Save","Trash2","Plus","X","Copy","CheckCircle","AlertCircle","ChevronDown","ChevronRight","Settings","BarChart3","FileText","Loader2","Lock","Users","UserPlus","UserMinus","Key","Eye","EyeOff","ToggleLeft","ToggleRight","HardDrive","Camera","RotateCcw","Database","Expand","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE","BucketPolicyManager","_ref","bucketName","showToast","policy","setPolicy","templates","setTemplates","loading","setLoading","editing","setEditing","policyJson","setPolicyJson","initialLoadDone","useRef","fetchPolicy","policyRes","templatesRes","Promise","all","get","concat","data","JSON","stringify","error","current","handleApplyTemplate","template","delete","policyWithBucket","parse","replace","put","name","handleSavePolicy","parsedPolicy","SyntaxError","className","children","size","map","onClick","description","value","onChange","e","target","rows","VersioningManager","_ref2","versioning","setVersioning","updating","setUpdating","fetchVersioning","res","handleToggleVersioning","newStatus","status","enabled","isEnabled","disabled","PresignedUrlGenerator","_ref3","objectName","url","setUrl","method","setMethod","expiresHours","setExpiresHours","copied","setCopied","handleGenerate","post","object_name","expires_hours","handleCopy","navigator","clipboard","writeText","setTimeout","type","Number","expires_in","ObjectTagsManager","_ref4","onClose","tags","setTags","newKey","setNewKey","newValue","setNewValue","saving","setSaving","fetchTags","encodeURIComponent","handleAddTag","trim","_objectSpread","handleRemoveTag","key","newTags","handleSave","Object","keys","length","entries","_ref5","placeholder","LifecycleManager","_ref6","rules","setRules","showAddRule","setShowAddRule","newRule","setNewRule","rule_id","prefix","expiration_days","fetchLifecycle","rulesRes","rule","Date","now","handleAddRule","handleDeleteRule","ruleId","updatedRules","filter","r","noncurrent_expiration_days","stopPropagation","min","checked","BucketStats","_ref7","stats","setStats","isRefreshing","setIsRefreshing","fetchStats","isBackground","arguments","undefined","interval","setInterval","clearInterval","total_objects","total_folders","total_size_human","versioning_enabled","file_types","_ref8","ext","count","size_distribution","_ref9","range","style","width","Math","max","ObjectLockManager","_ref0","config","setConfig","mode","setMode","duration","setDuration","durationUnit","setDurationUnit","fetchConfig","duration_unit","_error$response","_error$response$data","response","detail","parseInt","IAMManager","_ref1","users","setUsers","policies","setPolicies","showAddUser","setShowAddUser","newUser","setNewUser","access_key","secret_key","showSecrets","setShowSecrets","fetchUsers","usersRes","policiesRes","handleCreateUser","_error$response2","_error$response2$data","handleDeleteUser","accessKey","window","confirm","_error$response3","_error$response3$data","handleToggleStatus","currentStatus","handleChangePolicy","p","user","policyName","userStatus","title","BucketUserAccessManager","_ref10","allUsers","setAllUsers","newPermission","setNewPermission","access","quota_gb","bucketQuota","setBucketQuota","quotaInput","setQuotaInput","fetchData","_quotaRes$data","allUsersRes","quotaRes","catch","quota_bytes","toFixed","handleAddUser","parseFloat","_error$response4","_error$response4$data","handleRemoveUser","_error$response5","_error$response5$data","handleUpdateAccess","existingUser","find","u","handleSetQuota","_error$response6","_error$response6$data","quota_human","used_human","step","marginTop","LonghornManager","_ref11","volumes","setVolumes","selectedVolume","setSelectedVolume","snapshots","setSnapshots","longhornStatus","setLonghornStatus","snapshotLoading","setSnapshotLoading","showCreateSnapshot","setShowCreateSnapshot","newSnapshotName","setNewSnapshotName","expandSize","setExpandSize","showExpand","setShowExpand","errorMessage","setErrorMessage","statusRes","volumesRes","_error$response7","_error$response8","_error$message","code","message","includes","installed","_error$response9","_error$response9$data","fetchSnapshots","volumeName","handleCreateSnapshot","_error$response0","_error$response0$data","handleDeleteSnapshot","snapshotName","_error$response1","_error$response1$data","handleRestoreSnapshot","snapshot_name","_error$response10","_error$response10$dat","handleExpandVolume","sizeGb","_error$response11","_error$response11$dat","total_storage","used_storage","usage_percent","volume_count","vol","size_human","state","pvc_name","snap","created","toLocaleString","StorageAdvancedTabs","_ref12","selectedObject","activeTab","setActiveTab","tabs","id","label","icon","tab"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/src/StorageAdvanced.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport {\n  Shield,\n  GitBranch,\n  Upload,\n  Link,\n  Tag,\n  Clock,\n  RefreshCw,\n  Save,\n  Trash2,\n  Plus,\n  X,\n  Copy,\n  CheckCircle,\n  AlertCircle,\n  ChevronDown,\n  ChevronRight,\n  Settings,\n  BarChart3,\n  FileText,\n  Loader2,\n  Lock,\n  Users,\n  UserPlus,\n  UserMinus,\n  Key,\n  Eye,\n  EyeOff,\n  ToggleLeft,\n  ToggleRight,\n  HardDrive,\n  Camera,\n  RotateCcw,\n  Database,\n  Expand\n} from 'lucide-react';\n\nconst API_BASE = '/api';\n\n// 버킷 정책 관리 컴포넌트\nexport const BucketPolicyManager = ({ bucketName, showToast }) => {\n  const [policy, setPolicy] = useState(null);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [policyJson, setPolicyJson] = useState('');\n  const initialLoadDone = React.useRef(false);\n\n  const fetchPolicy = useCallback(async () => {\n    try {\n      const [policyRes, templatesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/policy`),\n        axios.get(`${API_BASE}/storage/policy-templates`)\n      ]);\n      setPolicy(policyRes.data.policy);\n      setPolicyJson(policyRes.data.policy ? JSON.stringify(policyRes.data.policy, null, 2) : '');\n      setTemplates(templatesRes.data.templates || []);\n    } catch (error) {\n      showToast('정책 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n      initialLoadDone.current = true;\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    initialLoadDone.current = false;\n    setLoading(true);\n    fetchPolicy();\n  }, [bucketName, fetchPolicy]);\n\n  const handleApplyTemplate = async (template) => {\n    if (!template.policy) {\n      // private - 정책 삭제\n      try {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/policy`);\n        showToast('버킷이 비공개로 설정되었습니다');\n        fetchPolicy();\n      } catch (error) {\n        showToast('정책 삭제 실패', 'error');\n      }\n      return;\n    }\n\n    const policyWithBucket = JSON.parse(\n      JSON.stringify(template.policy).replace(/BUCKET_NAME/g, bucketName)\n    );\n\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/policy`, {\n        policy: policyWithBucket\n      });\n      showToast(`'${template.name}' 정책이 적용되었습니다`);\n      fetchPolicy();\n    } catch (error) {\n      showToast('정책 적용 실패', 'error');\n    }\n  };\n\n  const handleSavePolicy = async () => {\n    try {\n      const parsedPolicy = JSON.parse(policyJson);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/policy`, {\n        policy: parsedPolicy\n      });\n      showToast('정책이 저장되었습니다');\n      setEditing(false);\n      fetchPolicy();\n    } catch (error) {\n      if (error instanceof SyntaxError) {\n        showToast('올바른 JSON 형식이 아닙니다', 'error');\n      } else {\n        showToast('정책 저장 실패', 'error');\n      }\n    }\n  };\n\n  if (loading && !initialLoadDone.current) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>정책 정보 로딩 중...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel policy-panel\">\n      <div className=\"panel-section\">\n        <h4><Shield size={16} /> 정책 템플릿</h4>\n        <div className=\"template-grid\">\n          {templates.map((template) => (\n            <div\n              key={template.name}\n              className={`template-card ${!template.policy ? 'private' : ''}`}\n              onClick={() => handleApplyTemplate(template)}\n            >\n              <div className=\"template-name\">{template.name}</div>\n              <div className=\"template-desc\">{template.description}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"panel-section\">\n        <div className=\"section-header\">\n          <h4><FileText size={16} /> 현재 정책</h4>\n          <button\n            className={`btn btn-sm ${editing ? 'btn-primary' : ''}`}\n            onClick={() => setEditing(!editing)}\n          >\n            {editing ? '취소' : '편집'}\n          </button>\n        </div>\n\n        {policy ? (\n          editing ? (\n            <div className=\"policy-editor\">\n              <textarea\n                value={policyJson}\n                onChange={(e) => setPolicyJson(e.target.value)}\n                className=\"code-editor\"\n                rows={15}\n              />\n              <div className=\"editor-actions\">\n                <button className=\"btn btn-primary\" onClick={handleSavePolicy}>\n                  <Save size={14} /> 저장\n                </button>\n              </div>\n            </div>\n          ) : (\n            <pre className=\"policy-view\">\n              {JSON.stringify(policy, null, 2)}\n            </pre>\n          )\n        ) : (\n          <div className=\"empty-state\">\n            <Shield size={32} />\n            <p>정책이 설정되지 않음 (비공개)</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 버전 관리 컴포넌트\nexport const VersioningManager = ({ bucketName, showToast }) => {\n  const [versioning, setVersioning] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n\n  const fetchVersioning = useCallback(async () => {\n    try {\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/versioning`);\n      setVersioning(res.data.versioning);\n    } catch (error) {\n      showToast('버전 관리 상태 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchVersioning();\n  }, [bucketName, fetchVersioning]);\n\n  const handleToggleVersioning = async () => {\n    try {\n      setUpdating(true);\n      const newStatus = versioning?.status !== 'Enabled';\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/versioning`, {\n        enabled: newStatus\n      });\n      showToast(`버전 관리가 ${newStatus ? '활성화' : '비활성화'}되었습니다`);\n      fetchVersioning();\n    } catch (error) {\n      showToast('버전 관리 설정 실패', 'error');\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  if (loading && !versioning) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>버전 관리 정보 로딩 중...</p>\n      </div>\n    );\n  }\n\n  const isEnabled = versioning?.status === 'Enabled';\n\n  return (\n    <div className=\"advanced-panel versioning-panel\">\n      <div className=\"versioning-status\">\n        <div className=\"status-info\">\n          <GitBranch size={32} className={isEnabled ? 'enabled' : 'disabled'} />\n          <div>\n            <h4>객체 버전 관리</h4>\n            <p className={`status-text ${isEnabled ? 'enabled' : 'disabled'}`}>\n              {isEnabled ? '활성화됨' : '비활성화됨'}\n            </p>\n          </div>\n        </div>\n        <button\n          className={`btn ${isEnabled ? 'btn-danger' : 'btn-primary'}`}\n          onClick={handleToggleVersioning}\n          disabled={updating}\n        >\n          {updating ? <Loader2 className=\"spin\" size={14} /> : null}\n          {isEnabled ? '비활성화' : '활성화'}\n        </button>\n      </div>\n\n      <div className=\"versioning-info\">\n        <div className=\"info-card\">\n          <CheckCircle size={20} className=\"success\" />\n          <div>\n            <strong>버전 관리 활성화 시</strong>\n            <ul>\n              <li>객체 수정/삭제 시 이전 버전 보존</li>\n              <li>실수로 삭제한 파일 복구 가능</li>\n              <li>변경 이력 추적 가능</li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"info-card warning\">\n          <AlertCircle size={20} className=\"warning\" />\n          <div>\n            <strong>주의사항</strong>\n            <ul>\n              <li>스토리지 사용량 증가</li>\n              <li>한번 활성화하면 완전 비활성화 불가 (Suspended만 가능)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Presigned URL 생성 컴포넌트\nexport const PresignedUrlGenerator = ({ bucketName, objectName, showToast }) => {\n  const [url, setUrl] = useState(null);\n  const [method, setMethod] = useState('GET');\n  const [expiresHours, setExpiresHours] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  const handleGenerate = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.post(`${API_BASE}/storage/buckets/${bucketName}/presigned-url`, {\n        object_name: objectName,\n        expires_hours: expiresHours,\n        method: method\n      });\n      setUrl(res.data);\n      showToast('Presigned URL이 생성되었습니다');\n    } catch (error) {\n      showToast('URL 생성 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCopy = () => {\n    if (url) {\n      navigator.clipboard.writeText(url.url);\n      setCopied(true);\n      showToast('URL이 클립보드에 복사되었습니다');\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  return (\n    <div className=\"advanced-panel presigned-panel\">\n      <h4><Link size={16} /> Presigned URL 생성</h4>\n\n      <div className=\"presigned-form\">\n        <div className=\"form-row\">\n          <label>대상 객체</label>\n          <input type=\"text\" value={objectName || '파일을 선택하세요'} disabled />\n        </div>\n\n        <div className=\"form-row\">\n          <label>작업 유형</label>\n          <select value={method} onChange={(e) => setMethod(e.target.value)}>\n            <option value=\"GET\">다운로드 (GET)</option>\n            <option value=\"PUT\">업로드 (PUT)</option>\n          </select>\n        </div>\n\n        <div className=\"form-row\">\n          <label>유효 시간</label>\n          <select value={expiresHours} onChange={(e) => setExpiresHours(Number(e.target.value))}>\n            <option value={1}>1시간</option>\n            <option value={6}>6시간</option>\n            <option value={12}>12시간</option>\n            <option value={24}>24시간</option>\n            <option value={48}>48시간</option>\n            <option value={168}>7일</option>\n          </select>\n        </div>\n\n        <button\n          className=\"btn btn-primary\"\n          onClick={handleGenerate}\n          disabled={!objectName || loading}\n        >\n          {loading ? <Loader2 className=\"spin\" size={14} /> : <Link size={14} />}\n          URL 생성\n        </button>\n      </div>\n\n      {url && (\n        <div className=\"presigned-result\">\n          <div className=\"url-display\">\n            <code>{url.url}</code>\n            <button className=\"btn-icon\" onClick={handleCopy}>\n              {copied ? <CheckCircle size={16} className=\"success\" /> : <Copy size={16} />}\n            </button>\n          </div>\n          <div className=\"url-info\">\n            <span>유효기간: {url.expires_in}</span>\n            <span>방식: {url.method}</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 객체 태그 관리 컴포넌트\nexport const ObjectTagsManager = ({ bucketName, objectName, showToast, onClose }) => {\n  const [tags, setTags] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [newKey, setNewKey] = useState('');\n  const [newValue, setNewValue] = useState('');\n  const [saving, setSaving] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    if (!objectName) return;\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`);\n      setTags(res.data.tags || {});\n    } catch (error) {\n      // 태그가 없는 경우\n      setTags({});\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, objectName]);\n\n  useEffect(() => {\n    fetchTags();\n  }, [fetchTags]);\n\n  const handleAddTag = () => {\n    if (newKey.trim() && newValue.trim()) {\n      setTags({ ...tags, [newKey.trim()]: newValue.trim() });\n      setNewKey('');\n      setNewValue('');\n    }\n  };\n\n  const handleRemoveTag = (key) => {\n    const newTags = { ...tags };\n    delete newTags[key];\n    setTags(newTags);\n  };\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      if (Object.keys(tags).length === 0) {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`);\n      } else {\n        await axios.put(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`, {\n          tags: tags\n        });\n      }\n      showToast('태그가 저장되었습니다');\n      if (onClose) onClose();\n    } catch (error) {\n      showToast('태그 저장 실패', 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel tags-panel\">\n      <div className=\"tags-header\">\n        <h4><Tag size={16} /> 객체 태그</h4>\n        <span className=\"object-name\">{objectName}</span>\n      </div>\n\n      <div className=\"tags-list\">\n        {Object.entries(tags).map(([key, value]) => (\n          <div key={key} className=\"tag-item\">\n            <span className=\"tag-key\">{key}</span>\n            <span className=\"tag-value\">{value}</span>\n            <button className=\"btn-icon danger\" onClick={() => handleRemoveTag(key)}>\n              <X size={14} />\n            </button>\n          </div>\n        ))}\n\n        {Object.keys(tags).length === 0 && (\n          <div className=\"empty-state small\">\n            <Tag size={24} />\n            <p>태그가 없습니다</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"add-tag-form\">\n        <input\n          type=\"text\"\n          placeholder=\"키\"\n          value={newKey}\n          onChange={(e) => setNewKey(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"값\"\n          value={newValue}\n          onChange={(e) => setNewValue(e.target.value)}\n        />\n        <button className=\"btn btn-secondary\" onClick={handleAddTag}>\n          <Plus size={14} />\n        </button>\n      </div>\n\n      <div className=\"panel-actions\">\n        <button className=\"btn btn-primary\" onClick={handleSave} disabled={saving}>\n          {saving ? <Loader2 className=\"spin\" size={14} /> : <Save size={14} />}\n          저장\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// 생명주기 규칙 관리 컴포넌트\nexport const LifecycleManager = ({ bucketName, showToast }) => {\n  const [rules, setRules] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddRule, setShowAddRule] = useState(false);\n  const [newRule, setNewRule] = useState({\n    rule_id: '',\n    prefix: '',\n    enabled: true,\n    expiration_days: 30\n  });\n\n  const fetchLifecycle = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [rulesRes, templatesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`),\n        axios.get(`${API_BASE}/storage/lifecycle-templates`)\n      ]);\n      setRules(rulesRes.data.rules || []);\n      setTemplates(templatesRes.data.templates || []);\n    } catch (error) {\n      showToast('생명주기 규칙 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchLifecycle();\n  }, [fetchLifecycle]);\n\n  const handleApplyTemplate = async (template) => {\n    const rule = { ...template.rule, rule_id: `${template.name}-${Date.now()}` };\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n        rules: [...rules, rule]\n      });\n      showToast(`'${template.description}' 규칙이 추가되었습니다`);\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 추가 실패', 'error');\n    }\n  };\n\n  const handleAddRule = async () => {\n    if (!newRule.rule_id.trim()) {\n      showToast('규칙 ID를 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n        rules: [...rules, newRule]\n      });\n      showToast('규칙이 추가되었습니다');\n      setShowAddRule(false);\n      setNewRule({ rule_id: '', prefix: '', enabled: true, expiration_days: 30 });\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 추가 실패', 'error');\n    }\n  };\n\n  const handleDeleteRule = async (ruleId) => {\n    try {\n      const updatedRules = rules.filter(r => r.rule_id !== ruleId);\n      if (updatedRules.length === 0) {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`);\n      } else {\n        await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n          rules: updatedRules\n        });\n      }\n      showToast('규칙이 삭제되었습니다');\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 삭제 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>생명주기 규칙 로딩 중...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel lifecycle-panel\">\n      <div className=\"panel-section\">\n        <h4><Clock size={16} /> 규칙 템플릿</h4>\n        <div className=\"template-grid compact\">\n          {templates.map((template) => (\n            <div\n              key={template.name}\n              className=\"template-card small\"\n              onClick={() => handleApplyTemplate(template)}\n            >\n              <div className=\"template-name\">{template.description}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"panel-section\">\n        <div className=\"section-header\">\n          <h4>현재 규칙 ({rules.length})</h4>\n          <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddRule(true)}>\n            <Plus size={14} /> 추가\n          </button>\n        </div>\n\n        {rules.length === 0 ? (\n          <div className=\"empty-state\">\n            <Clock size={32} />\n            <p>생명주기 규칙이 없습니다</p>\n          </div>\n        ) : (\n          <div className=\"rules-list\">\n            {rules.map((rule) => (\n              <div key={rule.rule_id} className={`rule-item ${rule.enabled ? '' : 'disabled'}`}>\n                <div className=\"rule-info\">\n                  <div className=\"rule-id\">{rule.rule_id}</div>\n                  <div className=\"rule-details\">\n                    {rule.prefix && <span>접두사: {rule.prefix}</span>}\n                    {rule.expiration_days && <span>{rule.expiration_days}일 후 삭제</span>}\n                    {rule.noncurrent_expiration_days && <span>이전 버전 {rule.noncurrent_expiration_days}일 후 삭제</span>}\n                  </div>\n                </div>\n                <div className=\"rule-actions\">\n                  <span className={`status-badge ${rule.enabled ? 'running' : 'stopped'}`}>\n                    {rule.enabled ? '활성' : '비활성'}\n                  </span>\n                  <button className=\"btn-icon danger\" onClick={() => handleDeleteRule(rule.rule_id)}>\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {showAddRule && (\n        <div className=\"modal-overlay\" onClick={() => setShowAddRule(false)}>\n          <div className=\"modal-content small\" onClick={e => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>생명주기 규칙 추가</h3>\n              <button className=\"btn-icon\" onClick={() => setShowAddRule(false)}>\n                <X size={20} />\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-group\">\n                <label>규칙 ID</label>\n                <input\n                  type=\"text\"\n                  value={newRule.rule_id}\n                  onChange={(e) => setNewRule({ ...newRule, rule_id: e.target.value })}\n                  placeholder=\"my-rule-1\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>접두사 (선택)</label>\n                <input\n                  type=\"text\"\n                  value={newRule.prefix}\n                  onChange={(e) => setNewRule({ ...newRule, prefix: e.target.value })}\n                  placeholder=\"logs/\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>만료 일수</label>\n                <input\n                  type=\"number\"\n                  value={newRule.expiration_days}\n                  onChange={(e) => setNewRule({ ...newRule, expiration_days: Number(e.target.value) })}\n                  min={1}\n                />\n              </div>\n              <div className=\"form-group checkbox\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={newRule.enabled}\n                    onChange={(e) => setNewRule({ ...newRule, enabled: e.target.checked })}\n                  />\n                  활성화\n                </label>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"btn\" onClick={() => setShowAddRule(false)}>취소</button>\n              <button className=\"btn btn-primary\" onClick={handleAddRule}>추가</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 버킷 통계 컴포넌트\nexport const BucketStats = ({ bucketName, showToast }) => {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const initialLoadDone = React.useRef(false);\n\n  const fetchStats = useCallback(async (isBackground = false) => {\n    try {\n      if (isBackground) {\n        setIsRefreshing(true);\n      }\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/stats`);\n      setStats(res.data.stats);\n    } catch (error) {\n      if (!isBackground) {\n        showToast('통계 조회 실패', 'error');\n      }\n    } finally {\n      setLoading(false);\n      setIsRefreshing(false);\n      initialLoadDone.current = true;\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    initialLoadDone.current = false;\n    setLoading(true);\n    fetchStats(false);\n    // 30초마다 백그라운드 리프레시\n    const interval = setInterval(() => fetchStats(true), 30000);\n    return () => clearInterval(interval);\n  }, [bucketName, fetchStats]);\n\n  if (loading && !stats) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>통계 로딩 중...</p>\n      </div>\n    );\n  }\n\n  if (!stats) return null;\n\n  return (\n    <div className=\"advanced-panel stats-panel\">\n      <div className=\"stats-header\">\n        <h4><BarChart3 size={16} /> 버킷 통계</h4>\n        {isRefreshing && <Loader2 className=\"spin refresh-indicator\" size={14} />}\n      </div>\n\n      <div className=\"stats-grid\">\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_objects}</div>\n          <div className=\"stat-label\">총 객체</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_folders}</div>\n          <div className=\"stat-label\">폴더</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_size_human}</div>\n          <div className=\"stat-label\">총 용량</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className={`stat-value ${stats.versioning_enabled ? 'enabled' : ''}`}>\n            {stats.versioning_enabled ? 'ON' : 'OFF'}\n          </div>\n          <div className=\"stat-label\">버전 관리</div>\n        </div>\n      </div>\n\n      {Object.keys(stats.file_types).length > 0 && (\n        <div className=\"stats-section\">\n          <h5>파일 유형 분포</h5>\n          <div className=\"file-types\">\n            {Object.entries(stats.file_types).map(([ext, count]) => (\n              <div key={ext} className=\"file-type-item\">\n                <span className=\"ext\">.{ext}</span>\n                <span className=\"count\">{count}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"stats-section\">\n        <h5>크기 분포</h5>\n        <div className=\"size-distribution\">\n          {Object.entries(stats.size_distribution).map(([range, count]) => (\n            <div key={range} className=\"size-item\">\n              <span className=\"range\">{range}</span>\n              <div className=\"bar-container\">\n                <div\n                  className=\"bar\"\n                  style={{\n                    width: `${(count / Math.max(stats.total_objects, 1)) * 100}%`\n                  }}\n                />\n              </div>\n              <span className=\"count\">{count}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 객체 잠금 관리 컴포넌트\nexport const ObjectLockManager = ({ bucketName, showToast }) => {\n  const [config, setConfig] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [mode, setMode] = useState('GOVERNANCE');\n  const [duration, setDuration] = useState(30);\n  const [durationUnit, setDurationUnit] = useState('DAYS');\n\n  const fetchConfig = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/object-lock`);\n      setConfig(res.data);\n      if (res.data.mode) setMode(res.data.mode);\n      if (res.data.duration) setDuration(res.data.duration);\n      if (res.data.duration_unit) setDurationUnit(res.data.duration_unit);\n    } catch (error) {\n      showToast('객체 잠금 설정 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchConfig();\n  }, [fetchConfig]);\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/object-lock`, {\n        mode,\n        duration,\n        duration_unit: durationUnit\n      });\n      showToast('객체 잠금 설정이 저장되었습니다');\n      fetchConfig();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '설정 저장 실패', 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"object-lock-manager\">\n      <div className=\"section-header\">\n        <Lock size={18} />\n        <h4>객체 잠금 (Object Lock)</h4>\n      </div>\n\n      {!config?.enabled ? (\n        <div className=\"info-box warning\">\n          <AlertCircle size={16} />\n          <div>\n            <strong>객체 잠금 비활성화</strong>\n            <p>이 버킷은 객체 잠금이 활성화되지 않았습니다. 버킷 생성 시에만 활성화할 수 있습니다.</p>\n          </div>\n        </div>\n      ) : (\n        <>\n          <div className=\"info-box success\">\n            <CheckCircle size={16} />\n            <span>객체 잠금이 활성화되어 있습니다</span>\n          </div>\n\n          <div className=\"form-section\">\n            <h5>기본 보존 정책</h5>\n\n            <div className=\"form-group\">\n              <label>보존 모드</label>\n              <select value={mode} onChange={(e) => setMode(e.target.value)}>\n                <option value=\"GOVERNANCE\">Governance (관리자 삭제 가능)</option>\n                <option value=\"COMPLIANCE\">Compliance (삭제 불가)</option>\n              </select>\n              <span className=\"hint\">\n                {mode === 'GOVERNANCE'\n                  ? '특별 권한으로 삭제 가능'\n                  : '보존 기간 동안 절대 삭제 불가'}\n              </span>\n            </div>\n\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>보존 기간</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={duration}\n                  onChange={(e) => setDuration(parseInt(e.target.value) || 1)}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>단위</label>\n                <select value={durationUnit} onChange={(e) => setDurationUnit(e.target.value)}>\n                  <option value=\"DAYS\">일</option>\n                  <option value=\"YEARS\">년</option>\n                </select>\n              </div>\n            </div>\n\n            <button className=\"btn btn-primary\" onClick={handleSave} disabled={saving}>\n              {saving ? <Loader2 className=\"spin\" size={14} /> : <Save size={14} />}\n              저장\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\n// IAM 사용자 관리 컴포넌트\nexport const IAMManager = ({ showToast }) => {\n  const [users, setUsers] = useState([]);\n  const [policies, setPolicies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [newUser, setNewUser] = useState({ access_key: '', secret_key: '', policy: 'readwrite' });\n  const [showSecrets, setShowSecrets] = useState({});\n\n  const fetchUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [usersRes, policiesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/iam/users`),\n        axios.get(`${API_BASE}/storage/iam/policies`)\n      ]);\n      setUsers(usersRes.data.users || []);\n      setPolicies(policiesRes.data.policies || []);\n    } catch (error) {\n      // Fallback to soft users\n      try {\n        const res = await axios.get(`${API_BASE}/storage/users`);\n        setUsers(res.data.users || []);\n        setPolicies(['readonly', 'readwrite', 'writeonly', 'consoleAdmin']);\n      } catch (e) {\n        showToast('사용자 목록 조회 실패', 'error');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [showToast]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers]);\n\n  const handleCreateUser = async () => {\n    if (!newUser.access_key || !newUser.secret_key) {\n      showToast('Access Key와 Secret Key를 입력하세요', 'error');\n      return;\n    }\n    if (newUser.secret_key.length < 8) {\n      showToast('Secret Key는 8자 이상이어야 합니다', 'error');\n      return;\n    }\n\n    try {\n      await axios.post(`${API_BASE}/storage/iam/users`, newUser);\n      showToast(`사용자 '${newUser.access_key}'가 생성되었습니다`);\n      setShowAddUser(false);\n      setNewUser({ access_key: '', secret_key: '', policy: 'readwrite' });\n      fetchUsers();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '사용자 생성 실패', 'error');\n    }\n  };\n\n  const handleDeleteUser = async (accessKey) => {\n    if (!window.confirm(`'${accessKey}' 사용자를 삭제하시겠습니까?`)) return;\n\n    try {\n      await axios.delete(`${API_BASE}/storage/iam/users/${accessKey}`);\n      showToast(`사용자 '${accessKey}'가 삭제되었습니다`);\n      fetchUsers();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '사용자 삭제 실패', 'error');\n    }\n  };\n\n  const handleToggleStatus = async (accessKey, currentStatus) => {\n    const enabled = currentStatus !== 'enabled';\n    try {\n      await axios.put(`${API_BASE}/storage/iam/users/${accessKey}/status?enabled=${enabled}`);\n      showToast(`사용자가 ${enabled ? '활성화' : '비활성화'}되었습니다`);\n      fetchUsers();\n    } catch (error) {\n      showToast('상태 변경 실패', 'error');\n    }\n  };\n\n  const handleChangePolicy = async (accessKey, policy) => {\n    try {\n      await axios.put(`${API_BASE}/storage/iam/users/${accessKey}/policy?policy=${policy}`);\n      showToast(`정책이 '${policy}'로 변경되었습니다`);\n      fetchUsers();\n    } catch (error) {\n      showToast('정책 변경 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"iam-manager\">\n      <div className=\"section-header\">\n        <Users size={18} />\n        <h4>IAM 사용자 관리</h4>\n        <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddUser(true)}>\n          <UserPlus size={14} />\n          사용자 추가\n        </button>\n      </div>\n\n      {showAddUser && (\n        <div className=\"add-user-form\">\n          <h5>새 사용자 생성</h5>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Access Key</label>\n              <input\n                type=\"text\"\n                placeholder=\"사용자 ID\"\n                value={newUser.access_key}\n                onChange={(e) => setNewUser({ ...newUser, access_key: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Secret Key</label>\n              <input\n                type=\"password\"\n                placeholder=\"비밀번호 (8자 이상)\"\n                value={newUser.secret_key}\n                onChange={(e) => setNewUser({ ...newUser, secret_key: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>정책</label>\n              <select\n                value={newUser.policy}\n                onChange={(e) => setNewUser({ ...newUser, policy: e.target.value })}\n              >\n                {policies.map((p) => (\n                  <option key={p} value={p}>{p}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"form-actions\">\n            <button className=\"btn btn-primary\" onClick={handleCreateUser}>\n              <UserPlus size={14} />\n              생성\n            </button>\n            <button className=\"btn btn-secondary\" onClick={() => setShowAddUser(false)}>\n              취소\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"users-list\">\n        {users.length === 0 ? (\n          <div className=\"empty-state\">\n            <Users size={32} />\n            <p>등록된 사용자가 없습니다</p>\n          </div>\n        ) : (\n          <table className=\"users-table\">\n            <thead>\n              <tr>\n                <th>Access Key</th>\n                <th>정책</th>\n                <th>상태</th>\n                <th>작업</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => (\n                <tr key={user.accessKey || user.access_key}>\n                  <td className=\"access-key\">\n                    <Key size={14} />\n                    <span>{user.accessKey || user.access_key}</span>\n                    {(user.accessKey || user.access_key) === 'admin' && (\n                      <span className=\"badge admin\">관리자</span>\n                    )}\n                  </td>\n                  <td>\n                    <select\n                      value={user.policyName || user.policy || 'readwrite'}\n                      onChange={(e) => handleChangePolicy(user.accessKey || user.access_key, e.target.value)}\n                      disabled={(user.accessKey || user.access_key) === 'admin'}\n                    >\n                      {policies.map((p) => (\n                        <option key={p} value={p}>{p}</option>\n                      ))}\n                    </select>\n                  </td>\n                  <td>\n                    <button\n                      className={`status-toggle ${(user.userStatus || user.status) === 'enabled' ? 'enabled' : 'disabled'}`}\n                      onClick={() => handleToggleStatus(user.accessKey || user.access_key, user.userStatus || user.status)}\n                      disabled={(user.accessKey || user.access_key) === 'admin'}\n                    >\n                      {(user.userStatus || user.status) === 'enabled' ? (\n                        <><ToggleRight size={16} /> 활성</>\n                      ) : (\n                        <><ToggleLeft size={16} /> 비활성</>\n                      )}\n                    </button>\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-sm btn-danger\"\n                      onClick={() => handleDeleteUser(user.accessKey || user.access_key)}\n                      disabled={(user.accessKey || user.access_key) === 'admin'}\n                      title=\"삭제\"\n                    >\n                      <UserMinus size={14} />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 버킷별 사용자 접근 권한 관리 컴포넌트\nexport const BucketUserAccessManager = ({ bucketName, showToast }) => {\n  const [users, setUsers] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [newPermission, setNewPermission] = useState({ user: '', access: 'read', quota_gb: '' });\n  const [bucketQuota, setBucketQuota] = useState(null);\n  const [quotaInput, setQuotaInput] = useState('');\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [usersRes, allUsersRes, quotaRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/users`),\n        axios.get(`${API_BASE}/storage/iam/users`).catch(() => ({ data: { users: [] } })),\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/quota`).catch(() => ({ data: null }))\n      ]);\n      setUsers(usersRes.data.users || []);\n      setAllUsers(allUsersRes.data.users || []);\n      setBucketQuota(quotaRes.data);\n      if (quotaRes.data?.quota_bytes) {\n        setQuotaInput((quotaRes.data.quota_bytes / (1024 * 1024 * 1024)).toFixed(1));\n      }\n    } catch (error) {\n      showToast('버킷 사용자 정보 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleAddUser = async () => {\n    if (!newPermission.user) {\n      showToast('사용자를 선택하세요', 'error');\n      return;\n    }\n\n    try {\n      await axios.post(`${API_BASE}/storage/buckets/${bucketName}/users`, {\n        user: newPermission.user,\n        access: newPermission.access,\n        quota_gb: newPermission.quota_gb ? parseFloat(newPermission.quota_gb) : null\n      });\n      showToast(`'${newPermission.user}'에게 접근 권한이 부여되었습니다`);\n      setShowAddUser(false);\n      setNewPermission({ user: '', access: 'read', quota_gb: '' });\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '권한 부여 실패', 'error');\n    }\n  };\n\n  const handleRemoveUser = async (user) => {\n    if (!window.confirm(`'${user}'의 접근 권한을 제거하시겠습니까?`)) return;\n\n    try {\n      await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/users/${user}`);\n      showToast(`'${user}'의 접근 권한이 제거되었습니다`);\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '권한 제거 실패', 'error');\n    }\n  };\n\n  const handleUpdateAccess = async (user, access) => {\n    try {\n      const existingUser = users.find(u => u.user === user);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/users/${user}`, {\n        user,\n        access,\n        quota_gb: existingUser?.quota_bytes ? existingUser.quota_bytes / (1024 * 1024 * 1024) : null\n      });\n      showToast('접근 권한이 변경되었습니다');\n      fetchData();\n    } catch (error) {\n      showToast('권한 변경 실패', 'error');\n    }\n  };\n\n  const handleSetQuota = async () => {\n    if (!quotaInput) {\n      showToast('할당량을 입력하세요', 'error');\n      return;\n    }\n\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/quota?quota_gb=${parseFloat(quotaInput)}`);\n      showToast(`버킷 할당량이 ${quotaInput}GB로 설정되었습니다`);\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '할당량 설정 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bucket-access-manager\">\n      {/* 버킷 할당량 설정 */}\n      <div className=\"section-header\">\n        <HardDrive size={18} />\n        <h4>버킷 할당량</h4>\n      </div>\n      <div className=\"quota-section\">\n        <div className=\"quota-info\">\n          {bucketQuota?.quota_human && (\n            <span>현재: {bucketQuota.used_human} / {bucketQuota.quota_human}</span>\n          )}\n        </div>\n        <div className=\"quota-input-row\">\n          <input\n            type=\"number\"\n            step=\"0.1\"\n            min=\"0.1\"\n            placeholder=\"할당량 (GB)\"\n            value={quotaInput}\n            onChange={(e) => setQuotaInput(e.target.value)}\n          />\n          <span className=\"unit\">GB</span>\n          <button className=\"btn btn-sm btn-primary\" onClick={handleSetQuota}>\n            설정\n          </button>\n        </div>\n      </div>\n\n      {/* 사용자 접근 권한 */}\n      <div className=\"section-header\" style={{ marginTop: '20px' }}>\n        <Users size={18} />\n        <h4>사용자 접근 권한</h4>\n        <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddUser(true)}>\n          <UserPlus size={14} />\n          추가\n        </button>\n      </div>\n\n      {showAddUser && (\n        <div className=\"add-user-form\">\n          <h5>사용자 권한 추가</h5>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>사용자</label>\n              <select\n                value={newPermission.user}\n                onChange={(e) => setNewPermission({ ...newPermission, user: e.target.value })}\n              >\n                <option value=\"\">선택...</option>\n                <option value=\"admin\">admin</option>\n                {allUsers.map((u) => (\n                  <option key={u.accessKey || u.access_key} value={u.accessKey || u.access_key}>\n                    {u.accessKey || u.access_key}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>접근 권한</label>\n              <select\n                value={newPermission.access}\n                onChange={(e) => setNewPermission({ ...newPermission, access: e.target.value })}\n              >\n                <option value=\"read\">읽기</option>\n                <option value=\"write\">읽기/쓰기</option>\n                <option value=\"admin\">관리자</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>개인 할당량 (GB)</label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                placeholder=\"무제한\"\n                value={newPermission.quota_gb}\n                onChange={(e) => setNewPermission({ ...newPermission, quota_gb: e.target.value })}\n              />\n            </div>\n          </div>\n          <div className=\"form-actions\">\n            <button className=\"btn btn-primary\" onClick={handleAddUser}>\n              <UserPlus size={14} />\n              추가\n            </button>\n            <button className=\"btn btn-secondary\" onClick={() => setShowAddUser(false)}>\n              취소\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"users-list\">\n        {users.length === 0 ? (\n          <div className=\"empty-state\">\n            <Users size={32} />\n            <p>이 버킷에 접근 권한이 부여된 사용자가 없습니다</p>\n          </div>\n        ) : (\n          <table className=\"users-table\">\n            <thead>\n              <tr>\n                <th>사용자</th>\n                <th>접근 권한</th>\n                <th>할당량</th>\n                <th>작업</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => (\n                <tr key={user.user}>\n                  <td className=\"access-key\">\n                    <Key size={14} />\n                    <span>{user.user}</span>\n                  </td>\n                  <td>\n                    <select\n                      value={user.access}\n                      onChange={(e) => handleUpdateAccess(user.user, e.target.value)}\n                    >\n                      <option value=\"read\">읽기</option>\n                      <option value=\"write\">읽기/쓰기</option>\n                      <option value=\"admin\">관리자</option>\n                    </select>\n                  </td>\n                  <td>\n                    {user.quota_human || '무제한'}\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-sm btn-danger\"\n                      onClick={() => handleRemoveUser(user.user)}\n                      title=\"제거\"\n                    >\n                      <UserMinus size={14} />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Longhorn 볼륨/스냅샷 관리 컴포넌트\nexport const LonghornManager = ({ showToast }) => {\n  const [volumes, setVolumes] = useState([]);\n  const [selectedVolume, setSelectedVolume] = useState(null);\n  const [snapshots, setSnapshots] = useState([]);\n  const [longhornStatus, setLonghornStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [snapshotLoading, setSnapshotLoading] = useState(false);\n  const [showCreateSnapshot, setShowCreateSnapshot] = useState(false);\n  const [newSnapshotName, setNewSnapshotName] = useState('');\n  const [expandSize, setExpandSize] = useState('');\n  const [showExpand, setShowExpand] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setErrorMessage(null);\n      const [statusRes, volumesRes] = await Promise.all([\n        axios.get(`${API_BASE}/longhorn/status`),\n        axios.get(`${API_BASE}/longhorn/volumes`)\n      ]);\n      setLonghornStatus(statusRes.data);\n      setVolumes(volumesRes.data.volumes || []);\n    } catch (error) {\n      // 404 또는 503 에러는 Longhorn 미설치로 처리\n      if (error.response?.status === 404 || error.response?.status === 503 ||\n          error.code === 'ERR_NETWORK' || error.message?.includes('Network Error')) {\n        setLonghornStatus({ installed: false });\n        setErrorMessage(null); // 미설치는 에러가 아님\n      } else {\n        setLonghornStatus({ installed: false });\n        setErrorMessage(error.response?.data?.detail || 'Longhorn 서비스에 연결할 수 없습니다.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchSnapshots = useCallback(async (volumeName) => {\n    if (!volumeName) return;\n    try {\n      setSnapshotLoading(true);\n      const res = await axios.get(`${API_BASE}/longhorn/volumes/${volumeName}/snapshots`);\n      setSnapshots(res.data.snapshots || []);\n    } catch (error) {\n      showToast('스냅샷 목록 조회 실패', 'error');\n    } finally {\n      setSnapshotLoading(false);\n    }\n  }, [showToast]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  useEffect(() => {\n    if (selectedVolume) {\n      fetchSnapshots(selectedVolume.name);\n    }\n  }, [selectedVolume, fetchSnapshots]);\n\n  const handleCreateSnapshot = async () => {\n    if (!newSnapshotName.trim()) {\n      showToast('스냅샷 이름을 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.post(`${API_BASE}/longhorn/volumes/${selectedVolume.name}/snapshots`, {\n        name: newSnapshotName\n      });\n      showToast(`스냅샷 '${newSnapshotName}'이 생성되었습니다`);\n      setShowCreateSnapshot(false);\n      setNewSnapshotName('');\n      fetchSnapshots(selectedVolume.name);\n    } catch (error) {\n      showToast(error.response?.data?.detail || '스냅샷 생성 실패', 'error');\n    }\n  };\n\n  const handleDeleteSnapshot = async (snapshotName) => {\n    if (!window.confirm(`'${snapshotName}' 스냅샷을 삭제하시겠습니까?`)) return;\n    try {\n      await axios.delete(`${API_BASE}/longhorn/snapshots/${snapshotName}`);\n      showToast(`스냅샷 '${snapshotName}'이 삭제되었습니다`);\n      fetchSnapshots(selectedVolume.name);\n    } catch (error) {\n      showToast(error.response?.data?.detail || '스냅샷 삭제 실패', 'error');\n    }\n  };\n\n  const handleRestoreSnapshot = async (snapshotName) => {\n    if (!window.confirm(`'${snapshotName}' 스냅샷에서 새 볼륨을 생성하시겠습니까?`)) return;\n    try {\n      const res = await axios.post(`${API_BASE}/longhorn/volumes/${selectedVolume.name}/restore`, {\n        snapshot_name: snapshotName\n      });\n      showToast(res.data.message);\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '복원 실패', 'error');\n    }\n  };\n\n  const handleExpandVolume = async () => {\n    const sizeGb = parseInt(expandSize);\n    if (!sizeGb || sizeGb <= 0) {\n      showToast('유효한 크기를 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.put(`${API_BASE}/longhorn/volumes/${selectedVolume.name}/expand?size_gb=${sizeGb}`);\n      showToast(`볼륨이 ${sizeGb}GB로 확장 요청되었습니다`);\n      setShowExpand(false);\n      setExpandSize('');\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '볼륨 확장 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  if (!longhornStatus?.installed) {\n    return (\n      <div className=\"info-box warning\">\n        <AlertCircle size={16} />\n        <div>\n          <strong>Longhorn 미설치</strong>\n          <p>Longhorn이 설치되어 있지 않습니다. 동적 볼륨 관리를 사용하려면 Longhorn을 설치하세요.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"longhorn-manager\">\n      {/* Longhorn 상태 요약 */}\n      <div className=\"longhorn-status-summary\">\n        <div className=\"status-card\">\n          <Database size={20} />\n          <div>\n            <span className=\"label\">전체 스토리지</span>\n            <span className=\"value\">{longhornStatus.total_storage}</span>\n          </div>\n        </div>\n        <div className=\"status-card\">\n          <HardDrive size={20} />\n          <div>\n            <span className=\"label\">사용 중</span>\n            <span className=\"value\">{longhornStatus.used_storage} ({longhornStatus.usage_percent}%)</span>\n          </div>\n        </div>\n        <div className=\"status-card\">\n          <CheckCircle size={20} />\n          <div>\n            <span className=\"label\">볼륨 수</span>\n            <span className=\"value\">{longhornStatus.volume_count}개</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"longhorn-content\">\n        {/* 볼륨 목록 */}\n        <div className=\"volume-list\">\n          <div className=\"section-header\">\n            <Database size={18} />\n            <h4>Longhorn 볼륨</h4>\n            <button className=\"btn-icon\" onClick={fetchData} title=\"새로고침\">\n              <RefreshCw size={14} />\n            </button>\n          </div>\n\n          {volumes.length === 0 ? (\n            <div className=\"empty-state\">\n              <Database size={32} />\n              <p>Longhorn 볼륨이 없습니다</p>\n            </div>\n          ) : (\n            <div className=\"volumes\">\n              {volumes.map((vol) => (\n                <div\n                  key={vol.name}\n                  className={`volume-item ${selectedVolume?.name === vol.name ? 'selected' : ''}`}\n                  onClick={() => setSelectedVolume(vol)}\n                >\n                  <div className=\"volume-info\">\n                    <span className=\"volume-name\">{vol.name}</span>\n                    <span className=\"volume-meta\">\n                      {vol.size_human} | {vol.state}\n                      {vol.pvc_name && ` | PVC: ${vol.pvc_name}`}\n                    </span>\n                  </div>\n                  <span className={`status-badge ${vol.state === 'attached' ? 'success' : 'warning'}`}>\n                    {vol.state}\n                  </span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* 스냅샷 관리 */}\n        <div className=\"snapshot-panel\">\n          {selectedVolume ? (\n            <>\n              <div className=\"section-header\">\n                <Camera size={18} />\n                <h4>스냅샷 - {selectedVolume.name}</h4>\n                <div className=\"header-actions\">\n                  <button\n                    className=\"btn btn-sm btn-secondary\"\n                    onClick={() => setShowExpand(true)}\n                    title=\"볼륨 확장\"\n                  >\n                    <Expand size={14} />\n                    확장\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-primary\"\n                    onClick={() => setShowCreateSnapshot(true)}\n                  >\n                    <Plus size={14} />\n                    스냅샷 생성\n                  </button>\n                </div>\n              </div>\n\n              {/* 볼륨 확장 폼 */}\n              {showExpand && (\n                <div className=\"expand-form\">\n                  <h5>볼륨 확장</h5>\n                  <p className=\"hint\">현재 크기: {selectedVolume.size_human}</p>\n                  <div className=\"form-row\">\n                    <input\n                      type=\"number\"\n                      placeholder=\"새 크기 (GB)\"\n                      value={expandSize}\n                      onChange={(e) => setExpandSize(e.target.value)}\n                      min=\"1\"\n                    />\n                    <span className=\"unit\">GB</span>\n                    <button className=\"btn btn-primary\" onClick={handleExpandVolume}>\n                      확장\n                    </button>\n                    <button className=\"btn btn-secondary\" onClick={() => setShowExpand(false)}>\n                      취소\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* 스냅샷 생성 폼 */}\n              {showCreateSnapshot && (\n                <div className=\"create-snapshot-form\">\n                  <h5>새 스냅샷 생성</h5>\n                  <div className=\"form-row\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"스냅샷 이름\"\n                      value={newSnapshotName}\n                      onChange={(e) => setNewSnapshotName(e.target.value)}\n                    />\n                    <button className=\"btn btn-primary\" onClick={handleCreateSnapshot}>\n                      <Camera size={14} />\n                      생성\n                    </button>\n                    <button className=\"btn btn-secondary\" onClick={() => setShowCreateSnapshot(false)}>\n                      취소\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* 스냅샷 목록 */}\n              {snapshotLoading ? (\n                <div className=\"loading-state\">\n                  <Loader2 className=\"spin\" size={20} />\n                  <span>스냅샷 로딩 중...</span>\n                </div>\n              ) : snapshots.length === 0 ? (\n                <div className=\"empty-state\">\n                  <Camera size={32} />\n                  <p>스냅샷이 없습니다</p>\n                  <span className=\"hint\">스냅샷을 생성하여 볼륨 상태를 저장하세요</span>\n                </div>\n              ) : (\n                <div className=\"snapshots-list\">\n                  {snapshots.map((snap) => (\n                    <div key={snap.name} className=\"snapshot-item\">\n                      <div className=\"snapshot-info\">\n                        <span className=\"snapshot-name\">{snap.name}</span>\n                        <span className=\"snapshot-meta\">\n                          {new Date(snap.created).toLocaleString()} | {snap.size_human}\n                        </span>\n                      </div>\n                      <div className=\"snapshot-actions\">\n                        <button\n                          className=\"btn btn-sm btn-secondary\"\n                          onClick={() => handleRestoreSnapshot(snap.name)}\n                          title=\"이 스냅샷에서 새 볼륨 생성\"\n                        >\n                          <RotateCcw size={14} />\n                          복원\n                        </button>\n                        <button\n                          className=\"btn btn-sm btn-danger\"\n                          onClick={() => handleDeleteSnapshot(snap.name)}\n                          title=\"스냅샷 삭제\"\n                        >\n                          <Trash2 size={14} />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </>\n          ) : (\n            <div className=\"empty-state\">\n              <Camera size={32} />\n              <p>볼륨을 선택하세요</p>\n              <span className=\"hint\">볼륨을 선택하면 스냅샷을 관리할 수 있습니다</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 고급 기능 탭 컴포넌트\nexport const StorageAdvancedTabs = ({ bucketName, selectedObject, showToast }) => {\n  const [activeTab, setActiveTab] = useState('stats');\n\n  const tabs = [\n    { id: 'stats', label: '통계', icon: BarChart3 },\n    { id: 'policy', label: '정책', icon: Shield },\n    { id: 'versioning', label: '버전', icon: GitBranch },\n    { id: 'lifecycle', label: '생명주기', icon: Clock },\n    { id: 'objectlock', label: '잠금', icon: Lock },\n    { id: 'access', label: '접근관리', icon: UserPlus },\n    { id: 'presigned', label: 'URL 생성', icon: Link },\n    { id: 'iam', label: 'IAM', icon: Users },\n    { id: 'longhorn', label: '스냅샷', icon: Camera },\n  ];\n\n  if (!bucketName) {\n    return (\n      <div className=\"advanced-panel\">\n        <div className=\"empty-state\">\n          <Settings size={32} />\n          <p>버킷을 선택하세요</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"storage-advanced\">\n      <div className=\"advanced-tabs\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            className={`tab-btn ${activeTab === tab.id ? 'active' : ''}`}\n            onClick={() => setActiveTab(tab.id)}\n          >\n            <tab.icon size={14} />\n            {tab.label}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"advanced-content\">\n        {activeTab === 'stats' && (\n          <BucketStats bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'policy' && (\n          <BucketPolicyManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'versioning' && (\n          <VersioningManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'lifecycle' && (\n          <LifecycleManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'objectlock' && (\n          <ObjectLockManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'access' && (\n          <BucketUserAccessManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'presigned' && (\n          <PresignedUrlGenerator\n            bucketName={bucketName}\n            objectName={selectedObject}\n            showToast={showToast}\n          />\n        )}\n        {activeTab === 'iam' && (\n          <IAMManager showToast={showToast} />\n        )}\n        {activeTab === 'longhorn' && (\n          <LonghornManager showToast={showToast} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StorageAdvancedTabs;\n"],"mappings":"kIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACEC,MAAM,CACNC,SAAS,CACTC,MAAM,CACNC,IAAI,CACJC,GAAG,CACHC,KAAK,CACLC,SAAS,CACTC,IAAI,CACJC,MAAM,CACNC,IAAI,CACJC,CAAC,CACDC,IAAI,CACJC,WAAW,CACXC,WAAW,CACXC,WAAW,CACXC,YAAY,CACZC,QAAQ,CACRC,SAAS,CACTC,QAAQ,CACRC,OAAO,CACPC,IAAI,CACJC,KAAK,CACLC,QAAQ,CACRC,SAAS,CACTC,GAAG,CACHC,GAAG,CACHC,MAAM,CACNC,UAAU,CACVC,WAAW,CACXC,SAAS,CACTC,MAAM,CACNC,SAAS,CACTC,QAAQ,CACRC,MAAM,KACD,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,QAAQ,CAAG,MAAM,CAEvB;AACA,MAAO,MAAM,CAAAC,mBAAmB,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,UAAU,CAAEC,SAAU,CAAC,CAAAF,IAAA,CAC3D,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGlD,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACmD,SAAS,CAAEC,YAAY,CAAC,CAAGpD,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuD,OAAO,CAAEC,UAAU,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyD,UAAU,CAAEC,aAAa,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAA2D,eAAe,CAAG5D,KAAK,CAAC6D,MAAM,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAC,WAAW,CAAG3D,WAAW,CAAC,SAAY,CAC1C,GAAI,CACF,KAAM,CAAC4D,SAAS,CAAEC,YAAY,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAClD9D,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,WAAS,CAAC,CAC7D5C,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,6BAA2B,CAAC,CAClD,CAAC,CACFM,SAAS,CAACY,SAAS,CAACM,IAAI,CAACnB,MAAM,CAAC,CAChCS,aAAa,CAACI,SAAS,CAACM,IAAI,CAACnB,MAAM,CAAGoB,IAAI,CAACC,SAAS,CAACR,SAAS,CAACM,IAAI,CAACnB,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAAG,EAAE,CAAC,CAC1FG,YAAY,CAACW,YAAY,CAACK,IAAI,CAACjB,SAAS,EAAI,EAAE,CAAC,CACjD,CAAE,MAAOoB,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACjBK,eAAe,CAACa,OAAO,CAAG,IAAI,CAChC,CACF,CAAC,CAAE,CAACzB,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACd0D,eAAe,CAACa,OAAO,CAAG,KAAK,CAC/BlB,UAAU,CAAC,IAAI,CAAC,CAChBO,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACd,UAAU,CAAEc,WAAW,CAAC,CAAC,CAE7B,KAAM,CAAAY,mBAAmB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC9C,GAAI,CAACA,QAAQ,CAACzB,MAAM,CAAE,CACpB;AACA,GAAI,CACF,KAAM,CAAA9C,KAAK,CAACwE,MAAM,IAAAR,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,WAAS,CAAC,CACtEC,SAAS,CAAC,kBAAkB,CAAC,CAC7Ba,WAAW,CAAC,CAAC,CACf,CAAE,MAAOU,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACA,OACF,CAEA,KAAM,CAAA4B,gBAAgB,CAAGP,IAAI,CAACQ,KAAK,CACjCR,IAAI,CAACC,SAAS,CAACI,QAAQ,CAACzB,MAAM,CAAC,CAAC6B,OAAO,CAAC,cAAc,CAAE/B,UAAU,CACpE,CAAC,CAED,GAAI,CACF,KAAM,CAAA5C,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,YAAW,CAClEE,MAAM,CAAE2B,gBACV,CAAC,CAAC,CACF5B,SAAS,KAAAmB,MAAA,CAAKO,QAAQ,CAACM,IAAI,mEAAe,CAAC,CAC3CnB,WAAW,CAAC,CAAC,CACf,CAAE,MAAOU,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAiC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAGb,IAAI,CAACQ,KAAK,CAACpB,UAAU,CAAC,CAC3C,KAAM,CAAAtD,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,YAAW,CAClEE,MAAM,CAAEiC,YACV,CAAC,CAAC,CACFlC,SAAS,CAAC,aAAa,CAAC,CACxBQ,UAAU,CAAC,KAAK,CAAC,CACjBK,WAAW,CAAC,CAAC,CACf,CAAE,MAAOU,KAAK,CAAE,CACd,GAAIA,KAAK,WAAY,CAAAY,WAAW,CAAE,CAChCnC,SAAS,CAAC,mBAAmB,CAAE,OAAO,CAAC,CACzC,CAAC,IAAM,CACLA,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CACF,CAAC,CAED,GAAIK,OAAO,EAAI,CAACM,eAAe,CAACa,OAAO,CAAE,CACvC,mBACE/B,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,MAAA8C,QAAA,CAAG,kDAAa,CAAG,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C5C,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5C,KAAA,OAAA4C,QAAA,eAAI9C,IAAA,CAACnC,MAAM,EAACkF,IAAI,CAAE,EAAG,CAAE,CAAC,mCAAO,EAAI,CAAC,cACpC/C,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BlC,SAAS,CAACoC,GAAG,CAAEb,QAAQ,eACtBjC,KAAA,QAEE2C,SAAS,kBAAAjB,MAAA,CAAmB,CAACO,QAAQ,CAACzB,MAAM,CAAG,SAAS,CAAG,EAAE,CAAG,CAChEuC,OAAO,CAAEA,CAAA,GAAMf,mBAAmB,CAACC,QAAQ,CAAE,CAAAW,QAAA,eAE7C9C,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,QAAQ,CAACM,IAAI,CAAM,CAAC,cACpDzC,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,QAAQ,CAACe,WAAW,CAAM,CAAC,GALtDf,QAAQ,CAACM,IAMX,CACN,CAAC,CACC,CAAC,EACH,CAAC,cAENvC,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5C,KAAA,OAAA4C,QAAA,eAAI9C,IAAA,CAACjB,QAAQ,EAACgE,IAAI,CAAE,EAAG,CAAE,CAAC,6BAAM,EAAI,CAAC,cACrC/C,IAAA,WACE6C,SAAS,eAAAjB,MAAA,CAAgBZ,OAAO,CAAG,aAAa,CAAG,EAAE,CAAG,CACxDiC,OAAO,CAAEA,CAAA,GAAMhC,UAAU,CAAC,CAACD,OAAO,CAAE,CAAA8B,QAAA,CAEnC9B,OAAO,CAAG,IAAI,CAAG,IAAI,CAChB,CAAC,EACN,CAAC,CAELN,MAAM,CACLM,OAAO,cACLd,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,aACEmD,KAAK,CAAEjC,UAAW,CAClBkC,QAAQ,CAAGC,CAAC,EAAKlC,aAAa,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CN,SAAS,CAAC,aAAa,CACvBU,IAAI,CAAE,EAAG,CACV,CAAC,cACFvD,IAAA,QAAK6C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B5C,KAAA,WAAQ2C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEP,gBAAiB,CAAAI,QAAA,eAC5D9C,IAAA,CAAC5B,IAAI,EAAC2E,IAAI,CAAE,EAAG,CAAE,CAAC,gBACpB,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,cAEN/C,IAAA,QAAK6C,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBhB,IAAI,CAACC,SAAS,CAACrB,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAC7B,CACN,cAEDR,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACnC,MAAM,EAACkF,IAAI,CAAE,EAAG,CAAE,CAAC,cACpB/C,IAAA,MAAA8C,QAAA,CAAG,+EAAiB,CAAG,CAAC,EACrB,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAU,iBAAiB,CAAGC,KAAA,EAA+B,IAA9B,CAAEjD,UAAU,CAAEC,SAAU,CAAC,CAAAgD,KAAA,CACzD,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGlG,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmG,QAAQ,CAAEC,WAAW,CAAC,CAAGpG,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAAqG,eAAe,CAAGnG,WAAW,CAAC,SAAY,CAC9C,GAAI,CACF,KAAM,CAAAoG,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,eAAa,CAAC,CACnFmD,aAAa,CAACI,GAAG,CAAClC,IAAI,CAAC6B,UAAU,CAAC,CACpC,CAAE,MAAO1B,KAAK,CAAE,CACdvB,SAAS,CAAC,gBAAgB,CAAE,OAAO,CAAC,CACtC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACdqD,UAAU,CAAC,IAAI,CAAC,CAChB+C,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACtD,UAAU,CAAEsD,eAAe,CAAC,CAAC,CAEjC,KAAM,CAAAE,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACFH,WAAW,CAAC,IAAI,CAAC,CACjB,KAAM,CAAAI,SAAS,CAAG,CAAAP,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEQ,MAAM,IAAK,SAAS,CAClD,KAAM,CAAAtG,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,gBAAe,CACtE2D,OAAO,CAAEF,SACX,CAAC,CAAC,CACFxD,SAAS,oCAAAmB,MAAA,CAAWqC,SAAS,CAAG,KAAK,CAAG,MAAM,kCAAO,CAAC,CACtDH,eAAe,CAAC,CAAC,CACnB,CAAE,MAAO9B,KAAK,CAAE,CACdvB,SAAS,CAAC,aAAa,CAAE,OAAO,CAAC,CACnC,CAAC,OAAS,CACRoD,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAED,GAAI/C,OAAO,EAAI,CAAC4C,UAAU,CAAE,CAC1B,mBACExD,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,MAAA8C,QAAA,CAAG,+DAAgB,CAAG,CAAC,EACpB,CAAC,CAEV,CAEA,KAAM,CAAAsB,SAAS,CAAG,CAAAV,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEQ,MAAM,IAAK,SAAS,CAElD,mBACEhE,KAAA,QAAK2C,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C5C,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAAClC,SAAS,EAACiF,IAAI,CAAE,EAAG,CAACF,SAAS,CAAEuB,SAAS,CAAG,SAAS,CAAG,UAAW,CAAE,CAAC,cACtElE,KAAA,QAAA4C,QAAA,eACE9C,IAAA,OAAA8C,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjB9C,IAAA,MAAG6C,SAAS,gBAAAjB,MAAA,CAAiBwC,SAAS,CAAG,SAAS,CAAG,UAAU,CAAG,CAAAtB,QAAA,CAC/DsB,SAAS,CAAG,MAAM,CAAG,OAAO,CAC5B,CAAC,EACD,CAAC,EACH,CAAC,cACNlE,KAAA,WACE2C,SAAS,QAAAjB,MAAA,CAASwC,SAAS,CAAG,YAAY,CAAG,aAAa,CAAG,CAC7DnB,OAAO,CAAEe,sBAAuB,CAChCK,QAAQ,CAAET,QAAS,CAAAd,QAAA,EAElBc,QAAQ,cAAG5D,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,IAAI,CACxDqB,SAAS,CAAG,MAAM,CAAG,KAAK,EACrB,CAAC,EACN,CAAC,cAENlE,KAAA,QAAK2C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9C,IAAA,CAACvB,WAAW,EAACsE,IAAI,CAAE,EAAG,CAACF,SAAS,CAAC,SAAS,CAAE,CAAC,cAC7C3C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,WAAA8C,QAAA,CAAQ,qDAAW,CAAQ,CAAC,cAC5B5C,KAAA,OAAA4C,QAAA,eACE9C,IAAA,OAAA8C,QAAA,CAAI,sFAAmB,CAAI,CAAC,cAC5B9C,IAAA,OAAA8C,QAAA,CAAI,8EAAgB,CAAI,CAAC,cACzB9C,IAAA,OAAA8C,QAAA,CAAI,qDAAW,CAAI,CAAC,EAClB,CAAC,EACF,CAAC,EACH,CAAC,cACN5C,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9C,IAAA,CAACtB,WAAW,EAACqE,IAAI,CAAE,EAAG,CAACF,SAAS,CAAC,SAAS,CAAE,CAAC,cAC7C3C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,WAAA8C,QAAA,CAAQ,0BAAI,CAAQ,CAAC,cACrB5C,KAAA,OAAA4C,QAAA,eACE9C,IAAA,OAAA8C,QAAA,CAAI,0DAAW,CAAI,CAAC,cACpB9C,IAAA,OAAA8C,QAAA,CAAI,+HAAmC,CAAI,CAAC,EAC1C,CAAC,EACF,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAwB,qBAAqB,CAAGC,KAAA,EAA2C,IAA1C,CAAE/D,UAAU,CAAEgE,UAAU,CAAE/D,SAAU,CAAC,CAAA8D,KAAA,CACzE,KAAM,CAACE,GAAG,CAAEC,MAAM,CAAC,CAAGjH,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACkH,MAAM,CAAEC,SAAS,CAAC,CAAGnH,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACoH,YAAY,CAAEC,eAAe,CAAC,CAAGrH,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACsH,MAAM,CAAEC,SAAS,CAAC,CAAGvH,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAwH,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACFlE,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAgD,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAACsH,IAAI,IAAAtD,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,mBAAkB,CACtF2E,WAAW,CAAEX,UAAU,CACvBY,aAAa,CAAEP,YAAY,CAC3BF,MAAM,CAAEA,MACV,CAAC,CAAC,CACFD,MAAM,CAACX,GAAG,CAAClC,IAAI,CAAC,CAChBpB,SAAS,CAAC,wBAAwB,CAAC,CACrC,CAAE,MAAOuB,KAAK,CAAE,CACdvB,SAAS,CAAC,WAAW,CAAE,OAAO,CAAC,CACjC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAsE,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAIZ,GAAG,CAAE,CACPa,SAAS,CAACC,SAAS,CAACC,SAAS,CAACf,GAAG,CAACA,GAAG,CAAC,CACtCO,SAAS,CAAC,IAAI,CAAC,CACfvE,SAAS,CAAC,oBAAoB,CAAC,CAC/BgF,UAAU,CAAC,IAAMT,SAAS,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CAC1C,CACF,CAAC,CAED,mBACE9E,KAAA,QAAK2C,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C5C,KAAA,OAAA4C,QAAA,eAAI9C,IAAA,CAAChC,IAAI,EAAC+E,IAAI,CAAE,EAAG,CAAE,CAAC,8BAAiB,EAAI,CAAC,cAE5C7C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5C,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB9C,IAAA,UAAO0F,IAAI,CAAC,MAAM,CAACvC,KAAK,CAAEqB,UAAU,EAAI,WAAY,CAACH,QAAQ,MAAE,CAAC,EAC7D,CAAC,cAENnE,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB5C,KAAA,WAAQiD,KAAK,CAAEwB,MAAO,CAACvB,QAAQ,CAAGC,CAAC,EAAKuB,SAAS,CAACvB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAChE9C,IAAA,WAAQmD,KAAK,CAAC,KAAK,CAAAL,QAAA,CAAC,gCAAU,CAAQ,CAAC,cACvC9C,IAAA,WAAQmD,KAAK,CAAC,KAAK,CAAAL,QAAA,CAAC,0BAAS,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,cAEN5C,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB5C,KAAA,WAAQiD,KAAK,CAAE0B,YAAa,CAACzB,QAAQ,CAAGC,CAAC,EAAKyB,eAAe,CAACa,MAAM,CAACtC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CAAAL,QAAA,eACpF9C,IAAA,WAAQmD,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,eAAG,CAAQ,CAAC,cAC9B9C,IAAA,WAAQmD,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,eAAG,CAAQ,CAAC,cAC9B9C,IAAA,WAAQmD,KAAK,CAAE,EAAG,CAAAL,QAAA,CAAC,gBAAI,CAAQ,CAAC,cAChC9C,IAAA,WAAQmD,KAAK,CAAE,EAAG,CAAAL,QAAA,CAAC,gBAAI,CAAQ,CAAC,cAChC9C,IAAA,WAAQmD,KAAK,CAAE,EAAG,CAAAL,QAAA,CAAC,gBAAI,CAAQ,CAAC,cAChC9C,IAAA,WAAQmD,KAAK,CAAE,GAAI,CAAAL,QAAA,CAAC,SAAE,CAAQ,CAAC,EACzB,CAAC,EACN,CAAC,cAEN5C,KAAA,WACE2C,SAAS,CAAC,iBAAiB,CAC3BI,OAAO,CAAEgC,cAAe,CACxBZ,QAAQ,CAAE,CAACG,UAAU,EAAI1D,OAAQ,CAAAgC,QAAA,EAEhChC,OAAO,cAAGd,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cAAG/C,IAAA,CAAChC,IAAI,EAAC+E,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC,kBAEzE,EAAQ,CAAC,EACN,CAAC,CAEL0B,GAAG,eACFvE,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,SAAA8C,QAAA,CAAO2B,GAAG,CAACA,GAAG,CAAO,CAAC,cACtBzE,IAAA,WAAQ6C,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEoC,UAAW,CAAAvC,QAAA,CAC9CiC,MAAM,cAAG/E,IAAA,CAACvB,WAAW,EAACsE,IAAI,CAAE,EAAG,CAACF,SAAS,CAAC,SAAS,CAAE,CAAC,cAAG7C,IAAA,CAACxB,IAAI,EAACuE,IAAI,CAAE,EAAG,CAAE,CAAC,CACtE,CAAC,EACN,CAAC,cACN7C,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB5C,KAAA,SAAA4C,QAAA,EAAM,4BAAM,CAAC2B,GAAG,CAACmB,UAAU,EAAO,CAAC,cACnC1F,KAAA,SAAA4C,QAAA,EAAM,gBAAI,CAAC2B,GAAG,CAACE,MAAM,EAAO,CAAC,EAC1B,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAkB,iBAAiB,CAAGC,KAAA,EAAoD,IAAnD,CAAEtF,UAAU,CAAEgE,UAAU,CAAE/D,SAAS,CAAEsF,OAAQ,CAAC,CAAAD,KAAA,CAC9E,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGxI,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyI,MAAM,CAAEC,SAAS,CAAC,CAAG1I,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC2I,QAAQ,CAAEC,WAAW,CAAC,CAAG5I,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC6I,MAAM,CAAEC,SAAS,CAAC,CAAG9I,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAA+I,SAAS,CAAG7I,WAAW,CAAC,SAAY,CACxC,GAAI,CAAC6G,UAAU,CAAE,OACjB,GAAI,CACFzD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAgD,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,cAAAoB,MAAA,CAAY6E,kBAAkB,CAACjC,UAAU,CAAC,SAAO,CAAC,CACvHyB,OAAO,CAAClC,GAAG,CAAClC,IAAI,CAACmE,IAAI,EAAI,CAAC,CAAC,CAAC,CAC9B,CAAE,MAAOhE,KAAK,CAAE,CACd;AACAiE,OAAO,CAAC,CAAC,CAAC,CAAC,CACb,CAAC,OAAS,CACRlF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEgE,UAAU,CAAC,CAAC,CAE5B9G,SAAS,CAAC,IAAM,CACd8I,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIR,MAAM,CAACS,IAAI,CAAC,CAAC,EAAIP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAE,CACpCV,OAAO,CAAAW,aAAA,CAAAA,aAAA,IAAMZ,IAAI,MAAE,CAACE,MAAM,CAACS,IAAI,CAAC,CAAC,EAAGP,QAAQ,CAACO,IAAI,CAAC,CAAC,EAAE,CAAC,CACtDR,SAAS,CAAC,EAAE,CAAC,CACbE,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAC,CAED,KAAM,CAAAQ,eAAe,CAAIC,GAAG,EAAK,CAC/B,KAAM,CAAAC,OAAO,CAAAH,aAAA,IAAQZ,IAAI,CAAE,CAC3B,MAAO,CAAAe,OAAO,CAACD,GAAG,CAAC,CACnBb,OAAO,CAACc,OAAO,CAAC,CAClB,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFT,SAAS,CAAC,IAAI,CAAC,CACf,GAAIU,MAAM,CAACC,IAAI,CAAClB,IAAI,CAAC,CAACmB,MAAM,GAAK,CAAC,CAAE,CAClC,KAAM,CAAAvJ,KAAK,CAACwE,MAAM,IAAAR,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,cAAAoB,MAAA,CAAY6E,kBAAkB,CAACjC,UAAU,CAAC,SAAO,CAAC,CAChH,CAAC,IAAM,CACL,KAAM,CAAA5G,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,cAAAoB,MAAA,CAAY6E,kBAAkB,CAACjC,UAAU,CAAC,UAAS,CAC1GwB,IAAI,CAAEA,IACR,CAAC,CAAC,CACJ,CACAvF,SAAS,CAAC,aAAa,CAAC,CACxB,GAAIsF,OAAO,CAAEA,OAAO,CAAC,CAAC,CACxB,CAAE,MAAO/D,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CAAC,OAAS,CACR8F,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,GAAIzF,OAAO,CAAE,CACX,mBACEd,IAAA,QAAK6C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChC9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,CACnC,CAAC,CAEV,CAEA,mBACE7C,KAAA,QAAK2C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5C,KAAA,OAAA4C,QAAA,eAAI9C,IAAA,CAAC/B,GAAG,EAAC8E,IAAI,CAAE,EAAG,CAAE,CAAC,6BAAM,EAAI,CAAC,cAChC/C,IAAA,SAAM6C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE0B,UAAU,CAAO,CAAC,EAC9C,CAAC,cAENtE,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvBmE,MAAM,CAACG,OAAO,CAACpB,IAAI,CAAC,CAAChD,GAAG,CAACqE,KAAA,MAAC,CAACP,GAAG,CAAE3D,KAAK,CAAC,CAAAkE,KAAA,oBACrCnH,KAAA,QAAe2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACjC9C,IAAA,SAAM6C,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEgE,GAAG,CAAO,CAAC,cACtC9G,IAAA,SAAM6C,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEK,KAAK,CAAO,CAAC,cAC1CnD,IAAA,WAAQ6C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEA,CAAA,GAAM4D,eAAe,CAACC,GAAG,CAAE,CAAAhE,QAAA,cACtE9C,IAAA,CAACzB,CAAC,EAACwE,IAAI,CAAE,EAAG,CAAE,CAAC,CACT,CAAC,GALD+D,GAML,CAAC,EACP,CAAC,CAEDG,MAAM,CAACC,IAAI,CAAClB,IAAI,CAAC,CAACmB,MAAM,GAAK,CAAC,eAC7BjH,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9C,IAAA,CAAC/B,GAAG,EAAC8E,IAAI,CAAE,EAAG,CAAE,CAAC,cACjB/C,IAAA,MAAA8C,QAAA,CAAG,6CAAQ,CAAG,CAAC,EACZ,CACN,EACE,CAAC,cAEN5C,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9C,IAAA,UACE0F,IAAI,CAAC,MAAM,CACX4B,WAAW,CAAC,QAAG,CACfnE,KAAK,CAAE+C,MAAO,CACd9C,QAAQ,CAAGC,CAAC,EAAK8C,SAAS,CAAC9C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5C,CAAC,cACFnD,IAAA,UACE0F,IAAI,CAAC,MAAM,CACX4B,WAAW,CAAC,QAAG,CACfnE,KAAK,CAAEiD,QAAS,CAChBhD,QAAQ,CAAGC,CAAC,EAAKgD,WAAW,CAAChD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,cACFnD,IAAA,WAAQ6C,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEyD,YAAa,CAAA5D,QAAA,cAC1D9C,IAAA,CAAC1B,IAAI,EAACyE,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,EACN,CAAC,cAEN/C,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B5C,KAAA,WAAQ2C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE+D,UAAW,CAAC3C,QAAQ,CAAEiC,MAAO,CAAAxD,QAAA,EACvEwD,MAAM,cAAGtG,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cAAG/C,IAAA,CAAC5B,IAAI,EAAC2E,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC,cAExE,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAwE,gBAAgB,CAAGC,KAAA,EAA+B,IAA9B,CAAEhH,UAAU,CAAEC,SAAU,CAAC,CAAA+G,KAAA,CACxD,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGjK,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmD,SAAS,CAAEC,YAAY,CAAC,CAAGpD,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACkK,WAAW,CAAEC,cAAc,CAAC,CAAGnK,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACoK,OAAO,CAAEC,UAAU,CAAC,CAAGrK,QAAQ,CAAC,CACrCsK,OAAO,CAAE,EAAE,CACXC,MAAM,CAAE,EAAE,CACV7D,OAAO,CAAE,IAAI,CACb8D,eAAe,CAAE,EACnB,CAAC,CAAC,CAEF,KAAM,CAAAC,cAAc,CAAGvK,WAAW,CAAC,SAAY,CAC7C,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAACoH,QAAQ,CAAE3G,YAAY,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACjD9D,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,cAAY,CAAC,CAChE5C,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,gCAA8B,CAAC,CACrD,CAAC,CACFqH,QAAQ,CAACS,QAAQ,CAACtG,IAAI,CAAC4F,KAAK,EAAI,EAAE,CAAC,CACnC5G,YAAY,CAACW,YAAY,CAACK,IAAI,CAACjB,SAAS,EAAI,EAAE,CAAC,CACjD,CAAE,MAAOoB,KAAK,CAAE,CACdvB,SAAS,CAAC,eAAe,CAAE,OAAO,CAAC,CACrC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACdwK,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACA,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAhG,mBAAmB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC9C,KAAM,CAAAiG,IAAI,CAAAxB,aAAA,CAAAA,aAAA,IAAQzE,QAAQ,CAACiG,IAAI,MAAEL,OAAO,IAAAnG,MAAA,CAAKO,QAAQ,CAACM,IAAI,MAAAb,MAAA,CAAIyG,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE,EAAE,CAC5E,GAAI,CACF,KAAM,CAAA1K,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,eAAc,CACrEiH,KAAK,CAAE,CAAC,GAAGA,KAAK,CAAEW,IAAI,CACxB,CAAC,CAAC,CACF3H,SAAS,KAAAmB,MAAA,CAAKO,QAAQ,CAACe,WAAW,mEAAe,CAAC,CAClDgF,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOlG,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAA8H,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CAACV,OAAO,CAACE,OAAO,CAACpB,IAAI,CAAC,CAAC,CAAE,CAC3BlG,SAAS,CAAC,cAAc,CAAE,OAAO,CAAC,CAClC,OACF,CACA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,eAAc,CACrEiH,KAAK,CAAE,CAAC,GAAGA,KAAK,CAAEI,OAAO,CAC3B,CAAC,CAAC,CACFpH,SAAS,CAAC,aAAa,CAAC,CACxBmH,cAAc,CAAC,KAAK,CAAC,CACrBE,UAAU,CAAC,CAAEC,OAAO,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAE7D,OAAO,CAAE,IAAI,CAAE8D,eAAe,CAAE,EAAG,CAAC,CAAC,CAC3EC,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOlG,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAA+H,gBAAgB,CAAG,KAAO,CAAAC,MAAM,EAAK,CACzC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAGjB,KAAK,CAACkB,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACb,OAAO,GAAKU,MAAM,CAAC,CAC5D,GAAIC,YAAY,CAACvB,MAAM,GAAK,CAAC,CAAE,CAC7B,KAAM,CAAAvJ,KAAK,CAACwE,MAAM,IAAAR,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,cAAY,CAAC,CAC3E,CAAC,IAAM,CACL,KAAM,CAAA5C,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,eAAc,CACrEiH,KAAK,CAAEiB,YACT,CAAC,CAAC,CACJ,CACAjI,SAAS,CAAC,aAAa,CAAC,CACxByH,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOlG,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,GAAIK,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,MAAA8C,QAAA,CAAG,8DAAe,CAAG,CAAC,EACnB,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C5C,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5C,KAAA,OAAA4C,QAAA,eAAI9C,IAAA,CAAC9B,KAAK,EAAC6E,IAAI,CAAE,EAAG,CAAE,CAAC,mCAAO,EAAI,CAAC,cACnC/C,IAAA,QAAK6C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnClC,SAAS,CAACoC,GAAG,CAAEb,QAAQ,eACtBnC,IAAA,QAEE6C,SAAS,CAAC,qBAAqB,CAC/BI,OAAO,CAAEA,CAAA,GAAMf,mBAAmB,CAACC,QAAQ,CAAE,CAAAW,QAAA,cAE7C9C,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,QAAQ,CAACe,WAAW,CAAM,CAAC,EAJtDf,QAAQ,CAACM,IAKX,CACN,CAAC,CACC,CAAC,EACH,CAAC,cAENvC,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5C,KAAA,OAAA4C,QAAA,EAAI,6BAAO,CAAC2E,KAAK,CAACN,MAAM,CAAC,GAAC,EAAI,CAAC,cAC/BjH,KAAA,WAAQ2C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEA,CAAA,GAAM2E,cAAc,CAAC,IAAI,CAAE,CAAA9E,QAAA,eAC7E9C,IAAA,CAAC1B,IAAI,EAACyE,IAAI,CAAE,EAAG,CAAE,CAAC,gBACpB,EAAQ,CAAC,EACN,CAAC,CAEL0E,KAAK,CAACN,MAAM,GAAK,CAAC,cACjBjH,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAAC9B,KAAK,EAAC6E,IAAI,CAAE,EAAG,CAAE,CAAC,cACnB/C,IAAA,MAAA8C,QAAA,CAAG,sEAAa,CAAG,CAAC,EACjB,CAAC,cAEN9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB2E,KAAK,CAACzE,GAAG,CAAEoF,IAAI,eACdlI,KAAA,QAAwB2C,SAAS,cAAAjB,MAAA,CAAewG,IAAI,CAACjE,OAAO,CAAG,EAAE,CAAG,UAAU,CAAG,CAAArB,QAAA,eAC/E5C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9C,IAAA,QAAK6C,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEsF,IAAI,CAACL,OAAO,CAAM,CAAC,cAC7C7H,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,EAC1BsF,IAAI,CAACJ,MAAM,eAAI9H,KAAA,SAAA4C,QAAA,EAAM,sBAAK,CAACsF,IAAI,CAACJ,MAAM,EAAO,CAAC,CAC9CI,IAAI,CAACH,eAAe,eAAI/H,KAAA,SAAA4C,QAAA,EAAOsF,IAAI,CAACH,eAAe,CAAC,4BAAM,EAAM,CAAC,CACjEG,IAAI,CAACS,0BAA0B,eAAI3I,KAAA,SAAA4C,QAAA,EAAM,4BAAM,CAACsF,IAAI,CAACS,0BAA0B,CAAC,4BAAM,EAAM,CAAC,EAC3F,CAAC,EACH,CAAC,cACN3I,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9C,IAAA,SAAM6C,SAAS,iBAAAjB,MAAA,CAAkBwG,IAAI,CAACjE,OAAO,CAAG,SAAS,CAAG,SAAS,CAAG,CAAArB,QAAA,CACrEsF,IAAI,CAACjE,OAAO,CAAG,IAAI,CAAG,KAAK,CACxB,CAAC,cACPnE,IAAA,WAAQ6C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEA,CAAA,GAAMuF,gBAAgB,CAACJ,IAAI,CAACL,OAAO,CAAE,CAAAjF,QAAA,cAChF9C,IAAA,CAAC3B,MAAM,EAAC0E,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GAhBEqF,IAAI,CAACL,OAiBV,CACN,CAAC,CACC,CACN,EACE,CAAC,CAELJ,WAAW,eACV3H,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAACI,OAAO,CAAEA,CAAA,GAAM2E,cAAc,CAAC,KAAK,CAAE,CAAA9E,QAAA,cAClE5C,KAAA,QAAK2C,SAAS,CAAC,qBAAqB,CAACI,OAAO,CAAEI,CAAC,EAAIA,CAAC,CAACyF,eAAe,CAAC,CAAE,CAAAhG,QAAA,eACrE5C,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9C,IAAA,OAAA8C,QAAA,CAAI,oDAAU,CAAI,CAAC,cACnB9C,IAAA,WAAQ6C,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEA,CAAA,GAAM2E,cAAc,CAAC,KAAK,CAAE,CAAA9E,QAAA,cAChE9C,IAAA,CAACzB,CAAC,EAACwE,IAAI,CAAE,EAAG,CAAE,CAAC,CACT,CAAC,EACN,CAAC,cACN7C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,iBAAK,CAAO,CAAC,cACpB9C,IAAA,UACE0F,IAAI,CAAC,MAAM,CACXvC,KAAK,CAAE0E,OAAO,CAACE,OAAQ,CACvB3E,QAAQ,CAAGC,CAAC,EAAKyE,UAAU,CAAAlB,aAAA,CAAAA,aAAA,IAAMiB,OAAO,MAAEE,OAAO,CAAE1E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACrEmE,WAAW,CAAC,WAAW,CACxB,CAAC,EACC,CAAC,cACNpH,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,mCAAQ,CAAO,CAAC,cACvB9C,IAAA,UACE0F,IAAI,CAAC,MAAM,CACXvC,KAAK,CAAE0E,OAAO,CAACG,MAAO,CACtB5E,QAAQ,CAAGC,CAAC,EAAKyE,UAAU,CAAAlB,aAAA,CAAAA,aAAA,IAAMiB,OAAO,MAAEG,MAAM,CAAE3E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACpEmE,WAAW,CAAC,OAAO,CACpB,CAAC,EACC,CAAC,cACNpH,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB9C,IAAA,UACE0F,IAAI,CAAC,QAAQ,CACbvC,KAAK,CAAE0E,OAAO,CAACI,eAAgB,CAC/B7E,QAAQ,CAAGC,CAAC,EAAKyE,UAAU,CAAAlB,aAAA,CAAAA,aAAA,IAAMiB,OAAO,MAAEI,eAAe,CAAEtC,MAAM,CAACtC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAE,CAAE,CACrF4F,GAAG,CAAE,CAAE,CACR,CAAC,EACC,CAAC,cACN/I,IAAA,QAAK6C,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClC5C,KAAA,UAAA4C,QAAA,eACE9C,IAAA,UACE0F,IAAI,CAAC,UAAU,CACfsD,OAAO,CAAEnB,OAAO,CAAC1D,OAAQ,CACzBf,QAAQ,CAAGC,CAAC,EAAKyE,UAAU,CAAAlB,aAAA,CAAAA,aAAA,IAAMiB,OAAO,MAAE1D,OAAO,CAAEd,CAAC,CAACC,MAAM,CAAC0F,OAAO,EAAE,CAAE,CACxE,CAAC,qBAEJ,EAAO,CAAC,CACL,CAAC,EACH,CAAC,cACN9I,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9C,IAAA,WAAQ6C,SAAS,CAAC,KAAK,CAACI,OAAO,CAAEA,CAAA,GAAM2E,cAAc,CAAC,KAAK,CAAE,CAAA9E,QAAA,CAAC,cAAE,CAAQ,CAAC,cACzE9C,IAAA,WAAQ6C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEsF,aAAc,CAAAzF,QAAA,CAAC,cAAE,CAAQ,CAAC,EACpE,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAmG,WAAW,CAAGC,KAAA,EAA+B,IAA9B,CAAE1I,UAAU,CAAEC,SAAU,CAAC,CAAAyI,KAAA,CACnD,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAG3L,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC4L,YAAY,CAAEC,eAAe,CAAC,CAAG7L,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAA2D,eAAe,CAAG5D,KAAK,CAAC6D,MAAM,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAkI,UAAU,CAAG5L,WAAW,CAAC,gBAAgC,IAAzB,CAAA6L,YAAY,CAAAC,SAAA,CAAAtC,MAAA,IAAAsC,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,KAAK,CACxD,GAAI,CACF,GAAID,YAAY,CAAE,CAChBF,eAAe,CAAC,IAAI,CAAC,CACvB,CACA,KAAM,CAAAvF,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,UAAQ,CAAC,CAC9E4I,QAAQ,CAACrF,GAAG,CAAClC,IAAI,CAACsH,KAAK,CAAC,CAC1B,CAAE,MAAOnH,KAAK,CAAE,CACd,GAAI,CAACwH,YAAY,CAAE,CACjB/I,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACjBuI,eAAe,CAAC,KAAK,CAAC,CACtBlI,eAAe,CAACa,OAAO,CAAG,IAAI,CAChC,CACF,CAAC,CAAE,CAACzB,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACd0D,eAAe,CAACa,OAAO,CAAG,KAAK,CAC/BlB,UAAU,CAAC,IAAI,CAAC,CAChBwI,UAAU,CAAC,KAAK,CAAC,CACjB;AACA,KAAM,CAAAI,QAAQ,CAAGC,WAAW,CAAC,IAAML,UAAU,CAAC,IAAI,CAAC,CAAE,KAAK,CAAC,CAC3D,MAAO,IAAMM,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACnJ,UAAU,CAAE+I,UAAU,CAAC,CAAC,CAE5B,GAAIzI,OAAO,EAAI,CAACqI,KAAK,CAAE,CACrB,mBACEjJ,KAAA,QAAK2C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,MAAA8C,QAAA,CAAG,qCAAU,CAAG,CAAC,EACd,CAAC,CAEV,CAEA,GAAI,CAACqG,KAAK,CAAE,MAAO,KAAI,CAEvB,mBACEjJ,KAAA,QAAK2C,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC5C,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5C,KAAA,OAAA4C,QAAA,eAAI9C,IAAA,CAAClB,SAAS,EAACiE,IAAI,CAAE,EAAG,CAAE,CAAC,6BAAM,EAAI,CAAC,CACrCsG,YAAY,eAAIrJ,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,wBAAwB,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,EACtE,CAAC,cAEN7C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEqG,KAAK,CAACW,aAAa,CAAM,CAAC,cACvD9J,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,qBAAI,CAAK,CAAC,EACnC,CAAC,cACN5C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEqG,KAAK,CAACY,aAAa,CAAM,CAAC,cACvD/J,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,EACjC,CAAC,cACN5C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEqG,KAAK,CAACa,gBAAgB,CAAM,CAAC,cAC1DhK,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,qBAAI,CAAK,CAAC,EACnC,CAAC,cACN5C,KAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9C,IAAA,QAAK6C,SAAS,eAAAjB,MAAA,CAAgBuH,KAAK,CAACc,kBAAkB,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAnH,QAAA,CACvEqG,KAAK,CAACc,kBAAkB,CAAG,IAAI,CAAG,KAAK,CACrC,CAAC,cACNjK,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,2BAAK,CAAK,CAAC,EACpC,CAAC,EACH,CAAC,CAELmE,MAAM,CAACC,IAAI,CAACiC,KAAK,CAACe,UAAU,CAAC,CAAC/C,MAAM,CAAG,CAAC,eACvCjH,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,OAAA8C,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjB9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBmE,MAAM,CAACG,OAAO,CAAC+B,KAAK,CAACe,UAAU,CAAC,CAAClH,GAAG,CAACmH,KAAA,MAAC,CAACC,GAAG,CAAEC,KAAK,CAAC,CAAAF,KAAA,oBACjDjK,KAAA,QAAe2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACvC5C,KAAA,SAAM2C,SAAS,CAAC,KAAK,CAAAC,QAAA,EAAC,GAAC,CAACsH,GAAG,EAAO,CAAC,cACnCpK,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEuH,KAAK,CAAO,CAAC,GAF9BD,GAGL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CACN,cAEDlK,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,OAAA8C,QAAA,CAAI,2BAAK,CAAI,CAAC,cACd9C,IAAA,QAAK6C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BmE,MAAM,CAACG,OAAO,CAAC+B,KAAK,CAACmB,iBAAiB,CAAC,CAACtH,GAAG,CAACuH,KAAA,MAAC,CAACC,KAAK,CAAEH,KAAK,CAAC,CAAAE,KAAA,oBAC1DrK,KAAA,QAAiB2C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACpC9C,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE0H,KAAK,CAAO,CAAC,cACtCxK,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B9C,IAAA,QACE6C,SAAS,CAAC,KAAK,CACf4H,KAAK,CAAE,CACLC,KAAK,IAAA9I,MAAA,CAAMyI,KAAK,CAAGM,IAAI,CAACC,GAAG,CAACzB,KAAK,CAACW,aAAa,CAAE,CAAC,CAAC,CAAI,GAAG,KAC5D,CAAE,CACH,CAAC,CACC,CAAC,cACN9J,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEuH,KAAK,CAAO,CAAC,GAV9BG,KAWL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAK,iBAAiB,CAAGC,KAAA,EAA+B,IAA9B,CAAEtK,UAAU,CAAEC,SAAU,CAAC,CAAAqK,KAAA,CACzD,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGvN,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC6I,MAAM,CAAEC,SAAS,CAAC,CAAG9I,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACwN,IAAI,CAAEC,OAAO,CAAC,CAAGzN,QAAQ,CAAC,YAAY,CAAC,CAC9C,KAAM,CAAC0N,QAAQ,CAAEC,WAAW,CAAC,CAAG3N,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC4N,YAAY,CAAEC,eAAe,CAAC,CAAG7N,QAAQ,CAAC,MAAM,CAAC,CAExD,KAAM,CAAA8N,WAAW,CAAG5N,WAAW,CAAC,SAAY,CAC1C,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAgD,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,gBAAc,CAAC,CACpFwK,SAAS,CAACjH,GAAG,CAAClC,IAAI,CAAC,CACnB,GAAIkC,GAAG,CAAClC,IAAI,CAACoJ,IAAI,CAAEC,OAAO,CAACnH,GAAG,CAAClC,IAAI,CAACoJ,IAAI,CAAC,CACzC,GAAIlH,GAAG,CAAClC,IAAI,CAACsJ,QAAQ,CAAEC,WAAW,CAACrH,GAAG,CAAClC,IAAI,CAACsJ,QAAQ,CAAC,CACrD,GAAIpH,GAAG,CAAClC,IAAI,CAAC2J,aAAa,CAAEF,eAAe,CAACvH,GAAG,CAAClC,IAAI,CAAC2J,aAAa,CAAC,CACrE,CAAE,MAAOxJ,KAAK,CAAE,CACdvB,SAAS,CAAC,gBAAgB,CAAE,OAAO,CAAC,CACtC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACd6N,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAvE,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFT,SAAS,CAAC,IAAI,CAAC,CACf,KAAM,CAAA3I,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,iBAAgB,CACvEyK,IAAI,CACJE,QAAQ,CACRK,aAAa,CAAEH,YACjB,CAAC,CAAC,CACF5K,SAAS,CAAC,mBAAmB,CAAC,CAC9B8K,WAAW,CAAC,CAAC,CACf,CAAE,MAAOvJ,KAAK,CAAE,KAAAyJ,eAAA,CAAAC,oBAAA,CACdjL,SAAS,CAAC,EAAAgL,eAAA,CAAAzJ,KAAK,CAAC2J,QAAQ,UAAAF,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgB5J,IAAI,UAAA6J,oBAAA,iBAApBA,oBAAA,CAAsBE,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CAAC,OAAS,CACRrF,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,GAAIzF,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,SAAA8C,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9C,IAAA,CAACf,IAAI,EAAC8D,IAAI,CAAE,EAAG,CAAE,CAAC,cAClB/C,IAAA,OAAA8C,QAAA,CAAI,yCAAmB,CAAI,CAAC,EACzB,CAAC,CAEL,EAACiI,MAAM,SAANA,MAAM,WAANA,MAAM,CAAE5G,OAAO,eACfjE,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B9C,IAAA,CAACtB,WAAW,EAACqE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzB7C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,WAAA8C,QAAA,CAAQ,oDAAU,CAAQ,CAAC,cAC3B9C,IAAA,MAAA8C,QAAA,CAAG,iOAAgD,CAAG,CAAC,EACpD,CAAC,EACH,CAAC,cAEN5C,KAAA,CAAAE,SAAA,EAAA0C,QAAA,eACE5C,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B9C,IAAA,CAACvB,WAAW,EAACsE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzB/C,IAAA,SAAA8C,QAAA,CAAM,yFAAiB,CAAM,CAAC,EAC3B,CAAC,cAEN5C,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9C,IAAA,OAAA8C,QAAA,CAAI,wCAAQ,CAAI,CAAC,cAEjB5C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB5C,KAAA,WAAQiD,KAAK,CAAE8H,IAAK,CAAC7H,QAAQ,CAAGC,CAAC,EAAK6H,OAAO,CAAC7H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAC5D9C,IAAA,WAAQmD,KAAK,CAAC,YAAY,CAAAL,QAAA,CAAC,2DAAsB,CAAQ,CAAC,cAC1D9C,IAAA,WAAQmD,KAAK,CAAC,YAAY,CAAAL,QAAA,CAAC,wCAAkB,CAAQ,CAAC,EAChD,CAAC,cACT9C,IAAA,SAAM6C,SAAS,CAAC,MAAM,CAAAC,QAAA,CACnBmI,IAAI,GAAK,YAAY,CAClB,eAAe,CACf,mBAAmB,CACnB,CAAC,EACJ,CAAC,cAEN/K,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB5C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB9C,IAAA,UACE0F,IAAI,CAAC,QAAQ,CACbqD,GAAG,CAAC,GAAG,CACP5F,KAAK,CAAEgI,QAAS,CAChB/H,QAAQ,CAAGC,CAAC,EAAK+H,WAAW,CAACS,QAAQ,CAACxI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAI,CAAC,CAAE,CAC7D,CAAC,EACC,CAAC,cACNjD,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,cAAE,CAAO,CAAC,cACjB5C,KAAA,WAAQiD,KAAK,CAAEkI,YAAa,CAACjI,QAAQ,CAAGC,CAAC,EAAKiI,eAAe,CAACjI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAC5E9C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAL,QAAA,CAAC,QAAC,CAAQ,CAAC,cAC/B9C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,QAAC,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,EACH,CAAC,cAEN5C,KAAA,WAAQ2C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE+D,UAAW,CAAC3C,QAAQ,CAAEiC,MAAO,CAAAxD,QAAA,EACvEwD,MAAM,cAAGtG,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cAAG/C,IAAA,CAAC5B,IAAI,EAAC2E,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC,cAExE,EAAQ,CAAC,EACN,CAAC,EACN,CACH,EACE,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAA+I,UAAU,CAAGC,KAAA,EAAmB,IAAlB,CAAEtL,SAAU,CAAC,CAAAsL,KAAA,CACtC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGxO,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyO,QAAQ,CAAEC,WAAW,CAAC,CAAG1O,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC2O,WAAW,CAAEC,cAAc,CAAC,CAAG5O,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC6O,OAAO,CAAEC,UAAU,CAAC,CAAG9O,QAAQ,CAAC,CAAE+O,UAAU,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAE/L,MAAM,CAAE,WAAY,CAAC,CAAC,CAC/F,KAAM,CAACgM,WAAW,CAAEC,cAAc,CAAC,CAAGlP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAElD,KAAM,CAAAmP,UAAU,CAAGjP,WAAW,CAAC,SAAY,CACzC,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAC8L,QAAQ,CAAEC,WAAW,CAAC,CAAG,KAAM,CAAArL,OAAO,CAACC,GAAG,CAAC,CAChD9D,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAoB,CAAC,CAC1CzC,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,yBAAuB,CAAC,CAC9C,CAAC,CACF4L,QAAQ,CAACY,QAAQ,CAAChL,IAAI,CAACmK,KAAK,EAAI,EAAE,CAAC,CACnCG,WAAW,CAACW,WAAW,CAACjL,IAAI,CAACqK,QAAQ,EAAI,EAAE,CAAC,CAC9C,CAAE,MAAOlK,KAAK,CAAE,CACd;AACA,GAAI,CACF,KAAM,CAAA+B,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,kBAAgB,CAAC,CACxD4L,QAAQ,CAAClI,GAAG,CAAClC,IAAI,CAACmK,KAAK,EAAI,EAAE,CAAC,CAC9BG,WAAW,CAAC,CAAC,UAAU,CAAE,WAAW,CAAE,WAAW,CAAE,cAAc,CAAC,CAAC,CACrE,CAAE,MAAO9I,CAAC,CAAE,CACV5C,SAAS,CAAC,cAAc,CAAE,OAAO,CAAC,CACpC,CACF,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACN,SAAS,CAAC,CAAC,CAEf/C,SAAS,CAAC,IAAM,CACdkP,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAG,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CAACT,OAAO,CAACE,UAAU,EAAI,CAACF,OAAO,CAACG,UAAU,CAAE,CAC9ChM,SAAS,CAAC,+BAA+B,CAAE,OAAO,CAAC,CACnD,OACF,CACA,GAAI6L,OAAO,CAACG,UAAU,CAACtF,MAAM,CAAG,CAAC,CAAE,CACjC1G,SAAS,CAAC,0BAA0B,CAAE,OAAO,CAAC,CAC9C,OACF,CAEA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAACsH,IAAI,IAAAtD,MAAA,CAAIvB,QAAQ,uBAAsBiM,OAAO,CAAC,CAC1D7L,SAAS,wBAAAmB,MAAA,CAAS0K,OAAO,CAACE,UAAU,sDAAY,CAAC,CACjDH,cAAc,CAAC,KAAK,CAAC,CACrBE,UAAU,CAAC,CAAEC,UAAU,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAE/L,MAAM,CAAE,WAAY,CAAC,CAAC,CACnEkM,UAAU,CAAC,CAAC,CACd,CAAE,MAAO5K,KAAK,CAAE,KAAAgL,gBAAA,CAAAC,qBAAA,CACdxM,SAAS,CAAC,EAAAuM,gBAAA,CAAAhL,KAAK,CAAC2J,QAAQ,UAAAqB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBnL,IAAI,UAAAoL,qBAAA,iBAApBA,qBAAA,CAAsBrB,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAAsB,gBAAgB,CAAG,KAAO,CAAAC,SAAS,EAAK,CAC5C,GAAI,CAACC,MAAM,CAACC,OAAO,KAAAzL,MAAA,CAAKuL,SAAS,gFAAkB,CAAC,CAAE,OAEtD,GAAI,CACF,KAAM,CAAAvP,KAAK,CAACwE,MAAM,IAAAR,MAAA,CAAIvB,QAAQ,wBAAAuB,MAAA,CAAsBuL,SAAS,CAAE,CAAC,CAChE1M,SAAS,wBAAAmB,MAAA,CAASuL,SAAS,sDAAY,CAAC,CACxCP,UAAU,CAAC,CAAC,CACd,CAAE,MAAO5K,KAAK,CAAE,KAAAsL,gBAAA,CAAAC,qBAAA,CACd9M,SAAS,CAAC,EAAA6M,gBAAA,CAAAtL,KAAK,CAAC2J,QAAQ,UAAA2B,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBzL,IAAI,UAAA0L,qBAAA,iBAApBA,qBAAA,CAAsB3B,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAA4B,kBAAkB,CAAG,KAAAA,CAAOL,SAAS,CAAEM,aAAa,GAAK,CAC7D,KAAM,CAAAtJ,OAAO,CAAGsJ,aAAa,GAAK,SAAS,CAC3C,GAAI,CACF,KAAM,CAAA7P,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,wBAAAuB,MAAA,CAAsBuL,SAAS,qBAAAvL,MAAA,CAAmBuC,OAAO,CAAE,CAAC,CACvF1D,SAAS,6BAAAmB,MAAA,CAASuC,OAAO,CAAG,KAAK,CAAG,MAAM,kCAAO,CAAC,CAClDyI,UAAU,CAAC,CAAC,CACd,CAAE,MAAO5K,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAiN,kBAAkB,CAAG,KAAAA,CAAOP,SAAS,CAAEzM,MAAM,GAAK,CACtD,GAAI,CACF,KAAM,CAAA9C,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,wBAAAuB,MAAA,CAAsBuL,SAAS,oBAAAvL,MAAA,CAAkBlB,MAAM,CAAE,CAAC,CACrFD,SAAS,wBAAAmB,MAAA,CAASlB,MAAM,sDAAY,CAAC,CACrCkM,UAAU,CAAC,CAAC,CACd,CAAE,MAAO5K,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,GAAIK,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,SAAA8C,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9C,IAAA,CAACd,KAAK,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,cACnB/C,IAAA,OAAA8C,QAAA,CAAI,qCAAU,CAAI,CAAC,cACnB5C,KAAA,WAAQ2C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEA,CAAA,GAAMoJ,cAAc,CAAC,IAAI,CAAE,CAAAvJ,QAAA,eAC7E9C,IAAA,CAACb,QAAQ,EAAC4D,IAAI,CAAE,EAAG,CAAE,CAAC,kCAExB,EAAQ,CAAC,EACN,CAAC,CAELqJ,WAAW,eACVlM,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,OAAA8C,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjB5C,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB5C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,YAAU,CAAO,CAAC,cACzB9C,IAAA,UACE0F,IAAI,CAAC,MAAM,CACX4B,WAAW,CAAC,uBAAQ,CACpBnE,KAAK,CAAEmJ,OAAO,CAACE,UAAW,CAC1BpJ,QAAQ,CAAGC,CAAC,EAAKkJ,UAAU,CAAA3F,aAAA,CAAAA,aAAA,IAAM0F,OAAO,MAAEE,UAAU,CAAEnJ,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACzE,CAAC,EACC,CAAC,cACNjD,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,YAAU,CAAO,CAAC,cACzB9C,IAAA,UACE0F,IAAI,CAAC,UAAU,CACf4B,WAAW,CAAC,iDAAc,CAC1BnE,KAAK,CAAEmJ,OAAO,CAACG,UAAW,CAC1BrJ,QAAQ,CAAGC,CAAC,EAAKkJ,UAAU,CAAA3F,aAAA,CAAAA,aAAA,IAAM0F,OAAO,MAAEG,UAAU,CAAEpJ,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACzE,CAAC,EACC,CAAC,cACNjD,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,cAAE,CAAO,CAAC,cACjB9C,IAAA,WACEmD,KAAK,CAAEmJ,OAAO,CAAC5L,MAAO,CACtB0C,QAAQ,CAAGC,CAAC,EAAKkJ,UAAU,CAAA3F,aAAA,CAAAA,aAAA,IAAM0F,OAAO,MAAE5L,MAAM,CAAE2C,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAAL,QAAA,CAEnEoJ,QAAQ,CAAClJ,GAAG,CAAE2K,CAAC,eACd3N,IAAA,WAAgBmD,KAAK,CAAEwK,CAAE,CAAA7K,QAAA,CAAE6K,CAAC,EAAfA,CAAwB,CACtC,CAAC,CACI,CAAC,EACN,CAAC,EACH,CAAC,cACNzN,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5C,KAAA,WAAQ2C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE8J,gBAAiB,CAAAjK,QAAA,eAC5D9C,IAAA,CAACb,QAAQ,EAAC4D,IAAI,CAAE,EAAG,CAAE,CAAC,eAExB,EAAQ,CAAC,cACT/C,IAAA,WAAQ6C,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMoJ,cAAc,CAAC,KAAK,CAAE,CAAAvJ,QAAA,CAAC,cAE5E,CAAQ,CAAC,EACN,CAAC,EACH,CACN,cAED9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBkJ,KAAK,CAAC7E,MAAM,GAAK,CAAC,cACjBjH,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACd,KAAK,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,cACnB/C,IAAA,MAAA8C,QAAA,CAAG,sEAAa,CAAG,CAAC,EACjB,CAAC,cAEN5C,KAAA,UAAO2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5B9C,IAAA,UAAA8C,QAAA,cACE5C,KAAA,OAAA4C,QAAA,eACE9C,IAAA,OAAA8C,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB9C,IAAA,OAAA8C,QAAA,CAAI,cAAE,CAAI,CAAC,cACX9C,IAAA,OAAA8C,QAAA,CAAI,cAAE,CAAI,CAAC,cACX9C,IAAA,OAAA8C,QAAA,CAAI,cAAE,CAAI,CAAC,EACT,CAAC,CACA,CAAC,cACR9C,IAAA,UAAA8C,QAAA,CACGkJ,KAAK,CAAChJ,GAAG,CAAE4K,IAAI,eACd1N,KAAA,OAAA4C,QAAA,eACE5C,KAAA,OAAI2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxB9C,IAAA,CAACX,GAAG,EAAC0D,IAAI,CAAE,EAAG,CAAE,CAAC,cACjB/C,IAAA,SAAA8C,QAAA,CAAO8K,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAO,CAAC,CAC/C,CAACoB,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAO,eAC9CxM,IAAA,SAAM6C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,oBAAG,CAAM,CACxC,EACC,CAAC,cACL9C,IAAA,OAAA8C,QAAA,cACE9C,IAAA,WACEmD,KAAK,CAAEyK,IAAI,CAACC,UAAU,EAAID,IAAI,CAAClN,MAAM,EAAI,WAAY,CACrD0C,QAAQ,CAAGC,CAAC,EAAKqK,kBAAkB,CAACE,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAEnJ,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACvFkB,QAAQ,CAAE,CAACuJ,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAQ,CAAA1J,QAAA,CAEzDoJ,QAAQ,CAAClJ,GAAG,CAAE2K,CAAC,eACd3N,IAAA,WAAgBmD,KAAK,CAAEwK,CAAE,CAAA7K,QAAA,CAAE6K,CAAC,EAAfA,CAAwB,CACtC,CAAC,CACI,CAAC,CACP,CAAC,cACL3N,IAAA,OAAA8C,QAAA,cACE9C,IAAA,WACE6C,SAAS,kBAAAjB,MAAA,CAAmB,CAACgM,IAAI,CAACE,UAAU,EAAIF,IAAI,CAAC1J,MAAM,IAAM,SAAS,CAAG,SAAS,CAAG,UAAU,CAAG,CACtGjB,OAAO,CAAEA,CAAA,GAAMuK,kBAAkB,CAACI,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAEoB,IAAI,CAACE,UAAU,EAAIF,IAAI,CAAC1J,MAAM,CAAE,CACrGG,QAAQ,CAAE,CAACuJ,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAQ,CAAA1J,QAAA,CAEzD,CAAC8K,IAAI,CAACE,UAAU,EAAIF,IAAI,CAAC1J,MAAM,IAAM,SAAS,cAC7ChE,KAAA,CAAAE,SAAA,EAAA0C,QAAA,eAAE9C,IAAA,CAACP,WAAW,EAACsD,IAAI,CAAE,EAAG,CAAE,CAAC,gBAAG,EAAE,CAAC,cAEjC7C,KAAA,CAAAE,SAAA,EAAA0C,QAAA,eAAE9C,IAAA,CAACR,UAAU,EAACuD,IAAI,CAAE,EAAG,CAAE,CAAC,sBAAI,EAAE,CACjC,CACK,CAAC,CACP,CAAC,cACL/C,IAAA,OAAA8C,QAAA,cACE9C,IAAA,WACE6C,SAAS,CAAC,uBAAuB,CACjCI,OAAO,CAAEA,CAAA,GAAMiK,gBAAgB,CAACU,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAE,CACnEnI,QAAQ,CAAE,CAACuJ,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAQ,CAC1DuB,KAAK,CAAC,cAAI,CAAAjL,QAAA,cAEV9C,IAAA,CAACZ,SAAS,EAAC2D,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,CACP,CAAC,GAzCE6K,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UA0C5B,CACL,CAAC,CACG,CAAC,EACH,CACR,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAwB,uBAAuB,CAAGC,MAAA,EAA+B,IAA9B,CAAEzN,UAAU,CAAEC,SAAU,CAAC,CAAAwN,MAAA,CAC/D,KAAM,CAACjC,KAAK,CAAEC,QAAQ,CAAC,CAAGxO,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyQ,QAAQ,CAAEC,WAAW,CAAC,CAAG1Q,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC2O,WAAW,CAAEC,cAAc,CAAC,CAAG5O,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC2Q,aAAa,CAAEC,gBAAgB,CAAC,CAAG5Q,QAAQ,CAAC,CAAEmQ,IAAI,CAAE,EAAE,CAAEU,MAAM,CAAE,MAAM,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC9F,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGhR,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACiR,UAAU,CAAEC,aAAa,CAAC,CAAGlR,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAmR,SAAS,CAAGjR,WAAW,CAAC,SAAY,CACxC,GAAI,KAAAkR,cAAA,CACF9N,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAC8L,QAAQ,CAAEiC,WAAW,CAAEC,QAAQ,CAAC,CAAG,KAAM,CAAAtN,OAAO,CAACC,GAAG,CAAC,CAC1D9D,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,UAAQ,CAAC,CAC5D5C,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAoB,CAAC,CAAC2O,KAAK,CAAC,KAAO,CAAEnN,IAAI,CAAE,CAAEmK,KAAK,CAAE,EAAG,CAAE,CAAC,CAAC,CAAC,CACjFpO,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,UAAQ,CAAC,CAACwO,KAAK,CAAC,KAAO,CAAEnN,IAAI,CAAE,IAAK,CAAC,CAAC,CAAC,CAC3F,CAAC,CACFoK,QAAQ,CAACY,QAAQ,CAAChL,IAAI,CAACmK,KAAK,EAAI,EAAE,CAAC,CACnCmC,WAAW,CAACW,WAAW,CAACjN,IAAI,CAACmK,KAAK,EAAI,EAAE,CAAC,CACzCyC,cAAc,CAACM,QAAQ,CAAClN,IAAI,CAAC,CAC7B,IAAAgN,cAAA,CAAIE,QAAQ,CAAClN,IAAI,UAAAgN,cAAA,WAAbA,cAAA,CAAeI,WAAW,CAAE,CAC9BN,aAAa,CAAC,CAACI,QAAQ,CAAClN,IAAI,CAACoN,WAAW,EAAI,IAAI,CAAG,IAAI,CAAG,IAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC9E,CACF,CAAE,MAAOlN,KAAK,CAAE,CACdvB,SAAS,CAAC,iBAAiB,CAAE,OAAO,CAAC,CACvC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACdkR,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAO,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CAACf,aAAa,CAACR,IAAI,CAAE,CACvBnN,SAAS,CAAC,YAAY,CAAE,OAAO,CAAC,CAChC,OACF,CAEA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAACsH,IAAI,IAAAtD,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,WAAU,CAClEoN,IAAI,CAAEQ,aAAa,CAACR,IAAI,CACxBU,MAAM,CAAEF,aAAa,CAACE,MAAM,CAC5BC,QAAQ,CAAEH,aAAa,CAACG,QAAQ,CAAGa,UAAU,CAAChB,aAAa,CAACG,QAAQ,CAAC,CAAG,IAC1E,CAAC,CAAC,CACF9N,SAAS,KAAAmB,MAAA,CAAKwM,aAAa,CAACR,IAAI,4FAAoB,CAAC,CACrDvB,cAAc,CAAC,KAAK,CAAC,CACrBgC,gBAAgB,CAAC,CAAET,IAAI,CAAE,EAAE,CAAEU,MAAM,CAAE,MAAM,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC5DK,SAAS,CAAC,CAAC,CACb,CAAE,MAAO5M,KAAK,CAAE,KAAAqN,gBAAA,CAAAC,qBAAA,CACd7O,SAAS,CAAC,EAAA4O,gBAAA,CAAArN,KAAK,CAAC2J,QAAQ,UAAA0D,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBxN,IAAI,UAAAyN,qBAAA,iBAApBA,qBAAA,CAAsB1D,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAA2D,gBAAgB,CAAG,KAAO,CAAA3B,IAAI,EAAK,CACvC,GAAI,CAACR,MAAM,CAACC,OAAO,KAAAzL,MAAA,CAAKgM,IAAI,6FAAqB,CAAC,CAAE,OAEpD,GAAI,CACF,KAAM,CAAAhQ,KAAK,CAACwE,MAAM,IAAAR,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,YAAAoB,MAAA,CAAUgM,IAAI,CAAE,CAAC,CAC7EnN,SAAS,KAAAmB,MAAA,CAAKgM,IAAI,sFAAmB,CAAC,CACtCgB,SAAS,CAAC,CAAC,CACb,CAAE,MAAO5M,KAAK,CAAE,KAAAwN,gBAAA,CAAAC,qBAAA,CACdhP,SAAS,CAAC,EAAA+O,gBAAA,CAAAxN,KAAK,CAAC2J,QAAQ,UAAA6D,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB3N,IAAI,UAAA4N,qBAAA,iBAApBA,qBAAA,CAAsB7D,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAA8D,kBAAkB,CAAG,KAAAA,CAAO9B,IAAI,CAAEU,MAAM,GAAK,CACjD,GAAI,CACF,KAAM,CAAAqB,YAAY,CAAG3D,KAAK,CAAC4D,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACjC,IAAI,GAAKA,IAAI,CAAC,CACrD,KAAM,CAAAhQ,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,YAAAoB,MAAA,CAAUgM,IAAI,EAAI,CACzEA,IAAI,CACJU,MAAM,CACNC,QAAQ,CAAEoB,YAAY,SAAZA,YAAY,WAAZA,YAAY,CAAEV,WAAW,CAAGU,YAAY,CAACV,WAAW,EAAI,IAAI,CAAG,IAAI,CAAG,IAAI,CAAC,CAAG,IAC1F,CAAC,CAAC,CACFxO,SAAS,CAAC,gBAAgB,CAAC,CAC3BmO,SAAS,CAAC,CAAC,CACb,CAAE,MAAO5M,KAAK,CAAE,CACdvB,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAqP,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACpB,UAAU,CAAE,CACfjO,SAAS,CAAC,YAAY,CAAE,OAAO,CAAC,CAChC,OACF,CAEA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,sBAAAuB,MAAA,CAAoBpB,UAAU,qBAAAoB,MAAA,CAAmBwN,UAAU,CAACV,UAAU,CAAC,CAAE,CAAC,CACrGjO,SAAS,0CAAAmB,MAAA,CAAY8M,UAAU,uDAAa,CAAC,CAC7CE,SAAS,CAAC,CAAC,CACb,CAAE,MAAO5M,KAAK,CAAE,KAAA+N,gBAAA,CAAAC,qBAAA,CACdvP,SAAS,CAAC,EAAAsP,gBAAA,CAAA/N,KAAK,CAAC2J,QAAQ,UAAAoE,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBlO,IAAI,UAAAmO,qBAAA,iBAApBA,qBAAA,CAAsBpE,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,GAAI9K,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,SAAA8C,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAEpC5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9C,IAAA,CAACN,SAAS,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,cACvB/C,IAAA,OAAA8C,QAAA,CAAI,iCAAM,CAAI,CAAC,EACZ,CAAC,cACN5C,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB,CAAA0L,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEyB,WAAW,gBACvB/P,KAAA,SAAA4C,QAAA,EAAM,gBAAI,CAAC0L,WAAW,CAAC0B,UAAU,CAAC,KAAG,CAAC1B,WAAW,CAACyB,WAAW,EAAO,CACrE,CACE,CAAC,cACN/P,KAAA,QAAK2C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B9C,IAAA,UACE0F,IAAI,CAAC,QAAQ,CACbyK,IAAI,CAAC,KAAK,CACVpH,GAAG,CAAC,KAAK,CACTzB,WAAW,CAAC,yBAAU,CACtBnE,KAAK,CAAEuL,UAAW,CAClBtL,QAAQ,CAAGC,CAAC,EAAKsL,aAAa,CAACtL,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cACFnD,IAAA,SAAM6C,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,cAChC9C,IAAA,WAAQ6C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAE6M,cAAe,CAAAhN,QAAA,CAAC,cAEpE,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGN5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAC4H,KAAK,CAAE,CAAE2F,SAAS,CAAE,MAAO,CAAE,CAAAtN,QAAA,eAC3D9C,IAAA,CAACd,KAAK,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,cACnB/C,IAAA,OAAA8C,QAAA,CAAI,8CAAS,CAAI,CAAC,cAClB5C,KAAA,WAAQ2C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEA,CAAA,GAAMoJ,cAAc,CAAC,IAAI,CAAE,CAAAvJ,QAAA,eAC7E9C,IAAA,CAACb,QAAQ,EAAC4D,IAAI,CAAE,EAAG,CAAE,CAAC,eAExB,EAAQ,CAAC,EACN,CAAC,CAELqJ,WAAW,eACVlM,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,OAAA8C,QAAA,CAAI,8CAAS,CAAI,CAAC,cAClB5C,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB5C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,oBAAG,CAAO,CAAC,cAClB5C,KAAA,WACEiD,KAAK,CAAEiL,aAAa,CAACR,IAAK,CAC1BxK,QAAQ,CAAGC,CAAC,EAAKgL,gBAAgB,CAAAzH,aAAA,CAAAA,aAAA,IAAMwH,aAAa,MAAER,IAAI,CAAEvK,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAAL,QAAA,eAE9E9C,IAAA,WAAQmD,KAAK,CAAC,EAAE,CAAAL,QAAA,CAAC,iBAAK,CAAQ,CAAC,cAC/B9C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,OAAK,CAAQ,CAAC,CACnCoL,QAAQ,CAAClL,GAAG,CAAE6M,CAAC,eACd7P,IAAA,WAA0CmD,KAAK,CAAE0M,CAAC,CAAC1C,SAAS,EAAI0C,CAAC,CAACrD,UAAW,CAAA1J,QAAA,CAC1E+M,CAAC,CAAC1C,SAAS,EAAI0C,CAAC,CAACrD,UAAU,EADjBqD,CAAC,CAAC1C,SAAS,EAAI0C,CAAC,CAACrD,UAEtB,CACT,CAAC,EACI,CAAC,EACN,CAAC,cACNtM,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB5C,KAAA,WACEiD,KAAK,CAAEiL,aAAa,CAACE,MAAO,CAC5BlL,QAAQ,CAAGC,CAAC,EAAKgL,gBAAgB,CAAAzH,aAAA,CAAAA,aAAA,IAAMwH,aAAa,MAAEE,MAAM,CAAEjL,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAAL,QAAA,eAEhF9C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAL,QAAA,CAAC,cAAE,CAAQ,CAAC,cAChC9C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,2BAAK,CAAQ,CAAC,cACpC9C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,oBAAG,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,cACN5C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9C,IAAA,UAAA8C,QAAA,CAAO,sCAAW,CAAO,CAAC,cAC1B9C,IAAA,UACE0F,IAAI,CAAC,QAAQ,CACbyK,IAAI,CAAC,KAAK,CACVpH,GAAG,CAAC,GAAG,CACPzB,WAAW,CAAC,oBAAK,CACjBnE,KAAK,CAAEiL,aAAa,CAACG,QAAS,CAC9BnL,QAAQ,CAAGC,CAAC,EAAKgL,gBAAgB,CAAAzH,aAAA,CAAAA,aAAA,IAAMwH,aAAa,MAAEG,QAAQ,CAAElL,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACnF,CAAC,EACC,CAAC,EACH,CAAC,cACNjD,KAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B5C,KAAA,WAAQ2C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEkM,aAAc,CAAArM,QAAA,eACzD9C,IAAA,CAACb,QAAQ,EAAC4D,IAAI,CAAE,EAAG,CAAE,CAAC,eAExB,EAAQ,CAAC,cACT/C,IAAA,WAAQ6C,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMoJ,cAAc,CAAC,KAAK,CAAE,CAAAvJ,QAAA,CAAC,cAE5E,CAAQ,CAAC,EACN,CAAC,EACH,CACN,cAED9C,IAAA,QAAK6C,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBkJ,KAAK,CAAC7E,MAAM,GAAK,CAAC,cACjBjH,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACd,KAAK,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,cACnB/C,IAAA,MAAA8C,QAAA,CAAG,gIAA0B,CAAG,CAAC,EAC9B,CAAC,cAEN5C,KAAA,UAAO2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5B9C,IAAA,UAAA8C,QAAA,cACE5C,KAAA,OAAA4C,QAAA,eACE9C,IAAA,OAAA8C,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZ9C,IAAA,OAAA8C,QAAA,CAAI,2BAAK,CAAI,CAAC,cACd9C,IAAA,OAAA8C,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZ9C,IAAA,OAAA8C,QAAA,CAAI,cAAE,CAAI,CAAC,EACT,CAAC,CACA,CAAC,cACR9C,IAAA,UAAA8C,QAAA,CACGkJ,KAAK,CAAChJ,GAAG,CAAE4K,IAAI,eACd1N,KAAA,OAAA4C,QAAA,eACE5C,KAAA,OAAI2C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxB9C,IAAA,CAACX,GAAG,EAAC0D,IAAI,CAAE,EAAG,CAAE,CAAC,cACjB/C,IAAA,SAAA8C,QAAA,CAAO8K,IAAI,CAACA,IAAI,CAAO,CAAC,EACtB,CAAC,cACL5N,IAAA,OAAA8C,QAAA,cACE5C,KAAA,WACEiD,KAAK,CAAEyK,IAAI,CAACU,MAAO,CACnBlL,QAAQ,CAAGC,CAAC,EAAKqM,kBAAkB,CAAC9B,IAAI,CAACA,IAAI,CAAEvK,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAE/D9C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAL,QAAA,CAAC,cAAE,CAAQ,CAAC,cAChC9C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,2BAAK,CAAQ,CAAC,cACpC9C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,oBAAG,CAAQ,CAAC,EAC5B,CAAC,CACP,CAAC,cACL9C,IAAA,OAAA8C,QAAA,CACG8K,IAAI,CAACqC,WAAW,EAAI,KAAK,CACxB,CAAC,cACLjQ,IAAA,OAAA8C,QAAA,cACE9C,IAAA,WACE6C,SAAS,CAAC,uBAAuB,CACjCI,OAAO,CAAEA,CAAA,GAAMsM,gBAAgB,CAAC3B,IAAI,CAACA,IAAI,CAAE,CAC3CG,KAAK,CAAC,cAAI,CAAAjL,QAAA,cAEV9C,IAAA,CAACZ,SAAS,EAAC2D,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,CACP,CAAC,GA1BE6K,IAAI,CAACA,IA2BV,CACL,CAAC,CACG,CAAC,EACH,CACR,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAyC,eAAe,CAAGC,MAAA,EAAmB,IAAlB,CAAE7P,SAAU,CAAC,CAAA6P,MAAA,CAC3C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG/S,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACgT,cAAc,CAAEC,iBAAiB,CAAC,CAAGjT,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACkT,SAAS,CAAEC,YAAY,CAAC,CAAGnT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACoT,cAAc,CAAEC,iBAAiB,CAAC,CAAGrT,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACsT,eAAe,CAAEC,kBAAkB,CAAC,CAAGvT,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACwT,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGzT,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAAC0T,eAAe,CAAEC,kBAAkB,CAAC,CAAG3T,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC4T,UAAU,CAAEC,aAAa,CAAC,CAAG7T,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC8T,UAAU,CAAEC,aAAa,CAAC,CAAG/T,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACgU,YAAY,CAAEC,eAAe,CAAC,CAAGjU,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAmR,SAAS,CAAGjR,WAAW,CAAC,SAAY,CACxC,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB2Q,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAACC,SAAS,CAAEC,UAAU,CAAC,CAAG,KAAM,CAAAnQ,OAAO,CAACC,GAAG,CAAC,CAChD9D,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,oBAAkB,CAAC,CACxCzC,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,qBAAmB,CAAC,CAC1C,CAAC,CACFyQ,iBAAiB,CAACa,SAAS,CAAC9P,IAAI,CAAC,CACjC2O,UAAU,CAACoB,UAAU,CAAC/P,IAAI,CAAC0O,OAAO,EAAI,EAAE,CAAC,CAC3C,CAAE,MAAOvO,KAAK,CAAE,KAAA6P,gBAAA,CAAAC,gBAAA,CAAAC,cAAA,CACd;AACA,GAAI,EAAAF,gBAAA,CAAA7P,KAAK,CAAC2J,QAAQ,UAAAkG,gBAAA,iBAAdA,gBAAA,CAAgB3N,MAAM,IAAK,GAAG,EAAI,EAAA4N,gBAAA,CAAA9P,KAAK,CAAC2J,QAAQ,UAAAmG,gBAAA,iBAAdA,gBAAA,CAAgB5N,MAAM,IAAK,GAAG,EAChElC,KAAK,CAACgQ,IAAI,GAAK,aAAa,GAAAD,cAAA,CAAI/P,KAAK,CAACiQ,OAAO,UAAAF,cAAA,WAAbA,cAAA,CAAeG,QAAQ,CAAC,eAAe,CAAC,CAAE,CAC5EpB,iBAAiB,CAAC,CAAEqB,SAAS,CAAE,KAAM,CAAC,CAAC,CACvCT,eAAe,CAAC,IAAI,CAAC,CAAE;AACzB,CAAC,IAAM,KAAAU,gBAAA,CAAAC,qBAAA,CACLvB,iBAAiB,CAAC,CAAEqB,SAAS,CAAE,KAAM,CAAC,CAAC,CACvCT,eAAe,CAAC,EAAAU,gBAAA,CAAApQ,KAAK,CAAC2J,QAAQ,UAAAyG,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBvQ,IAAI,UAAAwQ,qBAAA,iBAApBA,qBAAA,CAAsBzG,MAAM,GAAI,2BAA2B,CAAC,CAC9E,CACF,CAAC,OAAS,CACR7K,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAuR,cAAc,CAAG3U,WAAW,CAAC,KAAO,CAAA4U,UAAU,EAAK,CACvD,GAAI,CAACA,UAAU,CAAE,OACjB,GAAI,CACFvB,kBAAkB,CAAC,IAAI,CAAC,CACxB,KAAM,CAAAjN,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAAC+D,GAAG,IAAAC,MAAA,CAAIvB,QAAQ,uBAAAuB,MAAA,CAAqB2Q,UAAU,cAAY,CAAC,CACnF3B,YAAY,CAAC7M,GAAG,CAAClC,IAAI,CAAC8O,SAAS,EAAI,EAAE,CAAC,CACxC,CAAE,MAAO3O,KAAK,CAAE,CACdvB,SAAS,CAAC,cAAc,CAAE,OAAO,CAAC,CACpC,CAAC,OAAS,CACRuQ,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAAE,CAACvQ,SAAS,CAAC,CAAC,CAEf/C,SAAS,CAAC,IAAM,CACdkR,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEflR,SAAS,CAAC,IAAM,CACd,GAAI+S,cAAc,CAAE,CAClB6B,cAAc,CAAC7B,cAAc,CAAChO,IAAI,CAAC,CACrC,CACF,CAAC,CAAE,CAACgO,cAAc,CAAE6B,cAAc,CAAC,CAAC,CAEpC,KAAM,CAAAE,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CAACrB,eAAe,CAACxK,IAAI,CAAC,CAAC,CAAE,CAC3BlG,SAAS,CAAC,eAAe,CAAE,OAAO,CAAC,CACnC,OACF,CACA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAACsH,IAAI,IAAAtD,MAAA,CAAIvB,QAAQ,uBAAAuB,MAAA,CAAqB6O,cAAc,CAAChO,IAAI,eAAc,CAChFA,IAAI,CAAE0O,eACR,CAAC,CAAC,CACF1Q,SAAS,wBAAAmB,MAAA,CAASuP,eAAe,sDAAY,CAAC,CAC9CD,qBAAqB,CAAC,KAAK,CAAC,CAC5BE,kBAAkB,CAAC,EAAE,CAAC,CACtBkB,cAAc,CAAC7B,cAAc,CAAChO,IAAI,CAAC,CACrC,CAAE,MAAOT,KAAK,CAAE,KAAAyQ,gBAAA,CAAAC,qBAAA,CACdjS,SAAS,CAAC,EAAAgS,gBAAA,CAAAzQ,KAAK,CAAC2J,QAAQ,UAAA8G,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB5Q,IAAI,UAAA6Q,qBAAA,iBAApBA,qBAAA,CAAsB9G,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAA+G,oBAAoB,CAAG,KAAO,CAAAC,YAAY,EAAK,CACnD,GAAI,CAACxF,MAAM,CAACC,OAAO,KAAAzL,MAAA,CAAKgR,YAAY,gFAAkB,CAAC,CAAE,OACzD,GAAI,CACF,KAAM,CAAAhV,KAAK,CAACwE,MAAM,IAAAR,MAAA,CAAIvB,QAAQ,yBAAAuB,MAAA,CAAuBgR,YAAY,CAAE,CAAC,CACpEnS,SAAS,wBAAAmB,MAAA,CAASgR,YAAY,sDAAY,CAAC,CAC3CN,cAAc,CAAC7B,cAAc,CAAChO,IAAI,CAAC,CACrC,CAAE,MAAOT,KAAK,CAAE,KAAA6Q,gBAAA,CAAAC,qBAAA,CACdrS,SAAS,CAAC,EAAAoS,gBAAA,CAAA7Q,KAAK,CAAC2J,QAAQ,UAAAkH,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBhR,IAAI,UAAAiR,qBAAA,iBAApBA,qBAAA,CAAsBlH,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAAmH,qBAAqB,CAAG,KAAO,CAAAH,YAAY,EAAK,CACpD,GAAI,CAACxF,MAAM,CAACC,OAAO,KAAAzL,MAAA,CAAKgR,YAAY,gHAAyB,CAAC,CAAE,OAChE,GAAI,CACF,KAAM,CAAA7O,GAAG,CAAG,KAAM,CAAAnG,KAAK,CAACsH,IAAI,IAAAtD,MAAA,CAAIvB,QAAQ,uBAAAuB,MAAA,CAAqB6O,cAAc,CAAChO,IAAI,aAAY,CAC1FuQ,aAAa,CAAEJ,YACjB,CAAC,CAAC,CACFnS,SAAS,CAACsD,GAAG,CAAClC,IAAI,CAACoQ,OAAO,CAAC,CAC3BrD,SAAS,CAAC,CAAC,CACb,CAAE,MAAO5M,KAAK,CAAE,KAAAiR,iBAAA,CAAAC,qBAAA,CACdzS,SAAS,CAAC,EAAAwS,iBAAA,CAAAjR,KAAK,CAAC2J,QAAQ,UAAAsH,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBpR,IAAI,UAAAqR,qBAAA,iBAApBA,qBAAA,CAAsBtH,MAAM,GAAI,OAAO,CAAE,OAAO,CAAC,CAC7D,CACF,CAAC,CAED,KAAM,CAAAuH,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,KAAM,CAAAC,MAAM,CAAGvH,QAAQ,CAACwF,UAAU,CAAC,CACnC,GAAI,CAAC+B,MAAM,EAAIA,MAAM,EAAI,CAAC,CAAE,CAC1B3S,SAAS,CAAC,eAAe,CAAE,OAAO,CAAC,CACnC,OACF,CACA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAAC4E,GAAG,IAAAZ,MAAA,CAAIvB,QAAQ,uBAAAuB,MAAA,CAAqB6O,cAAc,CAAChO,IAAI,qBAAAb,MAAA,CAAmBwR,MAAM,CAAE,CAAC,CAC/F3S,SAAS,uBAAAmB,MAAA,CAAQwR,MAAM,oEAAgB,CAAC,CACxC5B,aAAa,CAAC,KAAK,CAAC,CACpBF,aAAa,CAAC,EAAE,CAAC,CACjB1C,SAAS,CAAC,CAAC,CACb,CAAE,MAAO5M,KAAK,CAAE,KAAAqR,iBAAA,CAAAC,qBAAA,CACd7S,SAAS,CAAC,EAAA4S,iBAAA,CAAArR,KAAK,CAAC2J,QAAQ,UAAA0H,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBxR,IAAI,UAAAyR,qBAAA,iBAApBA,qBAAA,CAAsB1H,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CACF,CAAC,CAED,GAAI9K,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,SAAA8C,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,GAAI,EAAC+N,cAAc,SAAdA,cAAc,WAAdA,cAAc,CAAEsB,SAAS,EAAE,CAC9B,mBACEjS,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B9C,IAAA,CAACtB,WAAW,EAACqE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzB7C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,WAAA8C,QAAA,CAAQ,6BAAY,CAAQ,CAAC,cAC7B9C,IAAA,MAAA8C,QAAA,CAAG,2MAAwD,CAAG,CAAC,EAC5D,CAAC,EACH,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE/B5C,KAAA,QAAK2C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACH,QAAQ,EAACkD,IAAI,CAAE,EAAG,CAAE,CAAC,cACtB7C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,uCAAO,CAAM,CAAC,cACtC9C,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE+N,cAAc,CAAC0C,aAAa,CAAO,CAAC,EAC1D,CAAC,EACH,CAAC,cACNrT,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACN,SAAS,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,cACvB7C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,qBAAI,CAAM,CAAC,cACnC5C,KAAA,SAAM2C,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAE+N,cAAc,CAAC2C,YAAY,CAAC,IAAE,CAAC3C,cAAc,CAAC4C,aAAa,CAAC,IAAE,EAAM,CAAC,EAC3F,CAAC,EACH,CAAC,cACNvT,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACvB,WAAW,EAACsE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzB7C,KAAA,QAAA4C,QAAA,eACE9C,IAAA,SAAM6C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,qBAAI,CAAM,CAAC,cACnC5C,KAAA,SAAM2C,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAE+N,cAAc,CAAC6C,YAAY,CAAC,QAAC,EAAM,CAAC,EAC1D,CAAC,EACH,CAAC,EACH,CAAC,cAENxT,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE/B5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9C,IAAA,CAACH,QAAQ,EAACkD,IAAI,CAAE,EAAG,CAAE,CAAC,cACtB/C,IAAA,OAAA8C,QAAA,CAAI,uBAAW,CAAI,CAAC,cACpB9C,IAAA,WAAQ6C,SAAS,CAAC,UAAU,CAACI,OAAO,CAAE2L,SAAU,CAACb,KAAK,CAAC,0BAAM,CAAAjL,QAAA,cAC3D9C,IAAA,CAAC7B,SAAS,EAAC4E,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,EACN,CAAC,CAELwN,OAAO,CAACpJ,MAAM,GAAK,CAAC,cACnBjH,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACH,QAAQ,EAACkD,IAAI,CAAE,EAAG,CAAE,CAAC,cACtB/C,IAAA,MAAA8C,QAAA,CAAG,sDAAiB,CAAG,CAAC,EACrB,CAAC,cAEN9C,IAAA,QAAK6C,SAAS,CAAC,SAAS,CAAAC,QAAA,CACrByN,OAAO,CAACvN,GAAG,CAAE2Q,GAAG,eACfzT,KAAA,QAEE2C,SAAS,gBAAAjB,MAAA,CAAiB,CAAA6O,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEhO,IAAI,IAAKkR,GAAG,CAAClR,IAAI,CAAG,UAAU,CAAG,EAAE,CAAG,CAChFQ,OAAO,CAAEA,CAAA,GAAMyN,iBAAiB,CAACiD,GAAG,CAAE,CAAA7Q,QAAA,eAEtC5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,SAAM6C,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE6Q,GAAG,CAAClR,IAAI,CAAO,CAAC,cAC/CvC,KAAA,SAAM2C,SAAS,CAAC,aAAa,CAAAC,QAAA,EAC1B6Q,GAAG,CAACC,UAAU,CAAC,KAAG,CAACD,GAAG,CAACE,KAAK,CAC5BF,GAAG,CAACG,QAAQ,aAAAlS,MAAA,CAAe+R,GAAG,CAACG,QAAQ,CAAE,EACtC,CAAC,EACJ,CAAC,cACN9T,IAAA,SAAM6C,SAAS,iBAAAjB,MAAA,CAAkB+R,GAAG,CAACE,KAAK,GAAK,UAAU,CAAG,SAAS,CAAG,SAAS,CAAG,CAAA/Q,QAAA,CACjF6Q,GAAG,CAACE,KAAK,CACN,CAAC,GAbFF,GAAG,CAAClR,IAcN,CACN,CAAC,CACC,CACN,EACE,CAAC,cAGNzC,IAAA,QAAK6C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5B2N,cAAc,cACbvQ,KAAA,CAAAE,SAAA,EAAA0C,QAAA,eACE5C,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9C,IAAA,CAACL,MAAM,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,cACpB7C,KAAA,OAAA4C,QAAA,EAAI,uBAAM,CAAC2N,cAAc,CAAChO,IAAI,EAAK,CAAC,cACpCvC,KAAA,QAAK2C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5C,KAAA,WACE2C,SAAS,CAAC,0BAA0B,CACpCI,OAAO,CAAEA,CAAA,GAAMuO,aAAa,CAAC,IAAI,CAAE,CACnCzD,KAAK,CAAC,2BAAO,CAAAjL,QAAA,eAEb9C,IAAA,CAACF,MAAM,EAACiD,IAAI,CAAE,EAAG,CAAE,CAAC,eAEtB,EAAQ,CAAC,cACT7C,KAAA,WACE2C,SAAS,CAAC,wBAAwB,CAClCI,OAAO,CAAEA,CAAA,GAAMiO,qBAAqB,CAAC,IAAI,CAAE,CAAApO,QAAA,eAE3C9C,IAAA,CAAC1B,IAAI,EAACyE,IAAI,CAAE,EAAG,CAAE,CAAC,kCAEpB,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGLwO,UAAU,eACTrR,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,OAAA8C,QAAA,CAAI,2BAAK,CAAI,CAAC,cACd5C,KAAA,MAAG2C,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,6BAAO,CAAC2N,cAAc,CAACmD,UAAU,EAAI,CAAC,cAC1D1T,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9C,IAAA,UACE0F,IAAI,CAAC,QAAQ,CACb4B,WAAW,CAAC,0BAAW,CACvBnE,KAAK,CAAEkO,UAAW,CAClBjO,QAAQ,CAAGC,CAAC,EAAKiO,aAAa,CAACjO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/C4F,GAAG,CAAC,GAAG,CACR,CAAC,cACF/I,IAAA,SAAM6C,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,cAChC9C,IAAA,WAAQ6C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEkQ,kBAAmB,CAAArQ,QAAA,CAAC,cAEjE,CAAQ,CAAC,cACT9C,IAAA,WAAQ6C,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMuO,aAAa,CAAC,KAAK,CAAE,CAAA1O,QAAA,CAAC,cAE3E,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CAGAmO,kBAAkB,eACjB/Q,KAAA,QAAK2C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC9C,IAAA,OAAA8C,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjB5C,KAAA,QAAK2C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9C,IAAA,UACE0F,IAAI,CAAC,MAAM,CACX4B,WAAW,CAAC,iCAAQ,CACpBnE,KAAK,CAAEgO,eAAgB,CACvB/N,QAAQ,CAAGC,CAAC,EAAK+N,kBAAkB,CAAC/N,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrD,CAAC,cACFjD,KAAA,WAAQ2C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEuP,oBAAqB,CAAA1P,QAAA,eAChE9C,IAAA,CAACL,MAAM,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,eAEtB,EAAQ,CAAC,cACT/C,IAAA,WAAQ6C,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMiO,qBAAqB,CAAC,KAAK,CAAE,CAAApO,QAAA,CAAC,cAEnF,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CAGAiO,eAAe,cACd7Q,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,CAAChB,OAAO,EAAC6D,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtC/C,IAAA,SAAA8C,QAAA,CAAM,2CAAW,CAAM,CAAC,EACrB,CAAC,CACJ6N,SAAS,CAACxJ,MAAM,GAAK,CAAC,cACxBjH,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACL,MAAM,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,cACpB/C,IAAA,MAAA8C,QAAA,CAAG,mDAAS,CAAG,CAAC,cAChB9C,IAAA,SAAM6C,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,kHAAsB,CAAM,CAAC,EACjD,CAAC,cAEN9C,IAAA,QAAK6C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5B6N,SAAS,CAAC3N,GAAG,CAAE+Q,IAAI,eAClB7T,KAAA,QAAqB2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5C5C,KAAA,QAAK2C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9C,IAAA,SAAM6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEiR,IAAI,CAACtR,IAAI,CAAO,CAAC,cAClDvC,KAAA,SAAM2C,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC5B,GAAI,CAAAuF,IAAI,CAAC0L,IAAI,CAACC,OAAO,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,KAAG,CAACF,IAAI,CAACH,UAAU,EACxD,CAAC,EACJ,CAAC,cACN1T,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B5C,KAAA,WACE2C,SAAS,CAAC,0BAA0B,CACpCI,OAAO,CAAEA,CAAA,GAAM8P,qBAAqB,CAACgB,IAAI,CAACtR,IAAI,CAAE,CAChDsL,KAAK,CAAC,wEAAiB,CAAAjL,QAAA,eAEvB9C,IAAA,CAACJ,SAAS,EAACmD,IAAI,CAAE,EAAG,CAAE,CAAC,eAEzB,EAAQ,CAAC,cACT/C,IAAA,WACE6C,SAAS,CAAC,uBAAuB,CACjCI,OAAO,CAAEA,CAAA,GAAM0P,oBAAoB,CAACoB,IAAI,CAACtR,IAAI,CAAE,CAC/CsL,KAAK,CAAC,iCAAQ,CAAAjL,QAAA,cAEd9C,IAAA,CAAC3B,MAAM,EAAC0E,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GAvBEgR,IAAI,CAACtR,IAwBV,CACN,CAAC,CACC,CACN,EACD,CAAC,cAEHvC,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACL,MAAM,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,cACpB/C,IAAA,MAAA8C,QAAA,CAAG,mDAAS,CAAG,CAAC,cAChB9C,IAAA,SAAM6C,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,yHAAwB,CAAM,CAAC,EACnD,CACN,CACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAoR,mBAAmB,CAAGC,MAAA,EAA+C,IAA9C,CAAE3T,UAAU,CAAE4T,cAAc,CAAE3T,SAAU,CAAC,CAAA0T,MAAA,CAC3E,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAG7W,QAAQ,CAAC,OAAO,CAAC,CAEnD,KAAM,CAAA8W,IAAI,CAAG,CACX,CAAEC,EAAE,CAAE,OAAO,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE5V,SAAU,CAAC,CAC7C,CAAE0V,EAAE,CAAE,QAAQ,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE7W,MAAO,CAAC,CAC3C,CAAE2W,EAAE,CAAE,YAAY,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE5W,SAAU,CAAC,CAClD,CAAE0W,EAAE,CAAE,WAAW,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAExW,KAAM,CAAC,CAC/C,CAAEsW,EAAE,CAAE,YAAY,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAEzV,IAAK,CAAC,CAC7C,CAAEuV,EAAE,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEvV,QAAS,CAAC,CAC/C,CAAEqV,EAAE,CAAE,WAAW,CAAEC,KAAK,CAAE,QAAQ,CAAEC,IAAI,CAAE1W,IAAK,CAAC,CAChD,CAAEwW,EAAE,CAAE,KAAK,CAAEC,KAAK,CAAE,KAAK,CAAEC,IAAI,CAAExV,KAAM,CAAC,CACxC,CAAEsV,EAAE,CAAE,UAAU,CAAEC,KAAK,CAAE,KAAK,CAAEC,IAAI,CAAE/U,MAAO,CAAC,CAC/C,CAED,GAAI,CAACa,UAAU,CAAE,CACf,mBACER,IAAA,QAAK6C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B5C,KAAA,QAAK2C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B9C,IAAA,CAACnB,QAAQ,EAACkE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtB/C,IAAA,MAAA8C,QAAA,CAAG,mDAAS,CAAG,CAAC,EACb,CAAC,CACH,CAAC,CAEV,CAEA,mBACE5C,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B9C,IAAA,QAAK6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3ByR,IAAI,CAACvR,GAAG,CAAE2R,GAAG,eACZzU,KAAA,WAEE2C,SAAS,YAAAjB,MAAA,CAAayS,SAAS,GAAKM,GAAG,CAACH,EAAE,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC7DvR,OAAO,CAAEA,CAAA,GAAMqR,YAAY,CAACK,GAAG,CAACH,EAAE,CAAE,CAAA1R,QAAA,eAEpC9C,IAAA,CAAC2U,GAAG,CAACD,IAAI,EAAC3R,IAAI,CAAE,EAAG,CAAE,CAAC,CACrB4R,GAAG,CAACF,KAAK,GALLE,GAAG,CAACH,EAMH,CACT,CAAC,CACC,CAAC,cAENtU,KAAA,QAAK2C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAC9BuR,SAAS,GAAK,OAAO,eACpBrU,IAAA,CAACiJ,WAAW,EAACzI,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CAC7D,CACA4T,SAAS,GAAK,QAAQ,eACrBrU,IAAA,CAACM,mBAAmB,EAACE,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACrE,CACA4T,SAAS,GAAK,YAAY,eACzBrU,IAAA,CAACwD,iBAAiB,EAAChD,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACnE,CACA4T,SAAS,GAAK,WAAW,eACxBrU,IAAA,CAACuH,gBAAgB,EAAC/G,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CAClE,CACA4T,SAAS,GAAK,YAAY,eACzBrU,IAAA,CAAC6K,iBAAiB,EAACrK,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACnE,CACA4T,SAAS,GAAK,QAAQ,eACrBrU,IAAA,CAACgO,uBAAuB,EAACxN,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACzE,CACA4T,SAAS,GAAK,WAAW,eACxBrU,IAAA,CAACsE,qBAAqB,EACpB9D,UAAU,CAAEA,UAAW,CACvBgE,UAAU,CAAE4P,cAAe,CAC3B3T,SAAS,CAAEA,SAAU,CACtB,CACF,CACA4T,SAAS,GAAK,KAAK,eAClBrU,IAAA,CAAC8L,UAAU,EAACrL,SAAS,CAAEA,SAAU,CAAE,CACpC,CACA4T,SAAS,GAAK,UAAU,eACvBrU,IAAA,CAACqQ,eAAe,EAAC5P,SAAS,CAAEA,SAAU,CAAE,CACzC,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAyT,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}