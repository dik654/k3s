{"ast":null,"code":"import React,{useEffect,useRef}from'react';import mermaid from'mermaid';// Mermaid 초기화\nimport{jsx as _jsx}from\"react/jsx-runtime\";mermaid.initialize({startOnLoad:false,theme:'neutral',securityLevel:'loose',flowchart:{useMaxWidth:true,htmlLabels:true,curve:'basis'},themeVariables:{primaryColor:'#3b82f6',primaryTextColor:'#18181b',primaryBorderColor:'#2563eb',lineColor:'#71717a',secondaryColor:'#f4f4f5',tertiaryColor:'#fafafa',fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'}});const MermaidChart=_ref=>{let{chart,className=''}=_ref;const containerRef=useRef(null);const idRef=useRef(\"mermaid-\".concat(Math.random().toString(36).substr(2,9)));useEffect(()=>{if(containerRef.current&&chart){const renderChart=async()=>{try{containerRef.current.innerHTML='';const{svg}=await mermaid.render(idRef.current,chart);containerRef.current.innerHTML=svg;}catch(error){console.error('Mermaid render error:',error);containerRef.current.innerHTML=\"<div class=\\\"mermaid-error\\\">\\uCC28\\uD2B8 \\uB80C\\uB354\\uB9C1 \\uC2E4\\uD328</div>\";}};renderChart();}},[chart]);return/*#__PURE__*/_jsx(\"div\",{ref:containerRef,className:\"mermaid-container \".concat(className)});};export default MermaidChart;","map":{"version":3,"names":["React","useEffect","useRef","mermaid","jsx","_jsx","initialize","startOnLoad","theme","securityLevel","flowchart","useMaxWidth","htmlLabels","curve","themeVariables","primaryColor","primaryTextColor","primaryBorderColor","lineColor","secondaryColor","tertiaryColor","fontFamily","MermaidChart","_ref","chart","className","containerRef","idRef","concat","Math","random","toString","substr","current","renderChart","innerHTML","svg","render","error","console","ref"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/src/MermaidChart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport mermaid from 'mermaid';\n\n// Mermaid 초기화\nmermaid.initialize({\n  startOnLoad: false,\n  theme: 'neutral',\n  securityLevel: 'loose',\n  flowchart: {\n    useMaxWidth: true,\n    htmlLabels: true,\n    curve: 'basis'\n  },\n  themeVariables: {\n    primaryColor: '#3b82f6',\n    primaryTextColor: '#18181b',\n    primaryBorderColor: '#2563eb',\n    lineColor: '#71717a',\n    secondaryColor: '#f4f4f5',\n    tertiaryColor: '#fafafa',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n  }\n});\n\nconst MermaidChart = ({ chart, className = '' }) => {\n  const containerRef = useRef(null);\n  const idRef = useRef(`mermaid-${Math.random().toString(36).substr(2, 9)}`);\n\n  useEffect(() => {\n    if (containerRef.current && chart) {\n      const renderChart = async () => {\n        try {\n          containerRef.current.innerHTML = '';\n          const { svg } = await mermaid.render(idRef.current, chart);\n          containerRef.current.innerHTML = svg;\n        } catch (error) {\n          console.error('Mermaid render error:', error);\n          containerRef.current.innerHTML = `<div class=\"mermaid-error\">차트 렌더링 실패</div>`;\n        }\n      };\n      renderChart();\n    }\n  }, [chart]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={`mermaid-container ${className}`}\n    />\n  );\n};\n\nexport default MermaidChart;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,OAAO,KAAM,SAAS,CAE7B;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACAF,OAAO,CAACG,UAAU,CAAC,CACjBC,WAAW,CAAE,KAAK,CAClBC,KAAK,CAAE,SAAS,CAChBC,aAAa,CAAE,OAAO,CACtBC,SAAS,CAAE,CACTC,WAAW,CAAE,IAAI,CACjBC,UAAU,CAAE,IAAI,CAChBC,KAAK,CAAE,OACT,CAAC,CACDC,cAAc,CAAE,CACdC,YAAY,CAAE,SAAS,CACvBC,gBAAgB,CAAE,SAAS,CAC3BC,kBAAkB,CAAE,SAAS,CAC7BC,SAAS,CAAE,SAAS,CACpBC,cAAc,CAAE,SAAS,CACzBC,aAAa,CAAE,SAAS,CACxBC,UAAU,CAAE,mEACd,CACF,CAAC,CAAC,CAEF,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,KAAK,CAAEC,SAAS,CAAG,EAAG,CAAC,CAAAF,IAAA,CAC7C,KAAM,CAAAG,YAAY,CAAGxB,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAyB,KAAK,CAAGzB,MAAM,YAAA0B,MAAA,CAAYC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAE1E/B,SAAS,CAAC,IAAM,CACd,GAAIyB,YAAY,CAACO,OAAO,EAAIT,KAAK,CAAE,CACjC,KAAM,CAAAU,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACFR,YAAY,CAACO,OAAO,CAACE,SAAS,CAAG,EAAE,CACnC,KAAM,CAAEC,GAAI,CAAC,CAAG,KAAM,CAAAjC,OAAO,CAACkC,MAAM,CAACV,KAAK,CAACM,OAAO,CAAET,KAAK,CAAC,CAC1DE,YAAY,CAACO,OAAO,CAACE,SAAS,CAAGC,GAAG,CACtC,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CZ,YAAY,CAACO,OAAO,CAACE,SAAS,kFAA+C,CAC/E,CACF,CAAC,CACDD,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAAE,CAACV,KAAK,CAAC,CAAC,CAEX,mBACEnB,IAAA,QACEmC,GAAG,CAAEd,YAAa,CAClBD,SAAS,sBAAAG,MAAA,CAAuBH,SAAS,CAAG,CAC7C,CAAC,CAEN,CAAC,CAED,cAAe,CAAAH,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}