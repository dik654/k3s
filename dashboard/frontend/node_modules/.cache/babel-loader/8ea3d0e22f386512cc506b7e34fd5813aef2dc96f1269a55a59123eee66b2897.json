{"ast":null,"code":"const minDisplayHeight = 16;\nconst maxDisplayHeight = 24;\n/**\n* Check if displayHeight value is valid, returns 0 on failure\n*/\nfunction validateDisplayHeight(value) {\n  while (value < minDisplayHeight) value *= 2;\n  while (value > maxDisplayHeight) value /= 2;\n  return value === Math.round(value) && value >= minDisplayHeight && value <= maxDisplayHeight ? value : 0;\n}\n/**\n* Convert data to valid CollectionInfo\n*/\nfunction convertIconSetInfo(data) {\n  let expectedPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  if (typeof data !== \"object\" || data === null) return null;\n  const source = data;\n  const getSourceNestedString = function (field, key) {\n    let defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n    if (typeof source[field] !== \"object\") return defaultValue;\n    const obj = source[field];\n    return typeof obj[key] === \"string\" ? obj[key] : defaultValue;\n  };\n  let name;\n  if (typeof source.name === \"string\") name = source.name;else if (typeof source.title === \"string\") name = source.title;else return null;\n  if (expectedPrefix !== \"\" && typeof source.prefix === \"string\" && source.prefix !== expectedPrefix) return null;\n  const info = {\n    name\n  };\n  switch (typeof source.total) {\n    case \"number\":\n      info.total = source.total;\n      break;\n    case \"string\":\n      {\n        const num = parseInt(source.total);\n        if (num > 0) info.total = num;\n        break;\n      }\n  }\n  if (typeof source.version === \"string\") info.version = source.version;\n  info.author = {\n    name: getSourceNestedString(\"author\", \"name\", typeof source.author === \"string\" ? source.author : \"\")\n  };\n  if (typeof source.author === \"object\") {\n    const sourceAuthor = source.author;\n    if (typeof sourceAuthor.url === \"string\") info.author.url = sourceAuthor.url;\n  }\n  info.license = {\n    title: getSourceNestedString(\"license\", \"title\", typeof source.license === \"string\" ? source.license : \"\")\n  };\n  if (typeof source.license === \"object\") {\n    const sourceLicense = source.license;\n    if (typeof sourceLicense.spdx === \"string\") info.license.spdx = sourceLicense.spdx;\n    if (typeof sourceLicense.url === \"string\") info.license.url = sourceLicense.url;\n  }\n  if (source.samples instanceof Array) {\n    const samples = [];\n    source.samples.forEach(item => {\n      if (typeof item === \"string\" && !samples.includes(item)) samples.push(item);\n    });\n    if (samples.length) info.samples = samples;\n  }\n  if (typeof source.height === \"number\" || typeof source.height === \"string\") {\n    const num = parseInt(source.height);\n    if (num > 0) info.height = num;\n  }\n  if (source.height instanceof Array) {\n    source.height.forEach(item => {\n      const num = parseInt(item);\n      if (num > 0) {\n        if (!(info.height instanceof Array)) info.height = [];\n        info.height.push(num);\n      }\n    });\n    switch (info.height.length) {\n      case 0:\n        delete info.height;\n        break;\n      case 1:\n        info.height = info.height[0];\n    }\n  }\n  if (typeof info.height === \"number\") {\n    const displayHeight = validateDisplayHeight(info.height);\n    if (displayHeight && displayHeight !== info.height) info.displayHeight = displayHeight;\n  }\n  [\"samplesHeight\", \"displayHeight\"].forEach(prop => {\n    const value = source[prop];\n    if (typeof value === \"number\" || typeof value === \"string\") {\n      const displayHeight = validateDisplayHeight(parseInt(value));\n      if (displayHeight) info.displayHeight = displayHeight;\n    }\n  });\n  if (typeof source.category === \"string\") info.category = source.category;\n  if (source.tags instanceof Array) info.tags = source.tags;\n  switch (typeof source.palette) {\n    case \"boolean\":\n      info.palette = source.palette;\n      break;\n    case \"string\":\n      switch (source.palette.toLowerCase()) {\n        case \"colorless\":\n        case \"false\":\n          info.palette = false;\n          break;\n        case \"colorful\":\n        case \"true\":\n          info.palette = true;\n      }\n      break;\n  }\n  if (source.hidden === true) info.hidden = true;\n  Object.keys(source).forEach(key => {\n    const value = source[key];\n    if (typeof value !== \"string\") return;\n    switch (key) {\n      case \"url\":\n      case \"uri\":\n        info.author.url = value;\n        break;\n      case \"licenseURL\":\n      case \"licenseURI\":\n        info.license.url = value;\n        break;\n      case \"licenseID\":\n      case \"licenseSPDX\":\n        info.license.spdx = value;\n        break;\n    }\n  });\n  return info;\n}\nexport { convertIconSetInfo };","map":{"version":3,"names":["minDisplayHeight","maxDisplayHeight","validateDisplayHeight","value","Math","round","convertIconSetInfo","data","expectedPrefix","arguments","length","undefined","source","getSourceNestedString","field","key","defaultValue","obj","name","title","prefix","info","total","num","parseInt","version","author","sourceAuthor","url","license","sourceLicense","spdx","samples","Array","forEach","item","includes","push","height","displayHeight","prop","category","tags","palette","toLowerCase","hidden","Object","keys"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@iconify/utils/lib/icon-set/convert-info.js"],"sourcesContent":["const minDisplayHeight = 16;\nconst maxDisplayHeight = 24;\n/**\n* Check if displayHeight value is valid, returns 0 on failure\n*/\nfunction validateDisplayHeight(value) {\n\twhile (value < minDisplayHeight) value *= 2;\n\twhile (value > maxDisplayHeight) value /= 2;\n\treturn value === Math.round(value) && value >= minDisplayHeight && value <= maxDisplayHeight ? value : 0;\n}\n/**\n* Convert data to valid CollectionInfo\n*/\nfunction convertIconSetInfo(data, expectedPrefix = \"\") {\n\tif (typeof data !== \"object\" || data === null) return null;\n\tconst source = data;\n\tconst getSourceNestedString = (field, key, defaultValue = \"\") => {\n\t\tif (typeof source[field] !== \"object\") return defaultValue;\n\t\tconst obj = source[field];\n\t\treturn typeof obj[key] === \"string\" ? obj[key] : defaultValue;\n\t};\n\tlet name;\n\tif (typeof source.name === \"string\") name = source.name;\n\telse if (typeof source.title === \"string\") name = source.title;\n\telse return null;\n\tif (expectedPrefix !== \"\" && typeof source.prefix === \"string\" && source.prefix !== expectedPrefix) return null;\n\tconst info = { name };\n\tswitch (typeof source.total) {\n\t\tcase \"number\":\n\t\t\tinfo.total = source.total;\n\t\t\tbreak;\n\t\tcase \"string\": {\n\t\t\tconst num = parseInt(source.total);\n\t\t\tif (num > 0) info.total = num;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (typeof source.version === \"string\") info.version = source.version;\n\tinfo.author = { name: getSourceNestedString(\"author\", \"name\", typeof source.author === \"string\" ? source.author : \"\") };\n\tif (typeof source.author === \"object\") {\n\t\tconst sourceAuthor = source.author;\n\t\tif (typeof sourceAuthor.url === \"string\") info.author.url = sourceAuthor.url;\n\t}\n\tinfo.license = { title: getSourceNestedString(\"license\", \"title\", typeof source.license === \"string\" ? source.license : \"\") };\n\tif (typeof source.license === \"object\") {\n\t\tconst sourceLicense = source.license;\n\t\tif (typeof sourceLicense.spdx === \"string\") info.license.spdx = sourceLicense.spdx;\n\t\tif (typeof sourceLicense.url === \"string\") info.license.url = sourceLicense.url;\n\t}\n\tif (source.samples instanceof Array) {\n\t\tconst samples = [];\n\t\tsource.samples.forEach((item) => {\n\t\t\tif (typeof item === \"string\" && !samples.includes(item)) samples.push(item);\n\t\t});\n\t\tif (samples.length) info.samples = samples;\n\t}\n\tif (typeof source.height === \"number\" || typeof source.height === \"string\") {\n\t\tconst num = parseInt(source.height);\n\t\tif (num > 0) info.height = num;\n\t}\n\tif (source.height instanceof Array) {\n\t\tsource.height.forEach((item) => {\n\t\t\tconst num = parseInt(item);\n\t\t\tif (num > 0) {\n\t\t\t\tif (!(info.height instanceof Array)) info.height = [];\n\t\t\t\tinfo.height.push(num);\n\t\t\t}\n\t\t});\n\t\tswitch (info.height.length) {\n\t\t\tcase 0:\n\t\t\t\tdelete info.height;\n\t\t\t\tbreak;\n\t\t\tcase 1: info.height = info.height[0];\n\t\t}\n\t}\n\tif (typeof info.height === \"number\") {\n\t\tconst displayHeight = validateDisplayHeight(info.height);\n\t\tif (displayHeight && displayHeight !== info.height) info.displayHeight = displayHeight;\n\t}\n\t[\"samplesHeight\", \"displayHeight\"].forEach((prop) => {\n\t\tconst value = source[prop];\n\t\tif (typeof value === \"number\" || typeof value === \"string\") {\n\t\t\tconst displayHeight = validateDisplayHeight(parseInt(value));\n\t\t\tif (displayHeight) info.displayHeight = displayHeight;\n\t\t}\n\t});\n\tif (typeof source.category === \"string\") info.category = source.category;\n\tif (source.tags instanceof Array) info.tags = source.tags;\n\tswitch (typeof source.palette) {\n\t\tcase \"boolean\":\n\t\t\tinfo.palette = source.palette;\n\t\t\tbreak;\n\t\tcase \"string\":\n\t\t\tswitch (source.palette.toLowerCase()) {\n\t\t\t\tcase \"colorless\":\n\t\t\t\tcase \"false\":\n\t\t\t\t\tinfo.palette = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"colorful\":\n\t\t\t\tcase \"true\": info.palette = true;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\tif (source.hidden === true) info.hidden = true;\n\tObject.keys(source).forEach((key) => {\n\t\tconst value = source[key];\n\t\tif (typeof value !== \"string\") return;\n\t\tswitch (key) {\n\t\t\tcase \"url\":\n\t\t\tcase \"uri\":\n\t\t\t\tinfo.author.url = value;\n\t\t\t\tbreak;\n\t\t\tcase \"licenseURL\":\n\t\t\tcase \"licenseURI\":\n\t\t\t\tinfo.license.url = value;\n\t\t\t\tbreak;\n\t\t\tcase \"licenseID\":\n\t\t\tcase \"licenseSPDX\":\n\t\t\t\tinfo.license.spdx = value;\n\t\t\t\tbreak;\n\t\t}\n\t});\n\treturn info;\n}\n\nexport { convertIconSetInfo };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}