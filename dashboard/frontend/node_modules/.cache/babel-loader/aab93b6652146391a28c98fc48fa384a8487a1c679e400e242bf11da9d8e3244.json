{"ast":null,"code":"import _objectSpread from \"/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { getLineFunctionsWithOffset, markerOffsets, markerOffsets2 } from \"./chunk-HN2XXSSU.mjs\";\nimport { createLabel_default } from \"./chunk-JZLCHNYA.mjs\";\nimport { getSubGraphTitleMargins } from \"./chunk-CVBHYZKI.mjs\";\nimport { isLabelStyle, styles2String } from \"./chunk-ATLVNIR6.mjs\";\nimport { createText } from \"./chunk-JA3XYJ7Z.mjs\";\nimport { utils_default } from \"./chunk-S3R3BYOJ.mjs\";\nimport { evaluate, getConfig2 as getConfig } from \"./chunk-ABZYJK2D.mjs\";\nimport { __name, log } from \"./chunk-AGHRB4JF.mjs\";\n\n// src/rendering-util/rendering-elements/edges.js\nimport { curveBasis, curveLinear, curveCardinal, curveBumpX, curveBumpY, curveCatmullRom, curveMonotoneX, curveMonotoneY, curveNatural, curveStep, curveStepAfter, curveStepBefore, line, select } from \"d3\";\nimport rough from \"roughjs\";\n\n// src/rendering-util/rendering-elements/edgeMarker.ts\nvar addEdgeMarkers = /* @__PURE__ */__name((svgPath, edge, url, id, diagramType, strokeColor) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, \"start\", edge.arrowTypeStart, url, id, diagramType, strokeColor);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, \"end\", edge.arrowTypeEnd, url, id, diagramType, strokeColor);\n  }\n}, \"addEdgeMarkers\");\nvar arrowTypesMap = {\n  arrow_cross: {\n    type: \"cross\",\n    fill: false\n  },\n  arrow_point: {\n    type: \"point\",\n    fill: true\n  },\n  arrow_barb: {\n    type: \"barb\",\n    fill: true\n  },\n  arrow_circle: {\n    type: \"circle\",\n    fill: false\n  },\n  aggregation: {\n    type: \"aggregation\",\n    fill: false\n  },\n  extension: {\n    type: \"extension\",\n    fill: false\n  },\n  composition: {\n    type: \"composition\",\n    fill: true\n  },\n  dependency: {\n    type: \"dependency\",\n    fill: true\n  },\n  lollipop: {\n    type: \"lollipop\",\n    fill: false\n  },\n  only_one: {\n    type: \"onlyOne\",\n    fill: false\n  },\n  zero_or_one: {\n    type: \"zeroOrOne\",\n    fill: false\n  },\n  one_or_more: {\n    type: \"oneOrMore\",\n    fill: false\n  },\n  zero_or_more: {\n    type: \"zeroOrMore\",\n    fill: false\n  },\n  requirement_arrow: {\n    type: \"requirement_arrow\",\n    fill: false\n  },\n  requirement_contains: {\n    type: \"requirement_contains\",\n    fill: false\n  }\n};\nvar addEdgeMarker = /* @__PURE__ */__name((svgPath, position, arrowType, url, id, diagramType, strokeColor) => {\n  const arrowTypeInfo = arrowTypesMap[arrowType];\n  if (!arrowTypeInfo) {\n    log.warn(\"Unknown arrow type: \".concat(arrowType));\n    return;\n  }\n  const endMarkerType = arrowTypeInfo.type;\n  const suffix = position === \"start\" ? \"Start\" : \"End\";\n  const originalMarkerId = \"\".concat(id, \"_\").concat(diagramType, \"-\").concat(endMarkerType).concat(suffix);\n  if (strokeColor && strokeColor.trim() !== \"\") {\n    const colorId = strokeColor.replace(/[^\\dA-Za-z]/g, \"_\");\n    const coloredMarkerId = \"\".concat(originalMarkerId, \"_\").concat(colorId);\n    if (!document.getElementById(coloredMarkerId)) {\n      const originalMarker = document.getElementById(originalMarkerId);\n      if (originalMarker) {\n        var _originalMarker$paren;\n        const coloredMarker = originalMarker.cloneNode(true);\n        coloredMarker.id = coloredMarkerId;\n        const paths = coloredMarker.querySelectorAll(\"path, circle, line\");\n        paths.forEach(path => {\n          path.setAttribute(\"stroke\", strokeColor);\n          if (arrowTypeInfo.fill) {\n            path.setAttribute(\"fill\", strokeColor);\n          }\n        });\n        (_originalMarker$paren = originalMarker.parentNode) === null || _originalMarker$paren === void 0 || _originalMarker$paren.appendChild(coloredMarker);\n      }\n    }\n    svgPath.attr(\"marker-\".concat(position), \"url(\".concat(url, \"#\").concat(coloredMarkerId, \")\"));\n  } else {\n    svgPath.attr(\"marker-\".concat(position), \"url(\".concat(url, \"#\").concat(originalMarkerId, \")\"));\n  }\n}, \"addEdgeMarker\");\n\n// src/rendering-util/rendering-elements/edges.js\nvar edgeLabels = /* @__PURE__ */new Map();\nvar terminalLabels = /* @__PURE__ */new Map();\nvar clear = /* @__PURE__ */__name(() => {\n  edgeLabels.clear();\n  terminalLabels.clear();\n}, \"clear\");\nvar getLabelStyles = /* @__PURE__ */__name(styleArray => {\n  let styles = styleArray ? styleArray.reduce((acc, style) => acc + \";\" + style, \"\") : \"\";\n  return styles;\n}, \"getLabelStyles\");\nvar insertEdgeLabel = /* @__PURE__ */__name(async (elem, edge) => {\n  let useHtmlLabels = evaluate(getConfig().flowchart.htmlLabels);\n  const {\n    labelStyles\n  } = styles2String(edge);\n  edge.labelStyle = labelStyles;\n  const labelElement = await createText(elem, edge.label, {\n    style: edge.labelStyle,\n    useHtmlLabels,\n    addSvgBackground: true,\n    isNode: false\n  });\n  log.info(\"abc82\", edge, edge.labelType);\n  const edgeLabel = elem.insert(\"g\").attr(\"class\", \"edgeLabel\");\n  const label = edgeLabel.insert(\"g\").attr(\"class\", \"label\").attr(\"data-id\", edge.id);\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  edgeLabels.set(edge.id, edgeLabel);\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = await createLabel_default(edge.startLabelLeft, getLabelStyles(edge.labelStyle));\n    const startEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = await createLabel_default(edge.startLabelRight, getLabelStyles(edge.labelStyle));\n    const startEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = await createLabel_default(edge.endLabelLeft, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = await createLabel_default(edge.endLabelRight, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n}, \"insertEdgeLabel\");\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + \"px\";\n    fo.style.height = \"12px\";\n  }\n}\n__name(setTerminalWidth, \"setTerminalWidth\");\nvar positionEdgeLabel = /* @__PURE__ */__name((edge, paths) => {\n  log.debug(\"Moving label abc88 \", edge.id, edge.label, edgeLabels.get(edge.id), paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = getConfig();\n  const {\n    subGraphTitleTotalMargin\n  } = getSubGraphTitleMargins(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels.get(edge.id);\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcLabelPosition(path);\n      log.debug(\"Moving label \" + edge.label + \" from (\", x, \",\", y, \") to (\", pos.x, \",\", pos.y, \") abc88\");\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr(\"transform\", \"translate(\".concat(x, \", \").concat(y + subGraphTitleTotalMargin / 2, \")\"));\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels.get(edge.id).startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", \"translate(\".concat(x, \", \").concat(y, \")\"));\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels.get(edge.id).startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", \"translate(\".concat(x, \", \").concat(y, \")\"));\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels.get(edge.id).endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", \"translate(\".concat(x, \", \").concat(y, \")\"));\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels.get(edge.id).endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", \"translate(\".concat(x, \", \").concat(y, \")\"));\n  }\n}, \"positionEdgeLabel\");\nvar outsideNode = /* @__PURE__ */__name((node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  return dx >= w || dy >= h;\n}, \"outsideNode\");\nvar intersection = /* @__PURE__ */__name((node, outsidePoint, insidePoint) => {\n  log.debug(\"intersection calc abc89:\\n  outsidePoint: \".concat(JSON.stringify(outsidePoint), \"\\n  insidePoint : \").concat(JSON.stringify(insidePoint), \"\\n  node        : x:\").concat(node.x, \" y:\").concat(node.y, \" w:\").concat(node.width, \" h:\").concat(node.height));\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    log.debug(\"abc89 top/bottom calc, Q \".concat(Q, \", q \").concat(q, \", R \").concat(R, \", r \").concat(r), res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.debug(\"sides calc abc89, Q \".concat(Q, \", q \").concat(q, \", R \").concat(R, \", r \").concat(r), {\n      _x,\n      _y\n    });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return {\n      x: _x,\n      y: _y\n    };\n  }\n}, \"intersection\");\nvar cutPathAtIntersect = /* @__PURE__ */__name((_points, boundaryNode) => {\n  log.warn(\"abc88 cutPathAtIntersect\", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach(point2 => {\n    log.info(\"abc88 checking point\", point2, boundaryNode);\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      log.debug(\"abc88 inside\", point2, lastPointOutside, inter);\n      log.debug(\"abc88 intersection\", inter, boundaryNode);\n      let pointPresent = false;\n      points.forEach(p => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some(e => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        log.warn(\"abc88 no intersect\", inter, points);\n      }\n      isInside = true;\n    } else {\n      log.warn(\"abc88 outside\", point2, lastPointOutside);\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  log.debug(\"returning points\", points);\n  return points;\n}, \"cutPathAtIntersect\");\nfunction extractCornerPoints(points) {\n  const cornerPoints = [];\n  const cornerPointPositions = [];\n  for (let i = 1; i < points.length - 1; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    if (prev.x === curr.x && curr.y === next.y && Math.abs(curr.x - next.x) > 5 && Math.abs(curr.y - prev.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    } else if (prev.y === curr.y && curr.x === next.x && Math.abs(curr.x - prev.x) > 5 && Math.abs(curr.y - next.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    }\n  }\n  return {\n    cornerPoints,\n    cornerPointPositions\n  };\n}\n__name(extractCornerPoints, \"extractCornerPoints\");\nvar findAdjacentPoint = /* @__PURE__ */__name(function (pointA, pointB, distance) {\n  const xDiff = pointB.x - pointA.x;\n  const yDiff = pointB.y - pointA.y;\n  const length = Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n  const ratio = distance / length;\n  return {\n    x: pointB.x - ratio * xDiff,\n    y: pointB.y - ratio * yDiff\n  };\n}, \"findAdjacentPoint\");\nvar fixCorners = /* @__PURE__ */__name(function (lineData) {\n  const {\n    cornerPointPositions\n  } = extractCornerPoints(lineData);\n  const newLineData = [];\n  for (let i = 0; i < lineData.length; i++) {\n    if (cornerPointPositions.includes(i)) {\n      const prevPoint = lineData[i - 1];\n      const nextPoint = lineData[i + 1];\n      const cornerPoint = lineData[i];\n      const newPrevPoint = findAdjacentPoint(prevPoint, cornerPoint, 5);\n      const newNextPoint = findAdjacentPoint(nextPoint, cornerPoint, 5);\n      const xDiff = newNextPoint.x - newPrevPoint.x;\n      const yDiff = newNextPoint.y - newPrevPoint.y;\n      newLineData.push(newPrevPoint);\n      const a = Math.sqrt(2) * 2;\n      let newCornerPoint = {\n        x: cornerPoint.x,\n        y: cornerPoint.y\n      };\n      if (Math.abs(nextPoint.x - prevPoint.x) > 10 && Math.abs(nextPoint.y - prevPoint.y) >= 10) {\n        log.debug(\"Corner point fixing\", Math.abs(nextPoint.x - prevPoint.x), Math.abs(nextPoint.y - prevPoint.y));\n        const r = 5;\n        if (cornerPoint.x === newPrevPoint.x) {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - r + a : newPrevPoint.x + r - a,\n            y: yDiff < 0 ? newPrevPoint.y - a : newPrevPoint.y + a\n          };\n        } else {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - a : newPrevPoint.x + a,\n            y: yDiff < 0 ? newPrevPoint.y - r + a : newPrevPoint.y + r - a\n          };\n        }\n      } else {\n        log.debug(\"Corner point skipping fixing\", Math.abs(nextPoint.x - prevPoint.x), Math.abs(nextPoint.y - prevPoint.y));\n      }\n      newLineData.push(newCornerPoint, newNextPoint);\n    } else {\n      newLineData.push(lineData[i]);\n    }\n  }\n  return newLineData;\n}, \"fixCorners\");\nvar generateDashArray = /* @__PURE__ */__name((len, oValueS, oValueE) => {\n  const middleLength = len - oValueS - oValueE;\n  const dashLength = 2;\n  const gapLength = 2;\n  const dashGapPairLength = dashLength + gapLength;\n  const numberOfPairs = Math.floor(middleLength / dashGapPairLength);\n  const middlePattern = Array(numberOfPairs).fill(\"\".concat(dashLength, \" \").concat(gapLength)).join(\" \");\n  const dashArray = \"0 \".concat(oValueS, \" \").concat(middlePattern, \" \").concat(oValueE);\n  return dashArray;\n}, \"generateDashArray\");\nvar insertEdge = /* @__PURE__ */__name(function (elem, edge, clusterDb, diagramType, startNode, endNode, id) {\n  let skipIntersect = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : false;\n  const {\n    handDrawnSeed\n  } = getConfig();\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = startNode;\n  var head = endNode;\n  const edgeClassStyles = [];\n  for (const key in edge.cssCompiledStyles) {\n    if (isLabelStyle(key)) {\n      continue;\n    }\n    edgeClassStyles.push(edge.cssCompiledStyles[key]);\n  }\n  log.debug(\"UIO intersect check\", edge.points, head.x, tail.x);\n  if (head.intersect && tail.intersect && !skipIntersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    log.debug(\"Last point UIO\", edge.start, \"-->\", edge.end, points[points.length - 1], head, head.intersect(points[points.length - 1]));\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  const pointsStr = btoa(JSON.stringify(points));\n  if (edge.toCluster) {\n    log.info(\"to cluster abc88\", clusterDb.get(edge.toCluster));\n    points = cutPathAtIntersect(edge.points, clusterDb.get(edge.toCluster).node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    log.debug(\"from cluster abc88\", clusterDb.get(edge.fromCluster), JSON.stringify(points, null, 2));\n    points = cutPathAtIntersect(points.reverse(), clusterDb.get(edge.fromCluster).node).reverse();\n    pointsHasChanged = true;\n  }\n  let lineData = points.filter(p => !Number.isNaN(p.y));\n  lineData = fixCorners(lineData);\n  let curve = curveBasis;\n  curve = curveLinear;\n  switch (edge.curve) {\n    case \"linear\":\n      curve = curveLinear;\n      break;\n    case \"basis\":\n      curve = curveBasis;\n      break;\n    case \"cardinal\":\n      curve = curveCardinal;\n      break;\n    case \"bumpX\":\n      curve = curveBumpX;\n      break;\n    case \"bumpY\":\n      curve = curveBumpY;\n      break;\n    case \"catmullRom\":\n      curve = curveCatmullRom;\n      break;\n    case \"monotoneX\":\n      curve = curveMonotoneX;\n      break;\n    case \"monotoneY\":\n      curve = curveMonotoneY;\n      break;\n    case \"natural\":\n      curve = curveNatural;\n      break;\n    case \"step\":\n      curve = curveStep;\n      break;\n    case \"stepAfter\":\n      curve = curveStepAfter;\n      break;\n    case \"stepBefore\":\n      curve = curveStepBefore;\n      break;\n    default:\n      curve = curveBasis;\n  }\n  const {\n    x,\n    y\n  } = getLineFunctionsWithOffset(edge);\n  const lineFunction = line().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case \"normal\":\n      strokeClasses = \"edge-thickness-normal\";\n      break;\n    case \"thick\":\n      strokeClasses = \"edge-thickness-thick\";\n      break;\n    case \"invisible\":\n      strokeClasses = \"edge-thickness-invisible\";\n      break;\n    default:\n      strokeClasses = \"edge-thickness-normal\";\n  }\n  switch (edge.pattern) {\n    case \"solid\":\n      strokeClasses += \" edge-pattern-solid\";\n      break;\n    case \"dotted\":\n      strokeClasses += \" edge-pattern-dotted\";\n      break;\n    case \"dashed\":\n      strokeClasses += \" edge-pattern-dashed\";\n      break;\n    default:\n      strokeClasses += \" edge-pattern-solid\";\n  }\n  let svgPath;\n  let linePath = edge.curve === \"rounded\" ? generateRoundedPath(applyMarkerOffsetsToPoints(lineData, edge), 5) : lineFunction(lineData);\n  const edgeStyles = Array.isArray(edge.style) ? edge.style : [edge.style];\n  let strokeColor = edgeStyles.find(style => style === null || style === void 0 ? void 0 : style.startsWith(\"stroke:\"));\n  let animatedEdge = false;\n  if (edge.look === \"handDrawn\") {\n    const rc = rough.svg(elem);\n    Object.assign([], lineData);\n    const svgPathNode = rc.path(linePath, {\n      roughness: 0.3,\n      seed: handDrawnSeed\n    });\n    strokeClasses += \" transition\";\n    svgPath = select(svgPathNode).select(\"path\").attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\")).attr(\"style\", edgeStyles ? edgeStyles.reduce((acc, style) => acc + \";\" + style, \"\") : \"\");\n    let d = svgPath.attr(\"d\");\n    svgPath.attr(\"d\", d);\n    elem.node().appendChild(svgPath.node());\n  } else {\n    var _pathStyle$match;\n    const stylesFromClasses = edgeClassStyles.join(\";\");\n    const styles = edgeStyles ? edgeStyles.reduce((acc, style) => acc + style + \";\", \"\") : \"\";\n    let animationClass = \"\";\n    if (edge.animate) {\n      animationClass = \" edge-animation-fast\";\n    }\n    if (edge.animation) {\n      animationClass = \" edge-animation-\" + edge.animation;\n    }\n    const pathStyle = (stylesFromClasses ? stylesFromClasses + \";\" + styles + \";\" : styles) + \";\" + (edgeStyles ? edgeStyles.reduce((acc, style) => acc + \";\" + style, \"\") : \"\");\n    svgPath = elem.append(\"path\").attr(\"d\", linePath).attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\") + (animationClass !== null && animationClass !== void 0 ? animationClass : \"\")).attr(\"style\", pathStyle);\n    strokeColor = (_pathStyle$match = pathStyle.match(/stroke:([^;]+)/)) === null || _pathStyle$match === void 0 ? void 0 : _pathStyle$match[1];\n    animatedEdge = edge.animate === true || !!edge.animation || stylesFromClasses.includes(\"animation\");\n    const pathNode = svgPath.node();\n    const len = typeof pathNode.getTotalLength === \"function\" ? pathNode.getTotalLength() : 0;\n    const oValueS = markerOffsets2[edge.arrowTypeStart] || 0;\n    const oValueE = markerOffsets2[edge.arrowTypeEnd] || 0;\n    if (edge.look === \"neo\" && !animatedEdge) {\n      const dashArray = edge.pattern === \"dotted\" || edge.pattern === \"dashed\" ? generateDashArray(len, oValueS, oValueE) : \"0 \".concat(oValueS, \" \").concat(len - oValueS - oValueE, \" \").concat(oValueE);\n      const mOffset = \"stroke-dasharray: \".concat(dashArray, \"; stroke-dashoffset: 0;\");\n      svgPath.attr(\"style\", mOffset + svgPath.attr(\"style\"));\n    }\n  }\n  svgPath.attr(\"data-edge\", true);\n  svgPath.attr(\"data-et\", \"edge\");\n  svgPath.attr(\"data-id\", edge.id);\n  svgPath.attr(\"data-points\", pointsStr);\n  if (edge.showPoints) {\n    lineData.forEach(point3 => {\n      elem.append(\"circle\").style(\"stroke\", \"red\").style(\"fill\", \"red\").attr(\"r\", 1).attr(\"cx\", point3.x).attr(\"cy\", point3.y);\n    });\n  }\n  let url = \"\";\n  if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n  }\n  log.info(\"arrowTypeStart\", edge.arrowTypeStart);\n  log.info(\"arrowTypeEnd\", edge.arrowTypeEnd);\n  addEdgeMarkers(svgPath, edge, url, id, diagramType, strokeColor);\n  const midIndex = Math.floor(points.length / 2);\n  const point2 = points[midIndex];\n  if (!utils_default.isLabelCoordinateInPath(point2, svgPath.attr(\"d\"))) {\n    pointsHasChanged = true;\n  }\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n}, \"insertEdge\");\nfunction generateRoundedPath(points, radius) {\n  if (points.length < 2) {\n    return \"\";\n  }\n  let path = \"\";\n  const size = points.length;\n  const epsilon = 1e-5;\n  for (let i = 0; i < size; i++) {\n    const currPoint = points[i];\n    const prevPoint = points[i - 1];\n    const nextPoint = points[i + 1];\n    if (i === 0) {\n      path += \"M\".concat(currPoint.x, \",\").concat(currPoint.y);\n    } else if (i === size - 1) {\n      path += \"L\".concat(currPoint.x, \",\").concat(currPoint.y);\n    } else {\n      const dx1 = currPoint.x - prevPoint.x;\n      const dy1 = currPoint.y - prevPoint.y;\n      const dx2 = nextPoint.x - currPoint.x;\n      const dy2 = nextPoint.y - currPoint.y;\n      const len1 = Math.hypot(dx1, dy1);\n      const len2 = Math.hypot(dx2, dy2);\n      if (len1 < epsilon || len2 < epsilon) {\n        path += \"L\".concat(currPoint.x, \",\").concat(currPoint.y);\n        continue;\n      }\n      const nx1 = dx1 / len1;\n      const ny1 = dy1 / len1;\n      const nx2 = dx2 / len2;\n      const ny2 = dy2 / len2;\n      const dot = nx1 * nx2 + ny1 * ny2;\n      const clampedDot = Math.max(-1, Math.min(1, dot));\n      const angle = Math.acos(clampedDot);\n      if (angle < epsilon || Math.abs(Math.PI - angle) < epsilon) {\n        path += \"L\".concat(currPoint.x, \",\").concat(currPoint.y);\n        continue;\n      }\n      const cutLen = Math.min(radius / Math.sin(angle / 2), len1 / 2, len2 / 2);\n      const startX = currPoint.x - nx1 * cutLen;\n      const startY = currPoint.y - ny1 * cutLen;\n      const endX = currPoint.x + nx2 * cutLen;\n      const endY = currPoint.y + ny2 * cutLen;\n      path += \"L\".concat(startX, \",\").concat(startY);\n      path += \"Q\".concat(currPoint.x, \",\").concat(currPoint.y, \" \").concat(endX, \",\").concat(endY);\n    }\n  }\n  return path;\n}\n__name(generateRoundedPath, \"generateRoundedPath\");\nfunction calculateDeltaAndAngle(point1, point2) {\n  if (!point1 || !point2) {\n    return {\n      angle: 0,\n      deltaX: 0,\n      deltaY: 0\n    };\n  }\n  const deltaX = point2.x - point1.x;\n  const deltaY = point2.y - point1.y;\n  const angle = Math.atan2(deltaY, deltaX);\n  return {\n    angle,\n    deltaX,\n    deltaY\n  };\n}\n__name(calculateDeltaAndAngle, \"calculateDeltaAndAngle\");\nfunction applyMarkerOffsetsToPoints(points, edge) {\n  const newPoints = points.map(point2 => _objectSpread({}, point2));\n  if (points.length >= 2 && markerOffsets[edge.arrowTypeStart]) {\n    const offsetValue = markerOffsets[edge.arrowTypeStart];\n    const point1 = points[0];\n    const point2 = points[1];\n    const {\n      angle\n    } = calculateDeltaAndAngle(point1, point2);\n    const offsetX = offsetValue * Math.cos(angle);\n    const offsetY = offsetValue * Math.sin(angle);\n    newPoints[0].x = point1.x + offsetX;\n    newPoints[0].y = point1.y + offsetY;\n  }\n  const n = points.length;\n  if (n >= 2 && markerOffsets[edge.arrowTypeEnd]) {\n    const offsetValue = markerOffsets[edge.arrowTypeEnd];\n    const point1 = points[n - 1];\n    const point2 = points[n - 2];\n    const {\n      angle\n    } = calculateDeltaAndAngle(point2, point1);\n    const offsetX = offsetValue * Math.cos(angle);\n    const offsetY = offsetValue * Math.sin(angle);\n    newPoints[n - 1].x = point1.x - offsetX;\n    newPoints[n - 1].y = point1.y - offsetY;\n  }\n  return newPoints;\n}\n__name(applyMarkerOffsetsToPoints, \"applyMarkerOffsetsToPoints\");\n\n// src/rendering-util/rendering-elements/markers.js\nvar insertMarkers = /* @__PURE__ */__name((elem, markerArray, type, id) => {\n  markerArray.forEach(markerName => {\n    markers[markerName](elem, type, id);\n  });\n}, \"insertMarkers\");\nvar extension = /* @__PURE__ */__name((elem, type, id) => {\n  log.trace(\"Making markers for \", id);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionStart\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,7 L18,13 V 1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionEnd\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 V 13 L18,7 Z\");\n}, \"extension\");\nvar composition = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionStart\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionEnd\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"composition\");\nvar aggregation = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationStart\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationEnd\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"aggregation\");\nvar dependency = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyStart\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 6).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 5,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyEnd\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L14,7 L9,1 Z\");\n}, \"dependency\");\nvar lollipop = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopStart\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopEnd\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n}, \"lollipop\");\nvar point = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 4.5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 5 L 10 10 L 10 0 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"point\");\nvar circle = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 11).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", -1).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"circle\");\nvar cross = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossEnd\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", 12).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossStart\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", -1).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n}, \"cross\");\nvar barb = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-barbEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 14).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 19,7 L9,13 L14,7 L9,1 Z\");\n}, \"barb\");\nvar only_one = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneStart\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M9,0 L9,18 M15,0 L15,18\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneEnd\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 18).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,0 L3,18 M9,0 L9,18\");\n}, \"only_one\");\nvar zero_or_one = /* @__PURE__ */__name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneStart\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 21).attr(\"cy\", 9).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M9,0 L9,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneEnd\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 30).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 9).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,0 L21,18\");\n}, \"zero_or_one\");\nvar one_or_more = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreStart\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreEnd\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 27).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18\");\n}, \"one_or_more\");\nvar zero_or_more = /* @__PURE__ */__name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreStart\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 48).attr(\"cy\", 18).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M0,18 Q18,0 36,18 Q18,36 0,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreEnd\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 39).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 18).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,18 Q39,0 57,18 Q39,36 21,18\");\n}, \"zero_or_more\");\nvar requirement_arrow = /* @__PURE__ */__name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_arrowEnd\").attr(\"refX\", 20).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M0,0\\n      L20,10\\n      M20,10\\n      L0,20\");\n}, \"requirement_arrow\");\nvar requirement_contains = /* @__PURE__ */__name((elem, type, id) => {\n  const containsNode = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_containsStart\").attr(\"refX\", 0).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"g\");\n  containsNode.append(\"circle\").attr(\"cx\", 10).attr(\"cy\", 10).attr(\"r\", 9).attr(\"fill\", \"none\");\n  containsNode.append(\"line\").attr(\"x1\", 1).attr(\"x2\", 19).attr(\"y1\", 10).attr(\"y2\", 10);\n  containsNode.append(\"line\").attr(\"y1\", 1).attr(\"y2\", 19).attr(\"x1\", 10).attr(\"x2\", 10);\n}, \"requirement_contains\");\nvar markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb,\n  only_one,\n  zero_or_one,\n  one_or_more,\n  zero_or_more,\n  requirement_arrow,\n  requirement_contains\n};\nvar markers_default = insertMarkers;\nexport { clear, insertEdgeLabel, positionEdgeLabel, insertEdge, markers_default };","map":{"version":3,"names":["getLineFunctionsWithOffset","markerOffsets","markerOffsets2","createLabel_default","getSubGraphTitleMargins","isLabelStyle","styles2String","createText","utils_default","evaluate","getConfig2","getConfig","__name","log","curveBasis","curveLinear","curveCardinal","curveBumpX","curveBumpY","curveCatmullRom","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","line","select","rough","addEdgeMarkers","svgPath","edge","url","id","diagramType","strokeColor","arrowTypeStart","addEdgeMarker","arrowTypeEnd","arrowTypesMap","arrow_cross","type","fill","arrow_point","arrow_barb","arrow_circle","aggregation","extension","composition","dependency","lollipop","only_one","zero_or_one","one_or_more","zero_or_more","requirement_arrow","requirement_contains","position","arrowType","arrowTypeInfo","warn","concat","endMarkerType","suffix","originalMarkerId","trim","colorId","replace","coloredMarkerId","document","getElementById","originalMarker","_originalMarker$paren","coloredMarker","cloneNode","paths","querySelectorAll","forEach","path","setAttribute","parentNode","appendChild","attr","edgeLabels","Map","terminalLabels","clear","getLabelStyles","styleArray","styles","reduce","acc","style","insertEdgeLabel","elem","useHtmlLabels","flowchart","htmlLabels","labelStyles","labelStyle","labelElement","label","addSvgBackground","isNode","info","labelType","edgeLabel","insert","node","bbox","getBBox","div","children","dv","getBoundingClientRect","width","height","set","fo","startLabelLeft","startLabelElement","startEdgeLabelLeft","inner","slBox","get","startLeft","setTerminalWidth","startLabelRight","startEdgeLabelRight","startRight","endLabelLeft","endLabelElement","endEdgeLabelLeft","endLeft","endLabelRight","endEdgeLabelRight","endRight","value","length","positionEdgeLabel","debug","updatedPath","originalPath","siteConfig","subGraphTitleTotalMargin","el","x","y","pos","calcLabelPosition","calcTerminalLabelPosition","outsideNode","point2","dx","Math","abs","dy","w","h","intersection","outsidePoint","insidePoint","JSON","stringify","r","Q","R","q","res","_x","_y","cutPathAtIntersect","_points","boundaryNode","points","lastPointOutside","isInside","inter","pointPresent","p","some","e","push","extractCornerPoints","cornerPoints","cornerPointPositions","i","prev","curr","next","findAdjacentPoint","pointA","pointB","distance","xDiff","yDiff","sqrt","ratio","fixCorners","lineData","newLineData","includes","prevPoint","nextPoint","cornerPoint","newPrevPoint","newNextPoint","a","newCornerPoint","generateDashArray","len","oValueS","oValueE","middleLength","dashLength","gapLength","dashGapPairLength","numberOfPairs","floor","middlePattern","Array","join","dashArray","insertEdge","clusterDb","startNode","endNode","skipIntersect","arguments","undefined","handDrawnSeed","pointsHasChanged","tail","head","edgeClassStyles","key","cssCompiledStyles","intersect","slice","unshift","start","end","pointsStr","btoa","toCluster","fromCluster","reverse","filter","Number","isNaN","curve","lineFunction","strokeClasses","thickness","pattern","linePath","generateRoundedPath","applyMarkerOffsetsToPoints","edgeStyles","isArray","find","startsWith","animatedEdge","look","rc","svg","Object","assign","svgPathNode","roughness","seed","classes","d","_pathStyle$match","stylesFromClasses","animationClass","animate","animation","pathStyle","append","match","pathNode","getTotalLength","mOffset","showPoints","point3","arrowMarkerAbsolute","state","window","location","protocol","host","pathname","search","midIndex","isLabelCoordinateInPath","radius","size","epsilon","currPoint","dx1","dy1","dx2","dy2","len1","hypot","len2","nx1","ny1","nx2","ny2","dot","clampedDot","max","min","angle","acos","PI","cutLen","sin","startX","startY","endX","endY","calculateDeltaAndAngle","point1","deltaX","deltaY","atan2","newPoints","map","_objectSpread","offsetValue","offsetX","cos","offsetY","n","insertMarkers","markerArray","markerName","markers","trace","point","circle","cross","barb","startMarker","endMarker","containsNode","markers_default"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/mermaid/dist/chunks/mermaid.core/chunk-QXUST7PY.mjs"],"sourcesContent":["import {\n  getLineFunctionsWithOffset,\n  markerOffsets,\n  markerOffsets2\n} from \"./chunk-HN2XXSSU.mjs\";\nimport {\n  createLabel_default\n} from \"./chunk-JZLCHNYA.mjs\";\nimport {\n  getSubGraphTitleMargins\n} from \"./chunk-CVBHYZKI.mjs\";\nimport {\n  isLabelStyle,\n  styles2String\n} from \"./chunk-ATLVNIR6.mjs\";\nimport {\n  createText\n} from \"./chunk-JA3XYJ7Z.mjs\";\nimport {\n  utils_default\n} from \"./chunk-S3R3BYOJ.mjs\";\nimport {\n  evaluate,\n  getConfig2 as getConfig\n} from \"./chunk-ABZYJK2D.mjs\";\nimport {\n  __name,\n  log\n} from \"./chunk-AGHRB4JF.mjs\";\n\n// src/rendering-util/rendering-elements/edges.js\nimport {\n  curveBasis,\n  curveLinear,\n  curveCardinal,\n  curveBumpX,\n  curveBumpY,\n  curveCatmullRom,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  line,\n  select\n} from \"d3\";\nimport rough from \"roughjs\";\n\n// src/rendering-util/rendering-elements/edgeMarker.ts\nvar addEdgeMarkers = /* @__PURE__ */ __name((svgPath, edge, url, id, diagramType, strokeColor) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, \"start\", edge.arrowTypeStart, url, id, diagramType, strokeColor);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, \"end\", edge.arrowTypeEnd, url, id, diagramType, strokeColor);\n  }\n}, \"addEdgeMarkers\");\nvar arrowTypesMap = {\n  arrow_cross: { type: \"cross\", fill: false },\n  arrow_point: { type: \"point\", fill: true },\n  arrow_barb: { type: \"barb\", fill: true },\n  arrow_circle: { type: \"circle\", fill: false },\n  aggregation: { type: \"aggregation\", fill: false },\n  extension: { type: \"extension\", fill: false },\n  composition: { type: \"composition\", fill: true },\n  dependency: { type: \"dependency\", fill: true },\n  lollipop: { type: \"lollipop\", fill: false },\n  only_one: { type: \"onlyOne\", fill: false },\n  zero_or_one: { type: \"zeroOrOne\", fill: false },\n  one_or_more: { type: \"oneOrMore\", fill: false },\n  zero_or_more: { type: \"zeroOrMore\", fill: false },\n  requirement_arrow: { type: \"requirement_arrow\", fill: false },\n  requirement_contains: { type: \"requirement_contains\", fill: false }\n};\nvar addEdgeMarker = /* @__PURE__ */ __name((svgPath, position, arrowType, url, id, diagramType, strokeColor) => {\n  const arrowTypeInfo = arrowTypesMap[arrowType];\n  if (!arrowTypeInfo) {\n    log.warn(`Unknown arrow type: ${arrowType}`);\n    return;\n  }\n  const endMarkerType = arrowTypeInfo.type;\n  const suffix = position === \"start\" ? \"Start\" : \"End\";\n  const originalMarkerId = `${id}_${diagramType}-${endMarkerType}${suffix}`;\n  if (strokeColor && strokeColor.trim() !== \"\") {\n    const colorId = strokeColor.replace(/[^\\dA-Za-z]/g, \"_\");\n    const coloredMarkerId = `${originalMarkerId}_${colorId}`;\n    if (!document.getElementById(coloredMarkerId)) {\n      const originalMarker = document.getElementById(originalMarkerId);\n      if (originalMarker) {\n        const coloredMarker = originalMarker.cloneNode(true);\n        coloredMarker.id = coloredMarkerId;\n        const paths = coloredMarker.querySelectorAll(\"path, circle, line\");\n        paths.forEach((path) => {\n          path.setAttribute(\"stroke\", strokeColor);\n          if (arrowTypeInfo.fill) {\n            path.setAttribute(\"fill\", strokeColor);\n          }\n        });\n        originalMarker.parentNode?.appendChild(coloredMarker);\n      }\n    }\n    svgPath.attr(`marker-${position}`, `url(${url}#${coloredMarkerId})`);\n  } else {\n    svgPath.attr(`marker-${position}`, `url(${url}#${originalMarkerId})`);\n  }\n}, \"addEdgeMarker\");\n\n// src/rendering-util/rendering-elements/edges.js\nvar edgeLabels = /* @__PURE__ */ new Map();\nvar terminalLabels = /* @__PURE__ */ new Map();\nvar clear = /* @__PURE__ */ __name(() => {\n  edgeLabels.clear();\n  terminalLabels.clear();\n}, \"clear\");\nvar getLabelStyles = /* @__PURE__ */ __name((styleArray) => {\n  let styles = styleArray ? styleArray.reduce((acc, style) => acc + \";\" + style, \"\") : \"\";\n  return styles;\n}, \"getLabelStyles\");\nvar insertEdgeLabel = /* @__PURE__ */ __name(async (elem, edge) => {\n  let useHtmlLabels = evaluate(getConfig().flowchart.htmlLabels);\n  const { labelStyles } = styles2String(edge);\n  edge.labelStyle = labelStyles;\n  const labelElement = await createText(elem, edge.label, {\n    style: edge.labelStyle,\n    useHtmlLabels,\n    addSvgBackground: true,\n    isNode: false\n  });\n  log.info(\"abc82\", edge, edge.labelType);\n  const edgeLabel = elem.insert(\"g\").attr(\"class\", \"edgeLabel\");\n  const label = edgeLabel.insert(\"g\").attr(\"class\", \"label\").attr(\"data-id\", edge.id);\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  edgeLabels.set(edge.id, edgeLabel);\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = await createLabel_default(\n      edge.startLabelLeft,\n      getLabelStyles(edge.labelStyle)\n    );\n    const startEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = await createLabel_default(\n      edge.startLabelRight,\n      getLabelStyles(edge.labelStyle)\n    );\n    const startEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = await createLabel_default(edge.endLabelLeft, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = await createLabel_default(edge.endLabelRight, getLabelStyles(edge.labelStyle));\n    const endEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels.get(edge.id)) {\n      terminalLabels.set(edge.id, {});\n    }\n    terminalLabels.get(edge.id).endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n}, \"insertEdgeLabel\");\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + \"px\";\n    fo.style.height = \"12px\";\n  }\n}\n__name(setTerminalWidth, \"setTerminalWidth\");\nvar positionEdgeLabel = /* @__PURE__ */ __name((edge, paths) => {\n  log.debug(\"Moving label abc88 \", edge.id, edge.label, edgeLabels.get(edge.id), paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = getConfig();\n  const { subGraphTitleTotalMargin } = getSubGraphTitleMargins(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels.get(edge.id);\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcLabelPosition(path);\n      log.debug(\n        \"Moving label \" + edge.label + \" from (\",\n        x,\n        \",\",\n        y,\n        \") to (\",\n        pos.x,\n        \",\",\n        pos.y,\n        \") abc88\"\n      );\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr(\"transform\", `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels.get(edge.id).startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels.get(edge.id).startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(\n        edge.arrowTypeStart ? 10 : 0,\n        \"start_right\",\n        path\n      );\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels.get(edge.id).endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels.get(edge.id).endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils_default.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n}, \"positionEdgeLabel\");\nvar outsideNode = /* @__PURE__ */ __name((node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  return dx >= w || dy >= h;\n}, \"outsideNode\");\nvar intersection = /* @__PURE__ */ __name((node, outsidePoint, insidePoint) => {\n  log.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    log.debug(`abc89 top/bottom calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return { x: _x, y: _y };\n  }\n}, \"intersection\");\nvar cutPathAtIntersect = /* @__PURE__ */ __name((_points, boundaryNode) => {\n  log.warn(\"abc88 cutPathAtIntersect\", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach((point2) => {\n    log.info(\"abc88 checking point\", point2, boundaryNode);\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      log.debug(\"abc88 inside\", point2, lastPointOutside, inter);\n      log.debug(\"abc88 intersection\", inter, boundaryNode);\n      let pointPresent = false;\n      points.forEach((p) => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some((e) => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        log.warn(\"abc88 no intersect\", inter, points);\n      }\n      isInside = true;\n    } else {\n      log.warn(\"abc88 outside\", point2, lastPointOutside);\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  log.debug(\"returning points\", points);\n  return points;\n}, \"cutPathAtIntersect\");\nfunction extractCornerPoints(points) {\n  const cornerPoints = [];\n  const cornerPointPositions = [];\n  for (let i = 1; i < points.length - 1; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    if (prev.x === curr.x && curr.y === next.y && Math.abs(curr.x - next.x) > 5 && Math.abs(curr.y - prev.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    } else if (prev.y === curr.y && curr.x === next.x && Math.abs(curr.x - prev.x) > 5 && Math.abs(curr.y - next.y) > 5) {\n      cornerPoints.push(curr);\n      cornerPointPositions.push(i);\n    }\n  }\n  return { cornerPoints, cornerPointPositions };\n}\n__name(extractCornerPoints, \"extractCornerPoints\");\nvar findAdjacentPoint = /* @__PURE__ */ __name(function(pointA, pointB, distance) {\n  const xDiff = pointB.x - pointA.x;\n  const yDiff = pointB.y - pointA.y;\n  const length = Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n  const ratio = distance / length;\n  return { x: pointB.x - ratio * xDiff, y: pointB.y - ratio * yDiff };\n}, \"findAdjacentPoint\");\nvar fixCorners = /* @__PURE__ */ __name(function(lineData) {\n  const { cornerPointPositions } = extractCornerPoints(lineData);\n  const newLineData = [];\n  for (let i = 0; i < lineData.length; i++) {\n    if (cornerPointPositions.includes(i)) {\n      const prevPoint = lineData[i - 1];\n      const nextPoint = lineData[i + 1];\n      const cornerPoint = lineData[i];\n      const newPrevPoint = findAdjacentPoint(prevPoint, cornerPoint, 5);\n      const newNextPoint = findAdjacentPoint(nextPoint, cornerPoint, 5);\n      const xDiff = newNextPoint.x - newPrevPoint.x;\n      const yDiff = newNextPoint.y - newPrevPoint.y;\n      newLineData.push(newPrevPoint);\n      const a = Math.sqrt(2) * 2;\n      let newCornerPoint = { x: cornerPoint.x, y: cornerPoint.y };\n      if (Math.abs(nextPoint.x - prevPoint.x) > 10 && Math.abs(nextPoint.y - prevPoint.y) >= 10) {\n        log.debug(\n          \"Corner point fixing\",\n          Math.abs(nextPoint.x - prevPoint.x),\n          Math.abs(nextPoint.y - prevPoint.y)\n        );\n        const r = 5;\n        if (cornerPoint.x === newPrevPoint.x) {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - r + a : newPrevPoint.x + r - a,\n            y: yDiff < 0 ? newPrevPoint.y - a : newPrevPoint.y + a\n          };\n        } else {\n          newCornerPoint = {\n            x: xDiff < 0 ? newPrevPoint.x - a : newPrevPoint.x + a,\n            y: yDiff < 0 ? newPrevPoint.y - r + a : newPrevPoint.y + r - a\n          };\n        }\n      } else {\n        log.debug(\n          \"Corner point skipping fixing\",\n          Math.abs(nextPoint.x - prevPoint.x),\n          Math.abs(nextPoint.y - prevPoint.y)\n        );\n      }\n      newLineData.push(newCornerPoint, newNextPoint);\n    } else {\n      newLineData.push(lineData[i]);\n    }\n  }\n  return newLineData;\n}, \"fixCorners\");\nvar generateDashArray = /* @__PURE__ */ __name((len, oValueS, oValueE) => {\n  const middleLength = len - oValueS - oValueE;\n  const dashLength = 2;\n  const gapLength = 2;\n  const dashGapPairLength = dashLength + gapLength;\n  const numberOfPairs = Math.floor(middleLength / dashGapPairLength);\n  const middlePattern = Array(numberOfPairs).fill(`${dashLength} ${gapLength}`).join(\" \");\n  const dashArray = `0 ${oValueS} ${middlePattern} ${oValueE}`;\n  return dashArray;\n}, \"generateDashArray\");\nvar insertEdge = /* @__PURE__ */ __name(function(elem, edge, clusterDb, diagramType, startNode, endNode, id, skipIntersect = false) {\n  const { handDrawnSeed } = getConfig();\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = startNode;\n  var head = endNode;\n  const edgeClassStyles = [];\n  for (const key in edge.cssCompiledStyles) {\n    if (isLabelStyle(key)) {\n      continue;\n    }\n    edgeClassStyles.push(edge.cssCompiledStyles[key]);\n  }\n  log.debug(\"UIO intersect check\", edge.points, head.x, tail.x);\n  if (head.intersect && tail.intersect && !skipIntersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    log.debug(\n      \"Last point UIO\",\n      edge.start,\n      \"-->\",\n      edge.end,\n      points[points.length - 1],\n      head,\n      head.intersect(points[points.length - 1])\n    );\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  const pointsStr = btoa(JSON.stringify(points));\n  if (edge.toCluster) {\n    log.info(\"to cluster abc88\", clusterDb.get(edge.toCluster));\n    points = cutPathAtIntersect(edge.points, clusterDb.get(edge.toCluster).node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    log.debug(\n      \"from cluster abc88\",\n      clusterDb.get(edge.fromCluster),\n      JSON.stringify(points, null, 2)\n    );\n    points = cutPathAtIntersect(points.reverse(), clusterDb.get(edge.fromCluster).node).reverse();\n    pointsHasChanged = true;\n  }\n  let lineData = points.filter((p) => !Number.isNaN(p.y));\n  lineData = fixCorners(lineData);\n  let curve = curveBasis;\n  curve = curveLinear;\n  switch (edge.curve) {\n    case \"linear\":\n      curve = curveLinear;\n      break;\n    case \"basis\":\n      curve = curveBasis;\n      break;\n    case \"cardinal\":\n      curve = curveCardinal;\n      break;\n    case \"bumpX\":\n      curve = curveBumpX;\n      break;\n    case \"bumpY\":\n      curve = curveBumpY;\n      break;\n    case \"catmullRom\":\n      curve = curveCatmullRom;\n      break;\n    case \"monotoneX\":\n      curve = curveMonotoneX;\n      break;\n    case \"monotoneY\":\n      curve = curveMonotoneY;\n      break;\n    case \"natural\":\n      curve = curveNatural;\n      break;\n    case \"step\":\n      curve = curveStep;\n      break;\n    case \"stepAfter\":\n      curve = curveStepAfter;\n      break;\n    case \"stepBefore\":\n      curve = curveStepBefore;\n      break;\n    default:\n      curve = curveBasis;\n  }\n  const { x, y } = getLineFunctionsWithOffset(edge);\n  const lineFunction = line().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case \"normal\":\n      strokeClasses = \"edge-thickness-normal\";\n      break;\n    case \"thick\":\n      strokeClasses = \"edge-thickness-thick\";\n      break;\n    case \"invisible\":\n      strokeClasses = \"edge-thickness-invisible\";\n      break;\n    default:\n      strokeClasses = \"edge-thickness-normal\";\n  }\n  switch (edge.pattern) {\n    case \"solid\":\n      strokeClasses += \" edge-pattern-solid\";\n      break;\n    case \"dotted\":\n      strokeClasses += \" edge-pattern-dotted\";\n      break;\n    case \"dashed\":\n      strokeClasses += \" edge-pattern-dashed\";\n      break;\n    default:\n      strokeClasses += \" edge-pattern-solid\";\n  }\n  let svgPath;\n  let linePath = edge.curve === \"rounded\" ? generateRoundedPath(applyMarkerOffsetsToPoints(lineData, edge), 5) : lineFunction(lineData);\n  const edgeStyles = Array.isArray(edge.style) ? edge.style : [edge.style];\n  let strokeColor = edgeStyles.find((style) => style?.startsWith(\"stroke:\"));\n  let animatedEdge = false;\n  if (edge.look === \"handDrawn\") {\n    const rc = rough.svg(elem);\n    Object.assign([], lineData);\n    const svgPathNode = rc.path(linePath, {\n      roughness: 0.3,\n      seed: handDrawnSeed\n    });\n    strokeClasses += \" transition\";\n    svgPath = select(svgPathNode).select(\"path\").attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\")).attr(\"style\", edgeStyles ? edgeStyles.reduce((acc, style) => acc + \";\" + style, \"\") : \"\");\n    let d = svgPath.attr(\"d\");\n    svgPath.attr(\"d\", d);\n    elem.node().appendChild(svgPath.node());\n  } else {\n    const stylesFromClasses = edgeClassStyles.join(\";\");\n    const styles = edgeStyles ? edgeStyles.reduce((acc, style) => acc + style + \";\", \"\") : \"\";\n    let animationClass = \"\";\n    if (edge.animate) {\n      animationClass = \" edge-animation-fast\";\n    }\n    if (edge.animation) {\n      animationClass = \" edge-animation-\" + edge.animation;\n    }\n    const pathStyle = (stylesFromClasses ? stylesFromClasses + \";\" + styles + \";\" : styles) + \";\" + (edgeStyles ? edgeStyles.reduce((acc, style) => acc + \";\" + style, \"\") : \"\");\n    svgPath = elem.append(\"path\").attr(\"d\", linePath).attr(\"id\", edge.id).attr(\n      \"class\",\n      \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\") + (animationClass ?? \"\")\n    ).attr(\"style\", pathStyle);\n    strokeColor = pathStyle.match(/stroke:([^;]+)/)?.[1];\n    animatedEdge = edge.animate === true || !!edge.animation || stylesFromClasses.includes(\"animation\");\n    const pathNode = svgPath.node();\n    const len = typeof pathNode.getTotalLength === \"function\" ? pathNode.getTotalLength() : 0;\n    const oValueS = markerOffsets2[edge.arrowTypeStart] || 0;\n    const oValueE = markerOffsets2[edge.arrowTypeEnd] || 0;\n    if (edge.look === \"neo\" && !animatedEdge) {\n      const dashArray = edge.pattern === \"dotted\" || edge.pattern === \"dashed\" ? generateDashArray(len, oValueS, oValueE) : `0 ${oValueS} ${len - oValueS - oValueE} ${oValueE}`;\n      const mOffset = `stroke-dasharray: ${dashArray}; stroke-dashoffset: 0;`;\n      svgPath.attr(\"style\", mOffset + svgPath.attr(\"style\"));\n    }\n  }\n  svgPath.attr(\"data-edge\", true);\n  svgPath.attr(\"data-et\", \"edge\");\n  svgPath.attr(\"data-id\", edge.id);\n  svgPath.attr(\"data-points\", pointsStr);\n  if (edge.showPoints) {\n    lineData.forEach((point3) => {\n      elem.append(\"circle\").style(\"stroke\", \"red\").style(\"fill\", \"red\").attr(\"r\", 1).attr(\"cx\", point3.x).attr(\"cy\", point3.y);\n    });\n  }\n  let url = \"\";\n  if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n  }\n  log.info(\"arrowTypeStart\", edge.arrowTypeStart);\n  log.info(\"arrowTypeEnd\", edge.arrowTypeEnd);\n  addEdgeMarkers(svgPath, edge, url, id, diagramType, strokeColor);\n  const midIndex = Math.floor(points.length / 2);\n  const point2 = points[midIndex];\n  if (!utils_default.isLabelCoordinateInPath(point2, svgPath.attr(\"d\"))) {\n    pointsHasChanged = true;\n  }\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n}, \"insertEdge\");\nfunction generateRoundedPath(points, radius) {\n  if (points.length < 2) {\n    return \"\";\n  }\n  let path = \"\";\n  const size = points.length;\n  const epsilon = 1e-5;\n  for (let i = 0; i < size; i++) {\n    const currPoint = points[i];\n    const prevPoint = points[i - 1];\n    const nextPoint = points[i + 1];\n    if (i === 0) {\n      path += `M${currPoint.x},${currPoint.y}`;\n    } else if (i === size - 1) {\n      path += `L${currPoint.x},${currPoint.y}`;\n    } else {\n      const dx1 = currPoint.x - prevPoint.x;\n      const dy1 = currPoint.y - prevPoint.y;\n      const dx2 = nextPoint.x - currPoint.x;\n      const dy2 = nextPoint.y - currPoint.y;\n      const len1 = Math.hypot(dx1, dy1);\n      const len2 = Math.hypot(dx2, dy2);\n      if (len1 < epsilon || len2 < epsilon) {\n        path += `L${currPoint.x},${currPoint.y}`;\n        continue;\n      }\n      const nx1 = dx1 / len1;\n      const ny1 = dy1 / len1;\n      const nx2 = dx2 / len2;\n      const ny2 = dy2 / len2;\n      const dot = nx1 * nx2 + ny1 * ny2;\n      const clampedDot = Math.max(-1, Math.min(1, dot));\n      const angle = Math.acos(clampedDot);\n      if (angle < epsilon || Math.abs(Math.PI - angle) < epsilon) {\n        path += `L${currPoint.x},${currPoint.y}`;\n        continue;\n      }\n      const cutLen = Math.min(radius / Math.sin(angle / 2), len1 / 2, len2 / 2);\n      const startX = currPoint.x - nx1 * cutLen;\n      const startY = currPoint.y - ny1 * cutLen;\n      const endX = currPoint.x + nx2 * cutLen;\n      const endY = currPoint.y + ny2 * cutLen;\n      path += `L${startX},${startY}`;\n      path += `Q${currPoint.x},${currPoint.y} ${endX},${endY}`;\n    }\n  }\n  return path;\n}\n__name(generateRoundedPath, \"generateRoundedPath\");\nfunction calculateDeltaAndAngle(point1, point2) {\n  if (!point1 || !point2) {\n    return { angle: 0, deltaX: 0, deltaY: 0 };\n  }\n  const deltaX = point2.x - point1.x;\n  const deltaY = point2.y - point1.y;\n  const angle = Math.atan2(deltaY, deltaX);\n  return { angle, deltaX, deltaY };\n}\n__name(calculateDeltaAndAngle, \"calculateDeltaAndAngle\");\nfunction applyMarkerOffsetsToPoints(points, edge) {\n  const newPoints = points.map((point2) => ({ ...point2 }));\n  if (points.length >= 2 && markerOffsets[edge.arrowTypeStart]) {\n    const offsetValue = markerOffsets[edge.arrowTypeStart];\n    const point1 = points[0];\n    const point2 = points[1];\n    const { angle } = calculateDeltaAndAngle(point1, point2);\n    const offsetX = offsetValue * Math.cos(angle);\n    const offsetY = offsetValue * Math.sin(angle);\n    newPoints[0].x = point1.x + offsetX;\n    newPoints[0].y = point1.y + offsetY;\n  }\n  const n = points.length;\n  if (n >= 2 && markerOffsets[edge.arrowTypeEnd]) {\n    const offsetValue = markerOffsets[edge.arrowTypeEnd];\n    const point1 = points[n - 1];\n    const point2 = points[n - 2];\n    const { angle } = calculateDeltaAndAngle(point2, point1);\n    const offsetX = offsetValue * Math.cos(angle);\n    const offsetY = offsetValue * Math.sin(angle);\n    newPoints[n - 1].x = point1.x - offsetX;\n    newPoints[n - 1].y = point1.y - offsetY;\n  }\n  return newPoints;\n}\n__name(applyMarkerOffsetsToPoints, \"applyMarkerOffsetsToPoints\");\n\n// src/rendering-util/rendering-elements/markers.js\nvar insertMarkers = /* @__PURE__ */ __name((elem, markerArray, type, id) => {\n  markerArray.forEach((markerName) => {\n    markers[markerName](elem, type, id);\n  });\n}, \"insertMarkers\");\nvar extension = /* @__PURE__ */ __name((elem, type, id) => {\n  log.trace(\"Making markers for \", id);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionStart\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,7 L18,13 V 1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionEnd\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 V 13 L18,7 Z\");\n}, \"extension\");\nvar composition = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionStart\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionEnd\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"composition\");\nvar aggregation = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationStart\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationEnd\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n}, \"aggregation\");\nvar dependency = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyStart\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 6).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 5,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyEnd\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L14,7 L9,1 Z\");\n}, \"dependency\");\nvar lollipop = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopStart\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopEnd\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n}, \"lollipop\");\nvar point = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 4.5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 8).attr(\"markerHeight\", 8).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 5 L 10 10 L 10 0 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"point\");\nvar circle = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 11).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", -1).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n}, \"circle\");\nvar cross = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossEnd\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", 12).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossStart\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", -1).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n}, \"cross\");\nvar barb = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-barbEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 14).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 19,7 L9,13 L14,7 L9,1 Z\");\n}, \"barb\");\nvar only_one = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneStart\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M9,0 L9,18 M15,0 L15,18\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-onlyOneEnd\").attr(\"class\", \"marker onlyOne \" + type).attr(\"refX\", 18).attr(\"refY\", 9).attr(\"markerWidth\", 18).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,0 L3,18 M9,0 L9,18\");\n}, \"only_one\");\nvar zero_or_one = /* @__PURE__ */ __name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneStart\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 0).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 21).attr(\"cy\", 9).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M9,0 L9,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrOneEnd\").attr(\"class\", \"marker zeroOrOne \" + type).attr(\"refX\", 30).attr(\"refY\", 9).attr(\"markerWidth\", 30).attr(\"markerHeight\", 18).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 9).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,0 L21,18\");\n}, \"zero_or_one\");\nvar one_or_more = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreStart\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-oneOrMoreEnd\").attr(\"class\", \"marker oneOrMore \" + type).attr(\"refX\", 27).attr(\"refY\", 18).attr(\"markerWidth\", 45).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18\");\n}, \"one_or_more\");\nvar zero_or_more = /* @__PURE__ */ __name((elem, type, id) => {\n  const startMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreStart\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 18).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  startMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 48).attr(\"cy\", 18).attr(\"r\", 6);\n  startMarker.append(\"path\").attr(\"d\", \"M0,18 Q18,0 36,18 Q18,36 0,18\");\n  const endMarker = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-zeroOrMoreEnd\").attr(\"class\", \"marker zeroOrMore \" + type).attr(\"refX\", 39).attr(\"refY\", 18).attr(\"markerWidth\", 57).attr(\"markerHeight\", 36).attr(\"orient\", \"auto\");\n  endMarker.append(\"circle\").attr(\"fill\", \"white\").attr(\"cx\", 9).attr(\"cy\", 18).attr(\"r\", 6);\n  endMarker.append(\"path\").attr(\"d\", \"M21,18 Q39,0 57,18 Q39,36 21,18\");\n}, \"zero_or_more\");\nvar requirement_arrow = /* @__PURE__ */ __name((elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_arrowEnd\").attr(\"refX\", 20).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"path\").attr(\n    \"d\",\n    `M0,0\n      L20,10\n      M20,10\n      L0,20`\n  );\n}, \"requirement_arrow\");\nvar requirement_contains = /* @__PURE__ */ __name((elem, type, id) => {\n  const containsNode = elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-requirement_containsStart\").attr(\"refX\", 0).attr(\"refY\", 10).attr(\"markerWidth\", 20).attr(\"markerHeight\", 20).attr(\"orient\", \"auto\").append(\"g\");\n  containsNode.append(\"circle\").attr(\"cx\", 10).attr(\"cy\", 10).attr(\"r\", 9).attr(\"fill\", \"none\");\n  containsNode.append(\"line\").attr(\"x1\", 1).attr(\"x2\", 19).attr(\"y1\", 10).attr(\"y2\", 10);\n  containsNode.append(\"line\").attr(\"y1\", 1).attr(\"y2\", 19).attr(\"x1\", 10).attr(\"x2\", 10);\n}, \"requirement_contains\");\nvar markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb,\n  only_one,\n  zero_or_one,\n  one_or_more,\n  zero_or_more,\n  requirement_arrow,\n  requirement_contains\n};\nvar markers_default = insertMarkers;\n\nexport {\n  clear,\n  insertEdgeLabel,\n  positionEdgeLabel,\n  insertEdge,\n  markers_default\n};\n"],"mappings":";AAAA,SACEA,0BAA0B,EAC1BC,aAAa,EACbC,cAAc,QACT,sBAAsB;AAC7B,SACEC,mBAAmB,QACd,sBAAsB;AAC7B,SACEC,uBAAuB,QAClB,sBAAsB;AAC7B,SACEC,YAAY,EACZC,aAAa,QACR,sBAAsB;AAC7B,SACEC,UAAU,QACL,sBAAsB;AAC7B,SACEC,aAAa,QACR,sBAAsB;AAC7B,SACEC,QAAQ,EACRC,UAAU,IAAIC,SAAS,QAClB,sBAAsB;AAC7B,SACEC,MAAM,EACNC,GAAG,QACE,sBAAsB;;AAE7B;AACA,SACEC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,UAAU,EACVC,UAAU,EACVC,eAAe,EACfC,cAAc,EACdC,cAAc,EACdC,YAAY,EACZC,SAAS,EACTC,cAAc,EACdC,eAAe,EACfC,IAAI,EACJC,MAAM,QACD,IAAI;AACX,OAAOC,KAAK,MAAM,SAAS;;AAE3B;AACA,IAAIC,cAAc,GAAG,eAAgBjB,MAAM,CAAC,CAACkB,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAEC,EAAE,EAAEC,WAAW,EAAEC,WAAW,KAAK;EAChG,IAAIJ,IAAI,CAACK,cAAc,EAAE;IACvBC,aAAa,CAACP,OAAO,EAAE,OAAO,EAAEC,IAAI,CAACK,cAAc,EAAEJ,GAAG,EAAEC,EAAE,EAAEC,WAAW,EAAEC,WAAW,CAAC;EACzF;EACA,IAAIJ,IAAI,CAACO,YAAY,EAAE;IACrBD,aAAa,CAACP,OAAO,EAAE,KAAK,EAAEC,IAAI,CAACO,YAAY,EAAEN,GAAG,EAAEC,EAAE,EAAEC,WAAW,EAAEC,WAAW,CAAC;EACrF;AACF,CAAC,EAAE,gBAAgB,CAAC;AACpB,IAAII,aAAa,GAAG;EAClBC,WAAW,EAAE;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC3CC,WAAW,EAAE;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC1CE,UAAU,EAAE;IAAEH,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC;EACxCG,YAAY,EAAE;IAAEJ,IAAI,EAAE,QAAQ;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC7CI,WAAW,EAAE;IAAEL,IAAI,EAAE,aAAa;IAAEC,IAAI,EAAE;EAAM,CAAC;EACjDK,SAAS,EAAE;IAAEN,IAAI,EAAE,WAAW;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC7CM,WAAW,EAAE;IAAEP,IAAI,EAAE,aAAa;IAAEC,IAAI,EAAE;EAAK,CAAC;EAChDO,UAAU,EAAE;IAAER,IAAI,EAAE,YAAY;IAAEC,IAAI,EAAE;EAAK,CAAC;EAC9CQ,QAAQ,EAAE;IAAET,IAAI,EAAE,UAAU;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC3CS,QAAQ,EAAE;IAAEV,IAAI,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC1CU,WAAW,EAAE;IAAEX,IAAI,EAAE,WAAW;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC/CW,WAAW,EAAE;IAAEZ,IAAI,EAAE,WAAW;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC/CY,YAAY,EAAE;IAAEb,IAAI,EAAE,YAAY;IAAEC,IAAI,EAAE;EAAM,CAAC;EACjDa,iBAAiB,EAAE;IAAEd,IAAI,EAAE,mBAAmB;IAAEC,IAAI,EAAE;EAAM,CAAC;EAC7Dc,oBAAoB,EAAE;IAAEf,IAAI,EAAE,sBAAsB;IAAEC,IAAI,EAAE;EAAM;AACpE,CAAC;AACD,IAAIL,aAAa,GAAG,eAAgBzB,MAAM,CAAC,CAACkB,OAAO,EAAE2B,QAAQ,EAAEC,SAAS,EAAE1B,GAAG,EAAEC,EAAE,EAAEC,WAAW,EAAEC,WAAW,KAAK;EAC9G,MAAMwB,aAAa,GAAGpB,aAAa,CAACmB,SAAS,CAAC;EAC9C,IAAI,CAACC,aAAa,EAAE;IAClB9C,GAAG,CAAC+C,IAAI,wBAAAC,MAAA,CAAwBH,SAAS,CAAE,CAAC;IAC5C;EACF;EACA,MAAMI,aAAa,GAAGH,aAAa,CAAClB,IAAI;EACxC,MAAMsB,MAAM,GAAGN,QAAQ,KAAK,OAAO,GAAG,OAAO,GAAG,KAAK;EACrD,MAAMO,gBAAgB,MAAAH,MAAA,CAAM5B,EAAE,OAAA4B,MAAA,CAAI3B,WAAW,OAAA2B,MAAA,CAAIC,aAAa,EAAAD,MAAA,CAAGE,MAAM,CAAE;EACzE,IAAI5B,WAAW,IAAIA,WAAW,CAAC8B,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;IAC5C,MAAMC,OAAO,GAAG/B,WAAW,CAACgC,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;IACxD,MAAMC,eAAe,MAAAP,MAAA,CAAMG,gBAAgB,OAAAH,MAAA,CAAIK,OAAO,CAAE;IACxD,IAAI,CAACG,QAAQ,CAACC,cAAc,CAACF,eAAe,CAAC,EAAE;MAC7C,MAAMG,cAAc,GAAGF,QAAQ,CAACC,cAAc,CAACN,gBAAgB,CAAC;MAChE,IAAIO,cAAc,EAAE;QAAA,IAAAC,qBAAA;QAClB,MAAMC,aAAa,GAAGF,cAAc,CAACG,SAAS,CAAC,IAAI,CAAC;QACpDD,aAAa,CAACxC,EAAE,GAAGmC,eAAe;QAClC,MAAMO,KAAK,GAAGF,aAAa,CAACG,gBAAgB,CAAC,oBAAoB,CAAC;QAClED,KAAK,CAACE,OAAO,CAAEC,IAAI,IAAK;UACtBA,IAAI,CAACC,YAAY,CAAC,QAAQ,EAAE5C,WAAW,CAAC;UACxC,IAAIwB,aAAa,CAACjB,IAAI,EAAE;YACtBoC,IAAI,CAACC,YAAY,CAAC,MAAM,EAAE5C,WAAW,CAAC;UACxC;QACF,CAAC,CAAC;QACF,CAAAqC,qBAAA,GAAAD,cAAc,CAACS,UAAU,cAAAR,qBAAA,eAAzBA,qBAAA,CAA2BS,WAAW,CAACR,aAAa,CAAC;MACvD;IACF;IACA3C,OAAO,CAACoD,IAAI,WAAArB,MAAA,CAAWJ,QAAQ,UAAAI,MAAA,CAAW7B,GAAG,OAAA6B,MAAA,CAAIO,eAAe,MAAG,CAAC;EACtE,CAAC,MAAM;IACLtC,OAAO,CAACoD,IAAI,WAAArB,MAAA,CAAWJ,QAAQ,UAAAI,MAAA,CAAW7B,GAAG,OAAA6B,MAAA,CAAIG,gBAAgB,MAAG,CAAC;EACvE;AACF,CAAC,EAAE,eAAe,CAAC;;AAEnB;AACA,IAAImB,UAAU,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;AAC1C,IAAIC,cAAc,GAAG,eAAgB,IAAID,GAAG,CAAC,CAAC;AAC9C,IAAIE,KAAK,GAAG,eAAgB1E,MAAM,CAAC,MAAM;EACvCuE,UAAU,CAACG,KAAK,CAAC,CAAC;EAClBD,cAAc,CAACC,KAAK,CAAC,CAAC;AACxB,CAAC,EAAE,OAAO,CAAC;AACX,IAAIC,cAAc,GAAG,eAAgB3E,MAAM,CAAE4E,UAAU,IAAK;EAC1D,IAAIC,MAAM,GAAGD,UAAU,GAAGA,UAAU,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAG,GAAG,GAAGC,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE;EACvF,OAAOH,MAAM;AACf,CAAC,EAAE,gBAAgB,CAAC;AACpB,IAAII,eAAe,GAAG,eAAgBjF,MAAM,CAAC,OAAOkF,IAAI,EAAE/D,IAAI,KAAK;EACjE,IAAIgE,aAAa,GAAGtF,QAAQ,CAACE,SAAS,CAAC,CAAC,CAACqF,SAAS,CAACC,UAAU,CAAC;EAC9D,MAAM;IAAEC;EAAY,CAAC,GAAG5F,aAAa,CAACyB,IAAI,CAAC;EAC3CA,IAAI,CAACoE,UAAU,GAAGD,WAAW;EAC7B,MAAME,YAAY,GAAG,MAAM7F,UAAU,CAACuF,IAAI,EAAE/D,IAAI,CAACsE,KAAK,EAAE;IACtDT,KAAK,EAAE7D,IAAI,CAACoE,UAAU;IACtBJ,aAAa;IACbO,gBAAgB,EAAE,IAAI;IACtBC,MAAM,EAAE;EACV,CAAC,CAAC;EACF1F,GAAG,CAAC2F,IAAI,CAAC,OAAO,EAAEzE,IAAI,EAAEA,IAAI,CAAC0E,SAAS,CAAC;EACvC,MAAMC,SAAS,GAAGZ,IAAI,CAACa,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;EAC7D,MAAMmB,KAAK,GAAGK,SAAS,CAACC,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,SAAS,EAAEnD,IAAI,CAACE,EAAE,CAAC;EACnFoE,KAAK,CAACO,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACmB,YAAY,CAAC;EACtC,IAAIS,IAAI,GAAGT,YAAY,CAACU,OAAO,CAAC,CAAC;EACjC,IAAIf,aAAa,EAAE;IACjB,MAAMgB,GAAG,GAAGX,YAAY,CAACY,QAAQ,CAAC,CAAC,CAAC;IACpC,MAAMC,EAAE,GAAGtF,MAAM,CAACyE,YAAY,CAAC;IAC/BS,IAAI,GAAGE,GAAG,CAACG,qBAAqB,CAAC,CAAC;IAClCD,EAAE,CAAC/B,IAAI,CAAC,OAAO,EAAE2B,IAAI,CAACM,KAAK,CAAC;IAC5BF,EAAE,CAAC/B,IAAI,CAAC,QAAQ,EAAE2B,IAAI,CAACO,MAAM,CAAC;EAChC;EACAf,KAAK,CAACnB,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,CAAC2B,IAAI,CAACM,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,CAACN,IAAI,CAACO,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC;EACvFjC,UAAU,CAACkC,GAAG,CAACtF,IAAI,CAACE,EAAE,EAAEyE,SAAS,CAAC;EAClC3E,IAAI,CAACoF,KAAK,GAAGN,IAAI,CAACM,KAAK;EACvBpF,IAAI,CAACqF,MAAM,GAAGP,IAAI,CAACO,MAAM;EACzB,IAAIE,EAAE;EACN,IAAIvF,IAAI,CAACwF,cAAc,EAAE;IACvB,MAAMC,iBAAiB,GAAG,MAAMrH,mBAAmB,CACjD4B,IAAI,CAACwF,cAAc,EACnBhC,cAAc,CAACxD,IAAI,CAACoE,UAAU,CAChC,CAAC;IACD,MAAMsB,kBAAkB,GAAG3B,IAAI,CAACa,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;IAC1E,MAAMwC,KAAK,GAAGD,kBAAkB,CAACd,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;IACnEoC,EAAE,GAAGI,KAAK,CAACd,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACuC,iBAAiB,CAAC;IAChD,MAAMG,KAAK,GAAGH,iBAAiB,CAACV,OAAO,CAAC,CAAC;IACzCY,KAAK,CAACxC,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,CAACyC,KAAK,CAACR,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,CAACQ,KAAK,CAACP,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC;IACzF,IAAI,CAAC/B,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,EAAE;MAChCoD,cAAc,CAACgC,GAAG,CAACtF,IAAI,CAACE,EAAE,EAAE,CAAC,CAAC,CAAC;IACjC;IACAoD,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAAC4F,SAAS,GAAGJ,kBAAkB;IAC1DK,gBAAgB,CAACR,EAAE,EAAEvF,IAAI,CAACwF,cAAc,CAAC;EAC3C;EACA,IAAIxF,IAAI,CAACgG,eAAe,EAAE;IACxB,MAAMP,iBAAiB,GAAG,MAAMrH,mBAAmB,CACjD4B,IAAI,CAACgG,eAAe,EACpBxC,cAAc,CAACxD,IAAI,CAACoE,UAAU,CAChC,CAAC;IACD,MAAM6B,mBAAmB,GAAGlC,IAAI,CAACa,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;IAC3E,MAAMwC,KAAK,GAAGM,mBAAmB,CAACrB,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;IACpEoC,EAAE,GAAGU,mBAAmB,CAACpB,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACuC,iBAAiB,CAAC;IAC9DE,KAAK,CAACd,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACuC,iBAAiB,CAAC;IAC3C,MAAMG,KAAK,GAAGH,iBAAiB,CAACV,OAAO,CAAC,CAAC;IACzCY,KAAK,CAACxC,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,CAACyC,KAAK,CAACR,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,CAACQ,KAAK,CAACP,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC;IACzF,IAAI,CAAC/B,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,EAAE;MAChCoD,cAAc,CAACgC,GAAG,CAACtF,IAAI,CAACE,EAAE,EAAE,CAAC,CAAC,CAAC;IACjC;IACAoD,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAACgG,UAAU,GAAGD,mBAAmB;IAC5DF,gBAAgB,CAACR,EAAE,EAAEvF,IAAI,CAACgG,eAAe,CAAC;EAC5C;EACA,IAAIhG,IAAI,CAACmG,YAAY,EAAE;IACrB,MAAMC,eAAe,GAAG,MAAMhI,mBAAmB,CAAC4B,IAAI,CAACmG,YAAY,EAAE3C,cAAc,CAACxD,IAAI,CAACoE,UAAU,CAAC,CAAC;IACrG,MAAMiC,gBAAgB,GAAGtC,IAAI,CAACa,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;IACxE,MAAMwC,KAAK,GAAGU,gBAAgB,CAACzB,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;IACjEoC,EAAE,GAAGI,KAAK,CAACd,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACkD,eAAe,CAAC;IAC9C,MAAMR,KAAK,GAAGQ,eAAe,CAACrB,OAAO,CAAC,CAAC;IACvCY,KAAK,CAACxC,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,CAACyC,KAAK,CAACR,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,CAACQ,KAAK,CAACP,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC;IACzFgB,gBAAgB,CAACxB,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACkD,eAAe,CAAC;IACpD,IAAI,CAAC9C,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,EAAE;MAChCoD,cAAc,CAACgC,GAAG,CAACtF,IAAI,CAACE,EAAE,EAAE,CAAC,CAAC,CAAC;IACjC;IACAoD,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAACoG,OAAO,GAAGD,gBAAgB;IACtDN,gBAAgB,CAACR,EAAE,EAAEvF,IAAI,CAACmG,YAAY,CAAC;EACzC;EACA,IAAInG,IAAI,CAACuG,aAAa,EAAE;IACtB,MAAMH,eAAe,GAAG,MAAMhI,mBAAmB,CAAC4B,IAAI,CAACuG,aAAa,EAAE/C,cAAc,CAACxD,IAAI,CAACoE,UAAU,CAAC,CAAC;IACtG,MAAMoC,iBAAiB,GAAGzC,IAAI,CAACa,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;IACzE,MAAMwC,KAAK,GAAGa,iBAAiB,CAAC5B,MAAM,CAAC,GAAG,CAAC,CAACzB,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;IAClEoC,EAAE,GAAGI,KAAK,CAACd,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACkD,eAAe,CAAC;IAC9C,MAAMR,KAAK,GAAGQ,eAAe,CAACrB,OAAO,CAAC,CAAC;IACvCY,KAAK,CAACxC,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,CAACyC,KAAK,CAACR,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,CAACQ,KAAK,CAACP,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC;IACzFmB,iBAAiB,CAAC3B,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACkD,eAAe,CAAC;IACrD,IAAI,CAAC9C,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,EAAE;MAChCoD,cAAc,CAACgC,GAAG,CAACtF,IAAI,CAACE,EAAE,EAAE,CAAC,CAAC,CAAC;IACjC;IACAoD,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAACuG,QAAQ,GAAGD,iBAAiB;IACxDT,gBAAgB,CAACR,EAAE,EAAEvF,IAAI,CAACuG,aAAa,CAAC;EAC1C;EACA,OAAOlC,YAAY;AACrB,CAAC,EAAE,iBAAiB,CAAC;AACrB,SAAS0B,gBAAgBA,CAACR,EAAE,EAAEmB,KAAK,EAAE;EACnC,IAAI9H,SAAS,CAAC,CAAC,CAACqF,SAAS,CAACC,UAAU,IAAIqB,EAAE,EAAE;IAC1CA,EAAE,CAAC1B,KAAK,CAACuB,KAAK,GAAGsB,KAAK,CAACC,MAAM,GAAG,CAAC,GAAG,IAAI;IACxCpB,EAAE,CAAC1B,KAAK,CAACwB,MAAM,GAAG,MAAM;EAC1B;AACF;AACAxG,MAAM,CAACkH,gBAAgB,EAAE,kBAAkB,CAAC;AAC5C,IAAIa,iBAAiB,GAAG,eAAgB/H,MAAM,CAAC,CAACmB,IAAI,EAAE4C,KAAK,KAAK;EAC9D9D,GAAG,CAAC+H,KAAK,CAAC,qBAAqB,EAAE7G,IAAI,CAACE,EAAE,EAAEF,IAAI,CAACsE,KAAK,EAAElB,UAAU,CAACyC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,EAAE0C,KAAK,CAAC;EACrF,IAAIG,IAAI,GAAGH,KAAK,CAACkE,WAAW,GAAGlE,KAAK,CAACkE,WAAW,GAAGlE,KAAK,CAACmE,YAAY;EACrE,MAAMC,UAAU,GAAGpI,SAAS,CAAC,CAAC;EAC9B,MAAM;IAAEqI;EAAyB,CAAC,GAAG5I,uBAAuB,CAAC2I,UAAU,CAAC;EACxE,IAAIhH,IAAI,CAACsE,KAAK,EAAE;IACd,MAAM4C,EAAE,GAAG9D,UAAU,CAACyC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC;IAClC,IAAIiH,CAAC,GAAGnH,IAAI,CAACmH,CAAC;IACd,IAAIC,CAAC,GAAGpH,IAAI,CAACoH,CAAC;IACd,IAAIrE,IAAI,EAAE;MACR,MAAMsE,GAAG,GAAG5I,aAAa,CAAC6I,iBAAiB,CAACvE,IAAI,CAAC;MACjDjE,GAAG,CAAC+H,KAAK,CACP,eAAe,GAAG7G,IAAI,CAACsE,KAAK,GAAG,SAAS,EACxC6C,CAAC,EACD,GAAG,EACHC,CAAC,EACD,QAAQ,EACRC,GAAG,CAACF,CAAC,EACL,GAAG,EACHE,GAAG,CAACD,CAAC,EACL,SACF,CAAC;MACD,IAAIxE,KAAK,CAACkE,WAAW,EAAE;QACrBK,CAAC,GAAGE,GAAG,CAACF,CAAC;QACTC,CAAC,GAAGC,GAAG,CAACD,CAAC;MACX;IACF;IACAF,EAAE,CAAC/D,IAAI,CAAC,WAAW,eAAArB,MAAA,CAAeqF,CAAC,QAAArF,MAAA,CAAKsF,CAAC,GAAGH,wBAAwB,GAAG,CAAC,MAAG,CAAC;EAC9E;EACA,IAAIjH,IAAI,CAACwF,cAAc,EAAE;IACvB,MAAM0B,EAAE,GAAG5D,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAAC4F,SAAS;IAChD,IAAIqB,CAAC,GAAGnH,IAAI,CAACmH,CAAC;IACd,IAAIC,CAAC,GAAGpH,IAAI,CAACoH,CAAC;IACd,IAAIrE,IAAI,EAAE;MACR,MAAMsE,GAAG,GAAG5I,aAAa,CAAC8I,yBAAyB,CAACvH,IAAI,CAACK,cAAc,GAAG,EAAE,GAAG,CAAC,EAAE,YAAY,EAAE0C,IAAI,CAAC;MACrGoE,CAAC,GAAGE,GAAG,CAACF,CAAC;MACTC,CAAC,GAAGC,GAAG,CAACD,CAAC;IACX;IACAF,EAAE,CAAC/D,IAAI,CAAC,WAAW,eAAArB,MAAA,CAAeqF,CAAC,QAAArF,MAAA,CAAKsF,CAAC,MAAG,CAAC;EAC/C;EACA,IAAIpH,IAAI,CAACgG,eAAe,EAAE;IACxB,MAAMkB,EAAE,GAAG5D,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAACgG,UAAU;IACjD,IAAIiB,CAAC,GAAGnH,IAAI,CAACmH,CAAC;IACd,IAAIC,CAAC,GAAGpH,IAAI,CAACoH,CAAC;IACd,IAAIrE,IAAI,EAAE;MACR,MAAMsE,GAAG,GAAG5I,aAAa,CAAC8I,yBAAyB,CACjDvH,IAAI,CAACK,cAAc,GAAG,EAAE,GAAG,CAAC,EAC5B,aAAa,EACb0C,IACF,CAAC;MACDoE,CAAC,GAAGE,GAAG,CAACF,CAAC;MACTC,CAAC,GAAGC,GAAG,CAACD,CAAC;IACX;IACAF,EAAE,CAAC/D,IAAI,CAAC,WAAW,eAAArB,MAAA,CAAeqF,CAAC,QAAArF,MAAA,CAAKsF,CAAC,MAAG,CAAC;EAC/C;EACA,IAAIpH,IAAI,CAACmG,YAAY,EAAE;IACrB,MAAMe,EAAE,GAAG5D,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAACoG,OAAO;IAC9C,IAAIa,CAAC,GAAGnH,IAAI,CAACmH,CAAC;IACd,IAAIC,CAAC,GAAGpH,IAAI,CAACoH,CAAC;IACd,IAAIrE,IAAI,EAAE;MACR,MAAMsE,GAAG,GAAG5I,aAAa,CAAC8I,yBAAyB,CAACvH,IAAI,CAACO,YAAY,GAAG,EAAE,GAAG,CAAC,EAAE,UAAU,EAAEwC,IAAI,CAAC;MACjGoE,CAAC,GAAGE,GAAG,CAACF,CAAC;MACTC,CAAC,GAAGC,GAAG,CAACD,CAAC;IACX;IACAF,EAAE,CAAC/D,IAAI,CAAC,WAAW,eAAArB,MAAA,CAAeqF,CAAC,QAAArF,MAAA,CAAKsF,CAAC,MAAG,CAAC;EAC/C;EACA,IAAIpH,IAAI,CAACuG,aAAa,EAAE;IACtB,MAAMW,EAAE,GAAG5D,cAAc,CAACuC,GAAG,CAAC7F,IAAI,CAACE,EAAE,CAAC,CAACuG,QAAQ;IAC/C,IAAIU,CAAC,GAAGnH,IAAI,CAACmH,CAAC;IACd,IAAIC,CAAC,GAAGpH,IAAI,CAACoH,CAAC;IACd,IAAIrE,IAAI,EAAE;MACR,MAAMsE,GAAG,GAAG5I,aAAa,CAAC8I,yBAAyB,CAACvH,IAAI,CAACO,YAAY,GAAG,EAAE,GAAG,CAAC,EAAE,WAAW,EAAEwC,IAAI,CAAC;MAClGoE,CAAC,GAAGE,GAAG,CAACF,CAAC;MACTC,CAAC,GAAGC,GAAG,CAACD,CAAC;IACX;IACAF,EAAE,CAAC/D,IAAI,CAAC,WAAW,eAAArB,MAAA,CAAeqF,CAAC,QAAArF,MAAA,CAAKsF,CAAC,MAAG,CAAC;EAC/C;AACF,CAAC,EAAE,mBAAmB,CAAC;AACvB,IAAII,WAAW,GAAG,eAAgB3I,MAAM,CAAC,CAACgG,IAAI,EAAE4C,MAAM,KAAK;EACzD,MAAMN,CAAC,GAAGtC,IAAI,CAACsC,CAAC;EAChB,MAAMC,CAAC,GAAGvC,IAAI,CAACuC,CAAC;EAChB,MAAMM,EAAE,GAAGC,IAAI,CAACC,GAAG,CAACH,MAAM,CAACN,CAAC,GAAGA,CAAC,CAAC;EACjC,MAAMU,EAAE,GAAGF,IAAI,CAACC,GAAG,CAACH,MAAM,CAACL,CAAC,GAAGA,CAAC,CAAC;EACjC,MAAMU,CAAC,GAAGjD,IAAI,CAACO,KAAK,GAAG,CAAC;EACxB,MAAM2C,CAAC,GAAGlD,IAAI,CAACQ,MAAM,GAAG,CAAC;EACzB,OAAOqC,EAAE,IAAII,CAAC,IAAID,EAAE,IAAIE,CAAC;AAC3B,CAAC,EAAE,aAAa,CAAC;AACjB,IAAIC,YAAY,GAAG,eAAgBnJ,MAAM,CAAC,CAACgG,IAAI,EAAEoD,YAAY,EAAEC,WAAW,KAAK;EAC7EpJ,GAAG,CAAC+H,KAAK,8CAAA/E,MAAA,CACOqG,IAAI,CAACC,SAAS,CAACH,YAAY,CAAC,wBAAAnG,MAAA,CAC5BqG,IAAI,CAACC,SAAS,CAACF,WAAW,CAAC,0BAAApG,MAAA,CACzB+C,IAAI,CAACsC,CAAC,SAAArF,MAAA,CAAM+C,IAAI,CAACuC,CAAC,SAAAtF,MAAA,CAAM+C,IAAI,CAACO,KAAK,SAAAtD,MAAA,CAAM+C,IAAI,CAACQ,MAAM,CAAE,CAAC;EACxE,MAAM8B,CAAC,GAAGtC,IAAI,CAACsC,CAAC;EAChB,MAAMC,CAAC,GAAGvC,IAAI,CAACuC,CAAC;EAChB,MAAMM,EAAE,GAAGC,IAAI,CAACC,GAAG,CAACT,CAAC,GAAGe,WAAW,CAACf,CAAC,CAAC;EACtC,MAAMW,CAAC,GAAGjD,IAAI,CAACO,KAAK,GAAG,CAAC;EACxB,IAAIiD,CAAC,GAAGH,WAAW,CAACf,CAAC,GAAGc,YAAY,CAACd,CAAC,GAAGW,CAAC,GAAGJ,EAAE,GAAGI,CAAC,GAAGJ,EAAE;EACxD,MAAMK,CAAC,GAAGlD,IAAI,CAACQ,MAAM,GAAG,CAAC;EACzB,MAAMiD,CAAC,GAAGX,IAAI,CAACC,GAAG,CAACK,YAAY,CAACb,CAAC,GAAGc,WAAW,CAACd,CAAC,CAAC;EAClD,MAAMmB,CAAC,GAAGZ,IAAI,CAACC,GAAG,CAACK,YAAY,CAACd,CAAC,GAAGe,WAAW,CAACf,CAAC,CAAC;EAClD,IAAIQ,IAAI,CAACC,GAAG,CAACR,CAAC,GAAGa,YAAY,CAACb,CAAC,CAAC,GAAGU,CAAC,GAAGH,IAAI,CAACC,GAAG,CAACT,CAAC,GAAGc,YAAY,CAACd,CAAC,CAAC,GAAGY,CAAC,EAAE;IACvE,IAAIS,CAAC,GAAGN,WAAW,CAACd,CAAC,GAAGa,YAAY,CAACb,CAAC,GAAGa,YAAY,CAACb,CAAC,GAAGW,CAAC,GAAGX,CAAC,GAAGA,CAAC,GAAGW,CAAC,GAAGE,YAAY,CAACb,CAAC;IACxFiB,CAAC,GAAGE,CAAC,GAAGC,CAAC,GAAGF,CAAC;IACb,MAAMG,GAAG,GAAG;MACVtB,CAAC,EAAEe,WAAW,CAACf,CAAC,GAAGc,YAAY,CAACd,CAAC,GAAGe,WAAW,CAACf,CAAC,GAAGkB,CAAC,GAAGH,WAAW,CAACf,CAAC,GAAGoB,CAAC,GAAGF,CAAC;MAC7EjB,CAAC,EAAEc,WAAW,CAACd,CAAC,GAAGa,YAAY,CAACb,CAAC,GAAGc,WAAW,CAACd,CAAC,GAAGkB,CAAC,GAAGE,CAAC,GAAGN,WAAW,CAACd,CAAC,GAAGkB,CAAC,GAAGE;IAClF,CAAC;IACD,IAAIH,CAAC,KAAK,CAAC,EAAE;MACXI,GAAG,CAACtB,CAAC,GAAGc,YAAY,CAACd,CAAC;MACtBsB,GAAG,CAACrB,CAAC,GAAGa,YAAY,CAACb,CAAC;IACxB;IACA,IAAImB,CAAC,KAAK,CAAC,EAAE;MACXE,GAAG,CAACtB,CAAC,GAAGc,YAAY,CAACd,CAAC;IACxB;IACA,IAAImB,CAAC,KAAK,CAAC,EAAE;MACXG,GAAG,CAACrB,CAAC,GAAGa,YAAY,CAACb,CAAC;IACxB;IACAtI,GAAG,CAAC+H,KAAK,6BAAA/E,MAAA,CAA6BwG,CAAC,UAAAxG,MAAA,CAAO0G,CAAC,UAAA1G,MAAA,CAAOyG,CAAC,UAAAzG,MAAA,CAAOuG,CAAC,GAAII,GAAG,CAAC;IACvE,OAAOA,GAAG;EACZ,CAAC,MAAM;IACL,IAAIP,WAAW,CAACf,CAAC,GAAGc,YAAY,CAACd,CAAC,EAAE;MAClCkB,CAAC,GAAGJ,YAAY,CAACd,CAAC,GAAGW,CAAC,GAAGX,CAAC;IAC5B,CAAC,MAAM;MACLkB,CAAC,GAAGlB,CAAC,GAAGW,CAAC,GAAGG,YAAY,CAACd,CAAC;IAC5B;IACA,IAAIqB,CAAC,GAAGF,CAAC,GAAGD,CAAC,GAAGE,CAAC;IACjB,IAAIG,EAAE,GAAGR,WAAW,CAACf,CAAC,GAAGc,YAAY,CAACd,CAAC,GAAGe,WAAW,CAACf,CAAC,GAAGoB,CAAC,GAAGF,CAAC,GAAGH,WAAW,CAACf,CAAC,GAAGoB,CAAC,GAAGF,CAAC;IACvF,IAAIM,EAAE,GAAGT,WAAW,CAACd,CAAC,GAAGa,YAAY,CAACb,CAAC,GAAGc,WAAW,CAACd,CAAC,GAAGoB,CAAC,GAAGN,WAAW,CAACd,CAAC,GAAGoB,CAAC;IAC/E1J,GAAG,CAAC+H,KAAK,wBAAA/E,MAAA,CAAwBwG,CAAC,UAAAxG,MAAA,CAAO0G,CAAC,UAAA1G,MAAA,CAAOyG,CAAC,UAAAzG,MAAA,CAAOuG,CAAC,GAAI;MAAEK,EAAE;MAAEC;IAAG,CAAC,CAAC;IACzE,IAAIN,CAAC,KAAK,CAAC,EAAE;MACXK,EAAE,GAAGT,YAAY,CAACd,CAAC;MACnBwB,EAAE,GAAGV,YAAY,CAACb,CAAC;IACrB;IACA,IAAImB,CAAC,KAAK,CAAC,EAAE;MACXG,EAAE,GAAGT,YAAY,CAACd,CAAC;IACrB;IACA,IAAImB,CAAC,KAAK,CAAC,EAAE;MACXK,EAAE,GAAGV,YAAY,CAACb,CAAC;IACrB;IACA,OAAO;MAAED,CAAC,EAAEuB,EAAE;MAAEtB,CAAC,EAAEuB;IAAG,CAAC;EACzB;AACF,CAAC,EAAE,cAAc,CAAC;AAClB,IAAIC,kBAAkB,GAAG,eAAgB/J,MAAM,CAAC,CAACgK,OAAO,EAAEC,YAAY,KAAK;EACzEhK,GAAG,CAAC+C,IAAI,CAAC,0BAA0B,EAAEgH,OAAO,EAAEC,YAAY,CAAC;EAC3D,IAAIC,MAAM,GAAG,EAAE;EACf,IAAIC,gBAAgB,GAAGH,OAAO,CAAC,CAAC,CAAC;EACjC,IAAII,QAAQ,GAAG,KAAK;EACpBJ,OAAO,CAAC/F,OAAO,CAAE2E,MAAM,IAAK;IAC1B3I,GAAG,CAAC2F,IAAI,CAAC,sBAAsB,EAAEgD,MAAM,EAAEqB,YAAY,CAAC;IACtD,IAAI,CAACtB,WAAW,CAACsB,YAAY,EAAErB,MAAM,CAAC,IAAI,CAACwB,QAAQ,EAAE;MACnD,MAAMC,KAAK,GAAGlB,YAAY,CAACc,YAAY,EAAEE,gBAAgB,EAAEvB,MAAM,CAAC;MAClE3I,GAAG,CAAC+H,KAAK,CAAC,cAAc,EAAEY,MAAM,EAAEuB,gBAAgB,EAAEE,KAAK,CAAC;MAC1DpK,GAAG,CAAC+H,KAAK,CAAC,oBAAoB,EAAEqC,KAAK,EAAEJ,YAAY,CAAC;MACpD,IAAIK,YAAY,GAAG,KAAK;MACxBJ,MAAM,CAACjG,OAAO,CAAEsG,CAAC,IAAK;QACpBD,YAAY,GAAGA,YAAY,IAAIC,CAAC,CAACjC,CAAC,KAAK+B,KAAK,CAAC/B,CAAC,IAAIiC,CAAC,CAAChC,CAAC,KAAK8B,KAAK,CAAC9B,CAAC;MACnE,CAAC,CAAC;MACF,IAAI,CAAC2B,MAAM,CAACM,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACnC,CAAC,KAAK+B,KAAK,CAAC/B,CAAC,IAAImC,CAAC,CAAClC,CAAC,KAAK8B,KAAK,CAAC9B,CAAC,CAAC,EAAE;QAC3D2B,MAAM,CAACQ,IAAI,CAACL,KAAK,CAAC;MACpB,CAAC,MAAM;QACLpK,GAAG,CAAC+C,IAAI,CAAC,oBAAoB,EAAEqH,KAAK,EAAEH,MAAM,CAAC;MAC/C;MACAE,QAAQ,GAAG,IAAI;IACjB,CAAC,MAAM;MACLnK,GAAG,CAAC+C,IAAI,CAAC,eAAe,EAAE4F,MAAM,EAAEuB,gBAAgB,CAAC;MACnDA,gBAAgB,GAAGvB,MAAM;MACzB,IAAI,CAACwB,QAAQ,EAAE;QACbF,MAAM,CAACQ,IAAI,CAAC9B,MAAM,CAAC;MACrB;IACF;EACF,CAAC,CAAC;EACF3I,GAAG,CAAC+H,KAAK,CAAC,kBAAkB,EAAEkC,MAAM,CAAC;EACrC,OAAOA,MAAM;AACf,CAAC,EAAE,oBAAoB,CAAC;AACxB,SAASS,mBAAmBA,CAACT,MAAM,EAAE;EACnC,MAAMU,YAAY,GAAG,EAAE;EACvB,MAAMC,oBAAoB,GAAG,EAAE;EAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,MAAM,CAACpC,MAAM,GAAG,CAAC,EAAEgD,CAAC,EAAE,EAAE;IAC1C,MAAMC,IAAI,GAAGb,MAAM,CAACY,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAME,IAAI,GAAGd,MAAM,CAACY,CAAC,CAAC;IACtB,MAAMG,IAAI,GAAGf,MAAM,CAACY,CAAC,GAAG,CAAC,CAAC;IAC1B,IAAIC,IAAI,CAACzC,CAAC,KAAK0C,IAAI,CAAC1C,CAAC,IAAI0C,IAAI,CAACzC,CAAC,KAAK0C,IAAI,CAAC1C,CAAC,IAAIO,IAAI,CAACC,GAAG,CAACiC,IAAI,CAAC1C,CAAC,GAAG2C,IAAI,CAAC3C,CAAC,CAAC,GAAG,CAAC,IAAIQ,IAAI,CAACC,GAAG,CAACiC,IAAI,CAACzC,CAAC,GAAGwC,IAAI,CAACxC,CAAC,CAAC,GAAG,CAAC,EAAE;MAC5GqC,YAAY,CAACF,IAAI,CAACM,IAAI,CAAC;MACvBH,oBAAoB,CAACH,IAAI,CAACI,CAAC,CAAC;IAC9B,CAAC,MAAM,IAAIC,IAAI,CAACxC,CAAC,KAAKyC,IAAI,CAACzC,CAAC,IAAIyC,IAAI,CAAC1C,CAAC,KAAK2C,IAAI,CAAC3C,CAAC,IAAIQ,IAAI,CAACC,GAAG,CAACiC,IAAI,CAAC1C,CAAC,GAAGyC,IAAI,CAACzC,CAAC,CAAC,GAAG,CAAC,IAAIQ,IAAI,CAACC,GAAG,CAACiC,IAAI,CAACzC,CAAC,GAAG0C,IAAI,CAAC1C,CAAC,CAAC,GAAG,CAAC,EAAE;MACnHqC,YAAY,CAACF,IAAI,CAACM,IAAI,CAAC;MACvBH,oBAAoB,CAACH,IAAI,CAACI,CAAC,CAAC;IAC9B;EACF;EACA,OAAO;IAAEF,YAAY;IAAEC;EAAqB,CAAC;AAC/C;AACA7K,MAAM,CAAC2K,mBAAmB,EAAE,qBAAqB,CAAC;AAClD,IAAIO,iBAAiB,GAAG,eAAgBlL,MAAM,CAAC,UAASmL,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAE;EAChF,MAAMC,KAAK,GAAGF,MAAM,CAAC9C,CAAC,GAAG6C,MAAM,CAAC7C,CAAC;EACjC,MAAMiD,KAAK,GAAGH,MAAM,CAAC7C,CAAC,GAAG4C,MAAM,CAAC5C,CAAC;EACjC,MAAMT,MAAM,GAAGgB,IAAI,CAAC0C,IAAI,CAACF,KAAK,GAAGA,KAAK,GAAGC,KAAK,GAAGA,KAAK,CAAC;EACvD,MAAME,KAAK,GAAGJ,QAAQ,GAAGvD,MAAM;EAC/B,OAAO;IAAEQ,CAAC,EAAE8C,MAAM,CAAC9C,CAAC,GAAGmD,KAAK,GAAGH,KAAK;IAAE/C,CAAC,EAAE6C,MAAM,CAAC7C,CAAC,GAAGkD,KAAK,GAAGF;EAAM,CAAC;AACrE,CAAC,EAAE,mBAAmB,CAAC;AACvB,IAAIG,UAAU,GAAG,eAAgB1L,MAAM,CAAC,UAAS2L,QAAQ,EAAE;EACzD,MAAM;IAAEd;EAAqB,CAAC,GAAGF,mBAAmB,CAACgB,QAAQ,CAAC;EAC9D,MAAMC,WAAW,GAAG,EAAE;EACtB,KAAK,IAAId,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGa,QAAQ,CAAC7D,MAAM,EAAEgD,CAAC,EAAE,EAAE;IACxC,IAAID,oBAAoB,CAACgB,QAAQ,CAACf,CAAC,CAAC,EAAE;MACpC,MAAMgB,SAAS,GAAGH,QAAQ,CAACb,CAAC,GAAG,CAAC,CAAC;MACjC,MAAMiB,SAAS,GAAGJ,QAAQ,CAACb,CAAC,GAAG,CAAC,CAAC;MACjC,MAAMkB,WAAW,GAAGL,QAAQ,CAACb,CAAC,CAAC;MAC/B,MAAMmB,YAAY,GAAGf,iBAAiB,CAACY,SAAS,EAAEE,WAAW,EAAE,CAAC,CAAC;MACjE,MAAME,YAAY,GAAGhB,iBAAiB,CAACa,SAAS,EAAEC,WAAW,EAAE,CAAC,CAAC;MACjE,MAAMV,KAAK,GAAGY,YAAY,CAAC5D,CAAC,GAAG2D,YAAY,CAAC3D,CAAC;MAC7C,MAAMiD,KAAK,GAAGW,YAAY,CAAC3D,CAAC,GAAG0D,YAAY,CAAC1D,CAAC;MAC7CqD,WAAW,CAAClB,IAAI,CAACuB,YAAY,CAAC;MAC9B,MAAME,CAAC,GAAGrD,IAAI,CAAC0C,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;MAC1B,IAAIY,cAAc,GAAG;QAAE9D,CAAC,EAAE0D,WAAW,CAAC1D,CAAC;QAAEC,CAAC,EAAEyD,WAAW,CAACzD;MAAE,CAAC;MAC3D,IAAIO,IAAI,CAACC,GAAG,CAACgD,SAAS,CAACzD,CAAC,GAAGwD,SAAS,CAACxD,CAAC,CAAC,GAAG,EAAE,IAAIQ,IAAI,CAACC,GAAG,CAACgD,SAAS,CAACxD,CAAC,GAAGuD,SAAS,CAACvD,CAAC,CAAC,IAAI,EAAE,EAAE;QACzFtI,GAAG,CAAC+H,KAAK,CACP,qBAAqB,EACrBc,IAAI,CAACC,GAAG,CAACgD,SAAS,CAACzD,CAAC,GAAGwD,SAAS,CAACxD,CAAC,CAAC,EACnCQ,IAAI,CAACC,GAAG,CAACgD,SAAS,CAACxD,CAAC,GAAGuD,SAAS,CAACvD,CAAC,CACpC,CAAC;QACD,MAAMiB,CAAC,GAAG,CAAC;QACX,IAAIwC,WAAW,CAAC1D,CAAC,KAAK2D,YAAY,CAAC3D,CAAC,EAAE;UACpC8D,cAAc,GAAG;YACf9D,CAAC,EAAEgD,KAAK,GAAG,CAAC,GAAGW,YAAY,CAAC3D,CAAC,GAAGkB,CAAC,GAAG2C,CAAC,GAAGF,YAAY,CAAC3D,CAAC,GAAGkB,CAAC,GAAG2C,CAAC;YAC9D5D,CAAC,EAAEgD,KAAK,GAAG,CAAC,GAAGU,YAAY,CAAC1D,CAAC,GAAG4D,CAAC,GAAGF,YAAY,CAAC1D,CAAC,GAAG4D;UACvD,CAAC;QACH,CAAC,MAAM;UACLC,cAAc,GAAG;YACf9D,CAAC,EAAEgD,KAAK,GAAG,CAAC,GAAGW,YAAY,CAAC3D,CAAC,GAAG6D,CAAC,GAAGF,YAAY,CAAC3D,CAAC,GAAG6D,CAAC;YACtD5D,CAAC,EAAEgD,KAAK,GAAG,CAAC,GAAGU,YAAY,CAAC1D,CAAC,GAAGiB,CAAC,GAAG2C,CAAC,GAAGF,YAAY,CAAC1D,CAAC,GAAGiB,CAAC,GAAG2C;UAC/D,CAAC;QACH;MACF,CAAC,MAAM;QACLlM,GAAG,CAAC+H,KAAK,CACP,8BAA8B,EAC9Bc,IAAI,CAACC,GAAG,CAACgD,SAAS,CAACzD,CAAC,GAAGwD,SAAS,CAACxD,CAAC,CAAC,EACnCQ,IAAI,CAACC,GAAG,CAACgD,SAAS,CAACxD,CAAC,GAAGuD,SAAS,CAACvD,CAAC,CACpC,CAAC;MACH;MACAqD,WAAW,CAAClB,IAAI,CAAC0B,cAAc,EAAEF,YAAY,CAAC;IAChD,CAAC,MAAM;MACLN,WAAW,CAAClB,IAAI,CAACiB,QAAQ,CAACb,CAAC,CAAC,CAAC;IAC/B;EACF;EACA,OAAOc,WAAW;AACpB,CAAC,EAAE,YAAY,CAAC;AAChB,IAAIS,iBAAiB,GAAG,eAAgBrM,MAAM,CAAC,CAACsM,GAAG,EAAEC,OAAO,EAAEC,OAAO,KAAK;EACxE,MAAMC,YAAY,GAAGH,GAAG,GAAGC,OAAO,GAAGC,OAAO;EAC5C,MAAME,UAAU,GAAG,CAAC;EACpB,MAAMC,SAAS,GAAG,CAAC;EACnB,MAAMC,iBAAiB,GAAGF,UAAU,GAAGC,SAAS;EAChD,MAAME,aAAa,GAAG/D,IAAI,CAACgE,KAAK,CAACL,YAAY,GAAGG,iBAAiB,CAAC;EAClE,MAAMG,aAAa,GAAGC,KAAK,CAACH,aAAa,CAAC,CAAC/K,IAAI,IAAAmB,MAAA,CAAIyJ,UAAU,OAAAzJ,MAAA,CAAI0J,SAAS,CAAE,CAAC,CAACM,IAAI,CAAC,GAAG,CAAC;EACvF,MAAMC,SAAS,QAAAjK,MAAA,CAAQsJ,OAAO,OAAAtJ,MAAA,CAAI8J,aAAa,OAAA9J,MAAA,CAAIuJ,OAAO,CAAE;EAC5D,OAAOU,SAAS;AAClB,CAAC,EAAE,mBAAmB,CAAC;AACvB,IAAIC,UAAU,GAAG,eAAgBnN,MAAM,CAAC,UAASkF,IAAI,EAAE/D,IAAI,EAAEiM,SAAS,EAAE9L,WAAW,EAAE+L,SAAS,EAAEC,OAAO,EAAEjM,EAAE,EAAyB;EAAA,IAAvBkM,aAAa,GAAAC,SAAA,CAAA1F,MAAA,QAAA0F,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,KAAK;EAChI,MAAM;IAAEE;EAAc,CAAC,GAAG3N,SAAS,CAAC,CAAC;EACrC,IAAImK,MAAM,GAAG/I,IAAI,CAAC+I,MAAM;EACxB,IAAIyD,gBAAgB,GAAG,KAAK;EAC5B,MAAMC,IAAI,GAAGP,SAAS;EACtB,IAAIQ,IAAI,GAAGP,OAAO;EAClB,MAAMQ,eAAe,GAAG,EAAE;EAC1B,KAAK,MAAMC,GAAG,IAAI5M,IAAI,CAAC6M,iBAAiB,EAAE;IACxC,IAAIvO,YAAY,CAACsO,GAAG,CAAC,EAAE;MACrB;IACF;IACAD,eAAe,CAACpD,IAAI,CAACvJ,IAAI,CAAC6M,iBAAiB,CAACD,GAAG,CAAC,CAAC;EACnD;EACA9N,GAAG,CAAC+H,KAAK,CAAC,qBAAqB,EAAE7G,IAAI,CAAC+I,MAAM,EAAE2D,IAAI,CAACvF,CAAC,EAAEsF,IAAI,CAACtF,CAAC,CAAC;EAC7D,IAAIuF,IAAI,CAACI,SAAS,IAAIL,IAAI,CAACK,SAAS,IAAI,CAACV,aAAa,EAAE;IACtDrD,MAAM,GAAGA,MAAM,CAACgE,KAAK,CAAC,CAAC,EAAE/M,IAAI,CAAC+I,MAAM,CAACpC,MAAM,GAAG,CAAC,CAAC;IAChDoC,MAAM,CAACiE,OAAO,CAACP,IAAI,CAACK,SAAS,CAAC/D,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACzCjK,GAAG,CAAC+H,KAAK,CACP,gBAAgB,EAChB7G,IAAI,CAACiN,KAAK,EACV,KAAK,EACLjN,IAAI,CAACkN,GAAG,EACRnE,MAAM,CAACA,MAAM,CAACpC,MAAM,GAAG,CAAC,CAAC,EACzB+F,IAAI,EACJA,IAAI,CAACI,SAAS,CAAC/D,MAAM,CAACA,MAAM,CAACpC,MAAM,GAAG,CAAC,CAAC,CAC1C,CAAC;IACDoC,MAAM,CAACQ,IAAI,CAACmD,IAAI,CAACI,SAAS,CAAC/D,MAAM,CAACA,MAAM,CAACpC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;EACxD;EACA,MAAMwG,SAAS,GAAGC,IAAI,CAACjF,IAAI,CAACC,SAAS,CAACW,MAAM,CAAC,CAAC;EAC9C,IAAI/I,IAAI,CAACqN,SAAS,EAAE;IAClBvO,GAAG,CAAC2F,IAAI,CAAC,kBAAkB,EAAEwH,SAAS,CAACpG,GAAG,CAAC7F,IAAI,CAACqN,SAAS,CAAC,CAAC;IAC3DtE,MAAM,GAAGH,kBAAkB,CAAC5I,IAAI,CAAC+I,MAAM,EAAEkD,SAAS,CAACpG,GAAG,CAAC7F,IAAI,CAACqN,SAAS,CAAC,CAACxI,IAAI,CAAC;IAC5E2H,gBAAgB,GAAG,IAAI;EACzB;EACA,IAAIxM,IAAI,CAACsN,WAAW,EAAE;IACpBxO,GAAG,CAAC+H,KAAK,CACP,oBAAoB,EACpBoF,SAAS,CAACpG,GAAG,CAAC7F,IAAI,CAACsN,WAAW,CAAC,EAC/BnF,IAAI,CAACC,SAAS,CAACW,MAAM,EAAE,IAAI,EAAE,CAAC,CAChC,CAAC;IACDA,MAAM,GAAGH,kBAAkB,CAACG,MAAM,CAACwE,OAAO,CAAC,CAAC,EAAEtB,SAAS,CAACpG,GAAG,CAAC7F,IAAI,CAACsN,WAAW,CAAC,CAACzI,IAAI,CAAC,CAAC0I,OAAO,CAAC,CAAC;IAC7Ff,gBAAgB,GAAG,IAAI;EACzB;EACA,IAAIhC,QAAQ,GAAGzB,MAAM,CAACyE,MAAM,CAAEpE,CAAC,IAAK,CAACqE,MAAM,CAACC,KAAK,CAACtE,CAAC,CAAChC,CAAC,CAAC,CAAC;EACvDoD,QAAQ,GAAGD,UAAU,CAACC,QAAQ,CAAC;EAC/B,IAAImD,KAAK,GAAG5O,UAAU;EACtB4O,KAAK,GAAG3O,WAAW;EACnB,QAAQgB,IAAI,CAAC2N,KAAK;IAChB,KAAK,QAAQ;MACXA,KAAK,GAAG3O,WAAW;MACnB;IACF,KAAK,OAAO;MACV2O,KAAK,GAAG5O,UAAU;MAClB;IACF,KAAK,UAAU;MACb4O,KAAK,GAAG1O,aAAa;MACrB;IACF,KAAK,OAAO;MACV0O,KAAK,GAAGzO,UAAU;MAClB;IACF,KAAK,OAAO;MACVyO,KAAK,GAAGxO,UAAU;MAClB;IACF,KAAK,YAAY;MACfwO,KAAK,GAAGvO,eAAe;MACvB;IACF,KAAK,WAAW;MACduO,KAAK,GAAGtO,cAAc;MACtB;IACF,KAAK,WAAW;MACdsO,KAAK,GAAGrO,cAAc;MACtB;IACF,KAAK,SAAS;MACZqO,KAAK,GAAGpO,YAAY;MACpB;IACF,KAAK,MAAM;MACToO,KAAK,GAAGnO,SAAS;MACjB;IACF,KAAK,WAAW;MACdmO,KAAK,GAAGlO,cAAc;MACtB;IACF,KAAK,YAAY;MACfkO,KAAK,GAAGjO,eAAe;MACvB;IACF;MACEiO,KAAK,GAAG5O,UAAU;EACtB;EACA,MAAM;IAAEoI,CAAC;IAAEC;EAAE,CAAC,GAAGnJ,0BAA0B,CAAC+B,IAAI,CAAC;EACjD,MAAM4N,YAAY,GAAGjO,IAAI,CAAC,CAAC,CAACwH,CAAC,CAACA,CAAC,CAAC,CAACC,CAAC,CAACA,CAAC,CAAC,CAACuG,KAAK,CAACA,KAAK,CAAC;EAClD,IAAIE,aAAa;EACjB,QAAQ7N,IAAI,CAAC8N,SAAS;IACpB,KAAK,QAAQ;MACXD,aAAa,GAAG,uBAAuB;MACvC;IACF,KAAK,OAAO;MACVA,aAAa,GAAG,sBAAsB;MACtC;IACF,KAAK,WAAW;MACdA,aAAa,GAAG,0BAA0B;MAC1C;IACF;MACEA,aAAa,GAAG,uBAAuB;EAC3C;EACA,QAAQ7N,IAAI,CAAC+N,OAAO;IAClB,KAAK,OAAO;MACVF,aAAa,IAAI,qBAAqB;MACtC;IACF,KAAK,QAAQ;MACXA,aAAa,IAAI,sBAAsB;MACvC;IACF,KAAK,QAAQ;MACXA,aAAa,IAAI,sBAAsB;MACvC;IACF;MACEA,aAAa,IAAI,qBAAqB;EAC1C;EACA,IAAI9N,OAAO;EACX,IAAIiO,QAAQ,GAAGhO,IAAI,CAAC2N,KAAK,KAAK,SAAS,GAAGM,mBAAmB,CAACC,0BAA0B,CAAC1D,QAAQ,EAAExK,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG4N,YAAY,CAACpD,QAAQ,CAAC;EACrI,MAAM2D,UAAU,GAAGtC,KAAK,CAACuC,OAAO,CAACpO,IAAI,CAAC6D,KAAK,CAAC,GAAG7D,IAAI,CAAC6D,KAAK,GAAG,CAAC7D,IAAI,CAAC6D,KAAK,CAAC;EACxE,IAAIzD,WAAW,GAAG+N,UAAU,CAACE,IAAI,CAAExK,KAAK,IAAKA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEyK,UAAU,CAAC,SAAS,CAAC,CAAC;EAC1E,IAAIC,YAAY,GAAG,KAAK;EACxB,IAAIvO,IAAI,CAACwO,IAAI,KAAK,WAAW,EAAE;IAC7B,MAAMC,EAAE,GAAG5O,KAAK,CAAC6O,GAAG,CAAC3K,IAAI,CAAC;IAC1B4K,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEpE,QAAQ,CAAC;IAC3B,MAAMqE,WAAW,GAAGJ,EAAE,CAAC1L,IAAI,CAACiL,QAAQ,EAAE;MACpCc,SAAS,EAAE,GAAG;MACdC,IAAI,EAAExC;IACR,CAAC,CAAC;IACFsB,aAAa,IAAI,aAAa;IAC9B9N,OAAO,GAAGH,MAAM,CAACiP,WAAW,CAAC,CAACjP,MAAM,CAAC,MAAM,CAAC,CAACuD,IAAI,CAAC,IAAI,EAAEnD,IAAI,CAACE,EAAE,CAAC,CAACiD,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG0K,aAAa,IAAI7N,IAAI,CAACgP,OAAO,GAAG,GAAG,GAAGhP,IAAI,CAACgP,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC7L,IAAI,CAAC,OAAO,EAAEgL,UAAU,GAAGA,UAAU,CAACxK,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAG,GAAG,GAAGC,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC;IACxO,IAAIoL,CAAC,GAAGlP,OAAO,CAACoD,IAAI,CAAC,GAAG,CAAC;IACzBpD,OAAO,CAACoD,IAAI,CAAC,GAAG,EAAE8L,CAAC,CAAC;IACpBlL,IAAI,CAACc,IAAI,CAAC,CAAC,CAAC3B,WAAW,CAACnD,OAAO,CAAC8E,IAAI,CAAC,CAAC,CAAC;EACzC,CAAC,MAAM;IAAA,IAAAqK,gBAAA;IACL,MAAMC,iBAAiB,GAAGxC,eAAe,CAACb,IAAI,CAAC,GAAG,CAAC;IACnD,MAAMpI,MAAM,GAAGyK,UAAU,GAAGA,UAAU,CAACxK,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGC,KAAK,GAAG,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE;IACzF,IAAIuL,cAAc,GAAG,EAAE;IACvB,IAAIpP,IAAI,CAACqP,OAAO,EAAE;MAChBD,cAAc,GAAG,sBAAsB;IACzC;IACA,IAAIpP,IAAI,CAACsP,SAAS,EAAE;MAClBF,cAAc,GAAG,kBAAkB,GAAGpP,IAAI,CAACsP,SAAS;IACtD;IACA,MAAMC,SAAS,GAAG,CAACJ,iBAAiB,GAAGA,iBAAiB,GAAG,GAAG,GAAGzL,MAAM,GAAG,GAAG,GAAGA,MAAM,IAAI,GAAG,IAAIyK,UAAU,GAAGA,UAAU,CAACxK,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAG,GAAG,GAAGC,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC;IAC5K9D,OAAO,GAAGgE,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE6K,QAAQ,CAAC,CAAC7K,IAAI,CAAC,IAAI,EAAEnD,IAAI,CAACE,EAAE,CAAC,CAACiD,IAAI,CACxE,OAAO,EACP,GAAG,GAAG0K,aAAa,IAAI7N,IAAI,CAACgP,OAAO,GAAG,GAAG,GAAGhP,IAAI,CAACgP,OAAO,GAAG,EAAE,CAAC,IAAII,cAAc,aAAdA,cAAc,cAAdA,cAAc,GAAI,EAAE,CACxF,CAAC,CAACjM,IAAI,CAAC,OAAO,EAAEoM,SAAS,CAAC;IAC1BnP,WAAW,IAAA8O,gBAAA,GAAGK,SAAS,CAACE,KAAK,CAAC,gBAAgB,CAAC,cAAAP,gBAAA,uBAAjCA,gBAAA,CAAoC,CAAC,CAAC;IACpDX,YAAY,GAAGvO,IAAI,CAACqP,OAAO,KAAK,IAAI,IAAI,CAAC,CAACrP,IAAI,CAACsP,SAAS,IAAIH,iBAAiB,CAACzE,QAAQ,CAAC,WAAW,CAAC;IACnG,MAAMgF,QAAQ,GAAG3P,OAAO,CAAC8E,IAAI,CAAC,CAAC;IAC/B,MAAMsG,GAAG,GAAG,OAAOuE,QAAQ,CAACC,cAAc,KAAK,UAAU,GAAGD,QAAQ,CAACC,cAAc,CAAC,CAAC,GAAG,CAAC;IACzF,MAAMvE,OAAO,GAAGjN,cAAc,CAAC6B,IAAI,CAACK,cAAc,CAAC,IAAI,CAAC;IACxD,MAAMgL,OAAO,GAAGlN,cAAc,CAAC6B,IAAI,CAACO,YAAY,CAAC,IAAI,CAAC;IACtD,IAAIP,IAAI,CAACwO,IAAI,KAAK,KAAK,IAAI,CAACD,YAAY,EAAE;MACxC,MAAMxC,SAAS,GAAG/L,IAAI,CAAC+N,OAAO,KAAK,QAAQ,IAAI/N,IAAI,CAAC+N,OAAO,KAAK,QAAQ,GAAG7C,iBAAiB,CAACC,GAAG,EAAEC,OAAO,EAAEC,OAAO,CAAC,QAAAvJ,MAAA,CAAQsJ,OAAO,OAAAtJ,MAAA,CAAIqJ,GAAG,GAAGC,OAAO,GAAGC,OAAO,OAAAvJ,MAAA,CAAIuJ,OAAO,CAAE;MAC1K,MAAMuE,OAAO,wBAAA9N,MAAA,CAAwBiK,SAAS,4BAAyB;MACvEhM,OAAO,CAACoD,IAAI,CAAC,OAAO,EAAEyM,OAAO,GAAG7P,OAAO,CAACoD,IAAI,CAAC,OAAO,CAAC,CAAC;IACxD;EACF;EACApD,OAAO,CAACoD,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC;EAC/BpD,OAAO,CAACoD,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC;EAC/BpD,OAAO,CAACoD,IAAI,CAAC,SAAS,EAAEnD,IAAI,CAACE,EAAE,CAAC;EAChCH,OAAO,CAACoD,IAAI,CAAC,aAAa,EAAEgK,SAAS,CAAC;EACtC,IAAInN,IAAI,CAAC6P,UAAU,EAAE;IACnBrF,QAAQ,CAAC1H,OAAO,CAAEgN,MAAM,IAAK;MAC3B/L,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAAC3L,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAACA,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAACV,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE2M,MAAM,CAAC3I,CAAC,CAAC,CAAChE,IAAI,CAAC,IAAI,EAAE2M,MAAM,CAAC1I,CAAC,CAAC;IAC1H,CAAC,CAAC;EACJ;EACA,IAAInH,GAAG,GAAG,EAAE;EACZ,IAAIrB,SAAS,CAAC,CAAC,CAACqF,SAAS,CAAC8L,mBAAmB,IAAInR,SAAS,CAAC,CAAC,CAACoR,KAAK,CAACD,mBAAmB,EAAE;IACtF9P,GAAG,GAAGgQ,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAG,IAAI,GAAGF,MAAM,CAACC,QAAQ,CAACE,IAAI,GAAGH,MAAM,CAACC,QAAQ,CAACG,QAAQ,GAAGJ,MAAM,CAACC,QAAQ,CAACI,MAAM;IAChHrQ,GAAG,GAAGA,GAAG,CAACmC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;EACvD;EACAtD,GAAG,CAAC2F,IAAI,CAAC,gBAAgB,EAAEzE,IAAI,CAACK,cAAc,CAAC;EAC/CvB,GAAG,CAAC2F,IAAI,CAAC,cAAc,EAAEzE,IAAI,CAACO,YAAY,CAAC;EAC3CT,cAAc,CAACC,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAEC,EAAE,EAAEC,WAAW,EAAEC,WAAW,CAAC;EAChE,MAAMmQ,QAAQ,GAAG5I,IAAI,CAACgE,KAAK,CAAC5C,MAAM,CAACpC,MAAM,GAAG,CAAC,CAAC;EAC9C,MAAMc,MAAM,GAAGsB,MAAM,CAACwH,QAAQ,CAAC;EAC/B,IAAI,CAAC9R,aAAa,CAAC+R,uBAAuB,CAAC/I,MAAM,EAAE1H,OAAO,CAACoD,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;IACrEqJ,gBAAgB,GAAG,IAAI;EACzB;EACA,IAAI5J,KAAK,GAAG,CAAC,CAAC;EACd,IAAI4J,gBAAgB,EAAE;IACpB5J,KAAK,CAACkE,WAAW,GAAGiC,MAAM;EAC5B;EACAnG,KAAK,CAACmE,YAAY,GAAG/G,IAAI,CAAC+I,MAAM;EAChC,OAAOnG,KAAK;AACd,CAAC,EAAE,YAAY,CAAC;AAChB,SAASqL,mBAAmBA,CAAClF,MAAM,EAAE0H,MAAM,EAAE;EAC3C,IAAI1H,MAAM,CAACpC,MAAM,GAAG,CAAC,EAAE;IACrB,OAAO,EAAE;EACX;EACA,IAAI5D,IAAI,GAAG,EAAE;EACb,MAAM2N,IAAI,GAAG3H,MAAM,CAACpC,MAAM;EAC1B,MAAMgK,OAAO,GAAG,IAAI;EACpB,KAAK,IAAIhH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+G,IAAI,EAAE/G,CAAC,EAAE,EAAE;IAC7B,MAAMiH,SAAS,GAAG7H,MAAM,CAACY,CAAC,CAAC;IAC3B,MAAMgB,SAAS,GAAG5B,MAAM,CAACY,CAAC,GAAG,CAAC,CAAC;IAC/B,MAAMiB,SAAS,GAAG7B,MAAM,CAACY,CAAC,GAAG,CAAC,CAAC;IAC/B,IAAIA,CAAC,KAAK,CAAC,EAAE;MACX5G,IAAI,QAAAjB,MAAA,CAAQ8O,SAAS,CAACzJ,CAAC,OAAArF,MAAA,CAAI8O,SAAS,CAACxJ,CAAC,CAAE;IAC1C,CAAC,MAAM,IAAIuC,CAAC,KAAK+G,IAAI,GAAG,CAAC,EAAE;MACzB3N,IAAI,QAAAjB,MAAA,CAAQ8O,SAAS,CAACzJ,CAAC,OAAArF,MAAA,CAAI8O,SAAS,CAACxJ,CAAC,CAAE;IAC1C,CAAC,MAAM;MACL,MAAMyJ,GAAG,GAAGD,SAAS,CAACzJ,CAAC,GAAGwD,SAAS,CAACxD,CAAC;MACrC,MAAM2J,GAAG,GAAGF,SAAS,CAACxJ,CAAC,GAAGuD,SAAS,CAACvD,CAAC;MACrC,MAAM2J,GAAG,GAAGnG,SAAS,CAACzD,CAAC,GAAGyJ,SAAS,CAACzJ,CAAC;MACrC,MAAM6J,GAAG,GAAGpG,SAAS,CAACxD,CAAC,GAAGwJ,SAAS,CAACxJ,CAAC;MACrC,MAAM6J,IAAI,GAAGtJ,IAAI,CAACuJ,KAAK,CAACL,GAAG,EAAEC,GAAG,CAAC;MACjC,MAAMK,IAAI,GAAGxJ,IAAI,CAACuJ,KAAK,CAACH,GAAG,EAAEC,GAAG,CAAC;MACjC,IAAIC,IAAI,GAAGN,OAAO,IAAIQ,IAAI,GAAGR,OAAO,EAAE;QACpC5N,IAAI,QAAAjB,MAAA,CAAQ8O,SAAS,CAACzJ,CAAC,OAAArF,MAAA,CAAI8O,SAAS,CAACxJ,CAAC,CAAE;QACxC;MACF;MACA,MAAMgK,GAAG,GAAGP,GAAG,GAAGI,IAAI;MACtB,MAAMI,GAAG,GAAGP,GAAG,GAAGG,IAAI;MACtB,MAAMK,GAAG,GAAGP,GAAG,GAAGI,IAAI;MACtB,MAAMI,GAAG,GAAGP,GAAG,GAAGG,IAAI;MACtB,MAAMK,GAAG,GAAGJ,GAAG,GAAGE,GAAG,GAAGD,GAAG,GAAGE,GAAG;MACjC,MAAME,UAAU,GAAG9J,IAAI,CAAC+J,GAAG,CAAC,CAAC,CAAC,EAAE/J,IAAI,CAACgK,GAAG,CAAC,CAAC,EAAEH,GAAG,CAAC,CAAC;MACjD,MAAMI,KAAK,GAAGjK,IAAI,CAACkK,IAAI,CAACJ,UAAU,CAAC;MACnC,IAAIG,KAAK,GAAGjB,OAAO,IAAIhJ,IAAI,CAACC,GAAG,CAACD,IAAI,CAACmK,EAAE,GAAGF,KAAK,CAAC,GAAGjB,OAAO,EAAE;QAC1D5N,IAAI,QAAAjB,MAAA,CAAQ8O,SAAS,CAACzJ,CAAC,OAAArF,MAAA,CAAI8O,SAAS,CAACxJ,CAAC,CAAE;QACxC;MACF;MACA,MAAM2K,MAAM,GAAGpK,IAAI,CAACgK,GAAG,CAAClB,MAAM,GAAG9I,IAAI,CAACqK,GAAG,CAACJ,KAAK,GAAG,CAAC,CAAC,EAAEX,IAAI,GAAG,CAAC,EAAEE,IAAI,GAAG,CAAC,CAAC;MACzE,MAAMc,MAAM,GAAGrB,SAAS,CAACzJ,CAAC,GAAGiK,GAAG,GAAGW,MAAM;MACzC,MAAMG,MAAM,GAAGtB,SAAS,CAACxJ,CAAC,GAAGiK,GAAG,GAAGU,MAAM;MACzC,MAAMI,IAAI,GAAGvB,SAAS,CAACzJ,CAAC,GAAGmK,GAAG,GAAGS,MAAM;MACvC,MAAMK,IAAI,GAAGxB,SAAS,CAACxJ,CAAC,GAAGmK,GAAG,GAAGQ,MAAM;MACvChP,IAAI,QAAAjB,MAAA,CAAQmQ,MAAM,OAAAnQ,MAAA,CAAIoQ,MAAM,CAAE;MAC9BnP,IAAI,QAAAjB,MAAA,CAAQ8O,SAAS,CAACzJ,CAAC,OAAArF,MAAA,CAAI8O,SAAS,CAACxJ,CAAC,OAAAtF,MAAA,CAAIqQ,IAAI,OAAArQ,MAAA,CAAIsQ,IAAI,CAAE;IAC1D;EACF;EACA,OAAOrP,IAAI;AACb;AACAlE,MAAM,CAACoP,mBAAmB,EAAE,qBAAqB,CAAC;AAClD,SAASoE,sBAAsBA,CAACC,MAAM,EAAE7K,MAAM,EAAE;EAC9C,IAAI,CAAC6K,MAAM,IAAI,CAAC7K,MAAM,EAAE;IACtB,OAAO;MAAEmK,KAAK,EAAE,CAAC;MAAEW,MAAM,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC;EAC3C;EACA,MAAMD,MAAM,GAAG9K,MAAM,CAACN,CAAC,GAAGmL,MAAM,CAACnL,CAAC;EAClC,MAAMqL,MAAM,GAAG/K,MAAM,CAACL,CAAC,GAAGkL,MAAM,CAAClL,CAAC;EAClC,MAAMwK,KAAK,GAAGjK,IAAI,CAAC8K,KAAK,CAACD,MAAM,EAAED,MAAM,CAAC;EACxC,OAAO;IAAEX,KAAK;IAAEW,MAAM;IAAEC;EAAO,CAAC;AAClC;AACA3T,MAAM,CAACwT,sBAAsB,EAAE,wBAAwB,CAAC;AACxD,SAASnE,0BAA0BA,CAACnF,MAAM,EAAE/I,IAAI,EAAE;EAChD,MAAM0S,SAAS,GAAG3J,MAAM,CAAC4J,GAAG,CAAElL,MAAM,IAAAmL,aAAA,KAAWnL,MAAM,CAAG,CAAC;EACzD,IAAIsB,MAAM,CAACpC,MAAM,IAAI,CAAC,IAAIzI,aAAa,CAAC8B,IAAI,CAACK,cAAc,CAAC,EAAE;IAC5D,MAAMwS,WAAW,GAAG3U,aAAa,CAAC8B,IAAI,CAACK,cAAc,CAAC;IACtD,MAAMiS,MAAM,GAAGvJ,MAAM,CAAC,CAAC,CAAC;IACxB,MAAMtB,MAAM,GAAGsB,MAAM,CAAC,CAAC,CAAC;IACxB,MAAM;MAAE6I;IAAM,CAAC,GAAGS,sBAAsB,CAACC,MAAM,EAAE7K,MAAM,CAAC;IACxD,MAAMqL,OAAO,GAAGD,WAAW,GAAGlL,IAAI,CAACoL,GAAG,CAACnB,KAAK,CAAC;IAC7C,MAAMoB,OAAO,GAAGH,WAAW,GAAGlL,IAAI,CAACqK,GAAG,CAACJ,KAAK,CAAC;IAC7Cc,SAAS,CAAC,CAAC,CAAC,CAACvL,CAAC,GAAGmL,MAAM,CAACnL,CAAC,GAAG2L,OAAO;IACnCJ,SAAS,CAAC,CAAC,CAAC,CAACtL,CAAC,GAAGkL,MAAM,CAAClL,CAAC,GAAG4L,OAAO;EACrC;EACA,MAAMC,CAAC,GAAGlK,MAAM,CAACpC,MAAM;EACvB,IAAIsM,CAAC,IAAI,CAAC,IAAI/U,aAAa,CAAC8B,IAAI,CAACO,YAAY,CAAC,EAAE;IAC9C,MAAMsS,WAAW,GAAG3U,aAAa,CAAC8B,IAAI,CAACO,YAAY,CAAC;IACpD,MAAM+R,MAAM,GAAGvJ,MAAM,CAACkK,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAMxL,MAAM,GAAGsB,MAAM,CAACkK,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM;MAAErB;IAAM,CAAC,GAAGS,sBAAsB,CAAC5K,MAAM,EAAE6K,MAAM,CAAC;IACxD,MAAMQ,OAAO,GAAGD,WAAW,GAAGlL,IAAI,CAACoL,GAAG,CAACnB,KAAK,CAAC;IAC7C,MAAMoB,OAAO,GAAGH,WAAW,GAAGlL,IAAI,CAACqK,GAAG,CAACJ,KAAK,CAAC;IAC7Cc,SAAS,CAACO,CAAC,GAAG,CAAC,CAAC,CAAC9L,CAAC,GAAGmL,MAAM,CAACnL,CAAC,GAAG2L,OAAO;IACvCJ,SAAS,CAACO,CAAC,GAAG,CAAC,CAAC,CAAC7L,CAAC,GAAGkL,MAAM,CAAClL,CAAC,GAAG4L,OAAO;EACzC;EACA,OAAON,SAAS;AAClB;AACA7T,MAAM,CAACqP,0BAA0B,EAAE,4BAA4B,CAAC;;AAEhE;AACA,IAAIgF,aAAa,GAAG,eAAgBrU,MAAM,CAAC,CAACkF,IAAI,EAAEoP,WAAW,EAAEzS,IAAI,EAAER,EAAE,KAAK;EAC1EiT,WAAW,CAACrQ,OAAO,CAAEsQ,UAAU,IAAK;IAClCC,OAAO,CAACD,UAAU,CAAC,CAACrP,IAAI,EAAErD,IAAI,EAAER,EAAE,CAAC;EACrC,CAAC,CAAC;AACJ,CAAC,EAAE,eAAe,CAAC;AACnB,IAAIc,SAAS,GAAG,eAAgBnC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACzDpB,GAAG,CAACwU,KAAK,CAAC,qBAAqB,EAAEpT,EAAE,CAAC;EACpC6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,iBAAiB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,mBAAmB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,oBAAoB,CAAC;EACxRY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,eAAe,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,mBAAmB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,oBAAoB,CAAC;AACrR,CAAC,EAAE,WAAW,CAAC;AACf,IAAIlC,WAAW,GAAG,eAAgBpC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EAC3D6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,mBAAmB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,qBAAqB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,0BAA0B,CAAC;EAClSY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,iBAAiB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,qBAAqB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,0BAA0B,CAAC;AAC/R,CAAC,EAAE,aAAa,CAAC;AACjB,IAAIpC,WAAW,GAAG,eAAgBlC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EAC3D6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,mBAAmB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,qBAAqB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,0BAA0B,CAAC;EAClSY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,iBAAiB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,qBAAqB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,0BAA0B,CAAC;AAC/R,CAAC,EAAE,aAAa,CAAC;AACjB,IAAIjC,UAAU,GAAG,eAAgBrC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EAC1D6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,kBAAkB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,oBAAoB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,yBAAyB,CAAC;EAC9RY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,gBAAgB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,oBAAoB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,2BAA2B,CAAC;AAC/R,CAAC,EAAE,YAAY,CAAC;AAChB,IAAIhC,QAAQ,GAAG,eAAgBtC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACxD6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,gBAAgB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,kBAAkB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;EACrVY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,cAAc,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,kBAAkB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACpV,CAAC,EAAE,UAAU,CAAC;AACd,IAAIoQ,KAAK,GAAG,eAAgB1U,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACrD6D,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,WAAW,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,SAAS,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAACA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAACU,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;EACrZE,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,aAAa,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,SAAS,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,wBAAwB,CAAC,CAACA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAACU,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;AAC5Z,CAAC,EAAE,OAAO,CAAC;AACX,IAAI2P,MAAM,GAAG,eAAgB3U,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACtD6D,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,YAAY,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,SAAS,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAACU,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;EACvaE,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,cAAc,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,SAAS,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAACU,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;AAC3a,CAAC,EAAE,QAAQ,CAAC;AACZ,IAAI4P,KAAK,GAAG,eAAgB5U,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACrD6D,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,WAAW,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,eAAe,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,2BAA2B,CAAC,CAACA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAACU,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;EACpaE,IAAI,CAACyL,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,aAAa,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,eAAe,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,2BAA2B,CAAC,CAACA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAACU,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAACA,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC;AACxa,CAAC,EAAE,OAAO,CAAC;AACX,IAAI6P,IAAI,GAAG,eAAgB7U,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACpD6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,UAAU,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,2BAA2B,CAAC;AACpR,CAAC,EAAE,MAAM,CAAC;AACV,IAAI/B,QAAQ,GAAG,eAAgBvC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACxD6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,eAAe,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,iBAAiB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,yBAAyB,CAAC;EACtRY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,aAAa,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,iBAAiB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,uBAAuB,CAAC;AACrR,CAAC,EAAE,UAAU,CAAC;AACd,IAAI9B,WAAW,GAAG,eAAgBxC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EAC3D,MAAMyT,WAAW,GAAG5P,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,iBAAiB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,mBAAmB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;EAC1PwQ,WAAW,CAACnE,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;EAC5FwQ,WAAW,CAACnE,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,YAAY,CAAC;EAClD,MAAMyQ,SAAS,GAAG7P,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,eAAe,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,mBAAmB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;EACvPyQ,SAAS,CAACpE,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;EACzFyQ,SAAS,CAACpE,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,cAAc,CAAC;AACpD,CAAC,EAAE,aAAa,CAAC;AACjB,IAAI7B,WAAW,GAAG,eAAgBzC,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EAC3D6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,iBAAiB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,mBAAmB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,8CAA8C,CAAC;EACjTY,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,eAAe,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,mBAAmB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,0CAA0C,CAAC;AAC7S,CAAC,EAAE,aAAa,CAAC;AACjB,IAAI5B,YAAY,GAAG,eAAgB1C,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EAC5D,MAAMyT,WAAW,GAAG5P,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,kBAAkB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,oBAAoB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;EAC9PwQ,WAAW,CAACnE,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;EAC7FwQ,WAAW,CAACnE,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,+BAA+B,CAAC;EACrE,MAAMyQ,SAAS,GAAG7P,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,gBAAgB,CAAC,CAACyC,IAAI,CAAC,OAAO,EAAE,oBAAoB,GAAGzC,IAAI,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;EAC1PyQ,SAAS,CAACpE,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;EAC1FyQ,SAAS,CAACpE,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,GAAG,EAAE,iCAAiC,CAAC;AACvE,CAAC,EAAE,cAAc,CAAC;AAClB,IAAI3B,iBAAiB,GAAG,eAAgB3C,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACjE6D,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,uBAAuB,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CACtN,GAAG,iDAKL,CAAC;AACH,CAAC,EAAE,mBAAmB,CAAC;AACvB,IAAI1B,oBAAoB,GAAG,eAAgB5C,MAAM,CAAC,CAACkF,IAAI,EAAErD,IAAI,EAAER,EAAE,KAAK;EACpE,MAAM2T,YAAY,GAAG9P,IAAI,CAACyL,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAEjD,EAAE,GAAG,GAAG,GAAGQ,IAAI,GAAG,4BAA4B,CAAC,CAACyC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACqM,MAAM,CAAC,GAAG,CAAC;EACzOqE,YAAY,CAACrE,MAAM,CAAC,QAAQ,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;EAC7F0Q,YAAY,CAACrE,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC;EACtF0Q,YAAY,CAACrE,MAAM,CAAC,MAAM,CAAC,CAACrM,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC;AACxF,CAAC,EAAE,sBAAsB,CAAC;AAC1B,IAAIkQ,OAAO,GAAG;EACZrS,SAAS;EACTC,WAAW;EACXF,WAAW;EACXG,UAAU;EACVC,QAAQ;EACRoS,KAAK;EACLC,MAAM;EACNC,KAAK;EACLC,IAAI;EACJtS,QAAQ;EACRC,WAAW;EACXC,WAAW;EACXC,YAAY;EACZC,iBAAiB;EACjBC;AACF,CAAC;AACD,IAAIqS,eAAe,GAAGZ,aAAa;AAEnC,SACE3P,KAAK,EACLO,eAAe,EACf8C,iBAAiB,EACjBoF,UAAU,EACV8H,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}