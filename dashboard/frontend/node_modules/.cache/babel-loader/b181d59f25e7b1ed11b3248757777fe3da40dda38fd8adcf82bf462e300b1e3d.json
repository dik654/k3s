{"ast":null,"code":"import _objectSpread from \"/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { emojiComponents } from \"../data.js\";\nimport { getUnqualifiedEmojiSequence } from \"../cleanup.js\";\nimport { getEmojiSequenceKeyword } from \"../format.js\";\nimport { replaceEmojiComponentsInCombinedSequence } from \"./components.js\";\n\n/**\n* Find missing emojis\n*\n* Result includes missing items, which are extended from items that needs to\n* be copied. To identify which emojis to copy, source object should include\n* something like `iconName` key that points to icon sequence represents.\n*/\nfunction findMissingEmojis(sequences, testDataTree) {\n  const results = [];\n  const existingItems = Object.create(null);\n  const copiedItems = Object.create(null);\n  sequences.forEach(item => {\n    const key = getEmojiSequenceKeyword(getUnqualifiedEmojiSequence(item.sequence));\n    if (!existingItems[key] || existingItems[key].sequence.length < item.sequence.length) existingItems[key] = item;\n  });\n  const iterate = (type, parentTree, parentValues, parentItem, deep) => {\n    var _parentTree$children;\n    const childTree = (_parentTree$children = parentTree.children) === null || _parentTree$children === void 0 ? void 0 : _parentTree$children[type];\n    if (!childTree) return;\n    const range = emojiComponents[type];\n    for (let number = range[0]; number < range[1]; number++) {\n      const values = {\n        \"hair-style\": [...parentValues[\"hair-style\"]],\n        \"skin-tone\": [...parentValues[\"skin-tone\"]]\n      };\n      values[type].push(number);\n      const sequence = replaceEmojiComponentsInCombinedSequence(childTree.item.sequence, values);\n      const key = getEmojiSequenceKeyword(getUnqualifiedEmojiSequence(sequence));\n      const oldItem = existingItems[key];\n      let item;\n      if (oldItem) item = oldItem;else {\n        item = copiedItems[key];\n        if (!item) {\n          item = _objectSpread(_objectSpread({}, parentItem), {}, {\n            sequence\n          });\n          if (item.sequenceKey) item.sequenceKey = key;\n          copiedItems[key] = item;\n          results.push(item);\n        }\n      }\n      if (deep || oldItem) for (const key$1 in values) iterate(key$1, childTree, values, item, deep);\n    }\n  };\n  const parse = (key, deep) => {\n    const treeItem = testDataTree[key];\n    const rootItem = existingItems[treeItem.item.sequenceKey];\n    if (!rootItem) return;\n    const values = {\n      \"skin-tone\": [],\n      \"hair-style\": []\n    };\n    for (const key$1 in values) iterate(key$1, treeItem, values, rootItem, deep);\n  };\n  for (const key in testDataTree) {\n    parse(key, false);\n    parse(key, true);\n  }\n  return results;\n}\nexport { findMissingEmojis };","map":{"version":3,"names":["emojiComponents","getUnqualifiedEmojiSequence","getEmojiSequenceKeyword","replaceEmojiComponentsInCombinedSequence","findMissingEmojis","sequences","testDataTree","results","existingItems","Object","create","copiedItems","forEach","item","key","sequence","length","iterate","type","parentTree","parentValues","parentItem","deep","_parentTree$children","childTree","children","range","number","values","push","oldItem","_objectSpread","sequenceKey","key$1","parse","treeItem","rootItem"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@iconify/utils/lib/emoji/test/missing.js"],"sourcesContent":["import { emojiComponents } from \"../data.js\";\nimport { getUnqualifiedEmojiSequence } from \"../cleanup.js\";\nimport { getEmojiSequenceKeyword } from \"../format.js\";\nimport { replaceEmojiComponentsInCombinedSequence } from \"./components.js\";\n\n/**\n* Find missing emojis\n*\n* Result includes missing items, which are extended from items that needs to\n* be copied. To identify which emojis to copy, source object should include\n* something like `iconName` key that points to icon sequence represents.\n*/\nfunction findMissingEmojis(sequences, testDataTree) {\n\tconst results = [];\n\tconst existingItems = Object.create(null);\n\tconst copiedItems = Object.create(null);\n\tsequences.forEach((item) => {\n\t\tconst key = getEmojiSequenceKeyword(getUnqualifiedEmojiSequence(item.sequence));\n\t\tif (!existingItems[key] || existingItems[key].sequence.length < item.sequence.length) existingItems[key] = item;\n\t});\n\tconst iterate = (type, parentTree, parentValues, parentItem, deep) => {\n\t\tconst childTree = parentTree.children?.[type];\n\t\tif (!childTree) return;\n\t\tconst range = emojiComponents[type];\n\t\tfor (let number = range[0]; number < range[1]; number++) {\n\t\t\tconst values = {\n\t\t\t\t\"hair-style\": [...parentValues[\"hair-style\"]],\n\t\t\t\t\"skin-tone\": [...parentValues[\"skin-tone\"]]\n\t\t\t};\n\t\t\tvalues[type].push(number);\n\t\t\tconst sequence = replaceEmojiComponentsInCombinedSequence(childTree.item.sequence, values);\n\t\t\tconst key = getEmojiSequenceKeyword(getUnqualifiedEmojiSequence(sequence));\n\t\t\tconst oldItem = existingItems[key];\n\t\t\tlet item;\n\t\t\tif (oldItem) item = oldItem;\n\t\t\telse {\n\t\t\t\titem = copiedItems[key];\n\t\t\t\tif (!item) {\n\t\t\t\t\titem = {\n\t\t\t\t\t\t...parentItem,\n\t\t\t\t\t\tsequence\n\t\t\t\t\t};\n\t\t\t\t\tif (item.sequenceKey) item.sequenceKey = key;\n\t\t\t\t\tcopiedItems[key] = item;\n\t\t\t\t\tresults.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (deep || oldItem) for (const key$1 in values) iterate(key$1, childTree, values, item, deep);\n\t\t}\n\t};\n\tconst parse = (key, deep) => {\n\t\tconst treeItem = testDataTree[key];\n\t\tconst rootItem = existingItems[treeItem.item.sequenceKey];\n\t\tif (!rootItem) return;\n\t\tconst values = {\n\t\t\t\"skin-tone\": [],\n\t\t\t\"hair-style\": []\n\t\t};\n\t\tfor (const key$1 in values) iterate(key$1, treeItem, values, rootItem, deep);\n\t};\n\tfor (const key in testDataTree) {\n\t\tparse(key, false);\n\t\tparse(key, true);\n\t}\n\treturn results;\n}\n\nexport { findMissingEmojis };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}