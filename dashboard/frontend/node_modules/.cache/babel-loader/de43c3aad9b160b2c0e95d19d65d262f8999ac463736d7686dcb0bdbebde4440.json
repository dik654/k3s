{"ast":null,"code":"import _objectSpread from\"/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import{Shield,GitBranch,Upload,Link,Tag,Clock,RefreshCw,Save,Trash2,Plus,X,Copy,CheckCircle,AlertCircle,ChevronDown,ChevronRight,Settings,BarChart3,FileText,Loader2,Lock,Users,UserPlus,UserMinus,Key,Eye,EyeOff,ToggleLeft,ToggleRight,HardDrive,Camera,RotateCcw,Database,Expand}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE='/api';// 버킷 정책 관리 컴포넌트\nexport const BucketPolicyManager=_ref=>{let{bucketName,showToast}=_ref;const[policy,setPolicy]=useState(null);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[editing,setEditing]=useState(false);const[policyJson,setPolicyJson]=useState('');const[dataLoaded,setDataLoaded]=useState(false);const fetchPolicy=useCallback(async function(){let isBackground=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(!isBackground&&!dataLoaded){setLoading(true);}const[policyRes,templatesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\")),axios.get(\"\".concat(API_BASE,\"/storage/policy-templates\"))]);setPolicy(policyRes.data.policy);setPolicyJson(policyRes.data.policy?JSON.stringify(policyRes.data.policy,null,2):'');setTemplates(templatesRes.data.templates||[]);setDataLoaded(true);}catch(error){if(!isBackground){showToast('정책 조회 실패','error');}}finally{setLoading(false);}},[bucketName,showToast,dataLoaded]);useEffect(()=>{fetchPolicy(false);},[bucketName]);// eslint-disable-line react-hooks/exhaustive-deps\nconst handleApplyTemplate=async template=>{if(!template.policy){// private - 정책 삭제\ntry{await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"));showToast('버킷이 비공개로 설정되었습니다');fetchPolicy();}catch(error){showToast('정책 삭제 실패','error');}return;}const policyWithBucket=JSON.parse(JSON.stringify(template.policy).replace(/BUCKET_NAME/g,bucketName));try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"),{policy:policyWithBucket});showToast(\"'\".concat(template.name,\"' \\uC815\\uCC45\\uC774 \\uC801\\uC6A9\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchPolicy();}catch(error){showToast('정책 적용 실패','error');}};const handleSavePolicy=async()=>{try{const parsedPolicy=JSON.parse(policyJson);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"),{policy:parsedPolicy});showToast('정책이 저장되었습니다');setEditing(false);fetchPolicy();}catch(error){if(error instanceof SyntaxError){showToast('올바른 JSON 형식이 아닙니다','error');}else{showToast('정책 저장 실패','error');}}};if(loading&&!dataLoaded){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uCC45 \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel policy-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Shield,{size:16}),\" \\uC815\\uCC45 \\uD15C\\uD50C\\uB9BF\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"template-card \".concat(!template.policy?'private':''),onClick:()=>handleApplyTemplate(template),children:[/*#__PURE__*/_jsx(\"div\",{className:\"template-name\",children:template.name}),/*#__PURE__*/_jsx(\"div\",{className:\"template-desc\",children:template.description})]},template.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(FileText,{size:16}),\" \\uD604\\uC7AC \\uC815\\uCC45\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat(editing?'btn-primary':''),onClick:()=>setEditing(!editing),children:editing?'취소':'편집'})]}),policy?editing?/*#__PURE__*/_jsxs(\"div\",{className:\"policy-editor\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:policyJson,onChange:e=>setPolicyJson(e.target.value),className:\"code-editor\",rows:15}),/*#__PURE__*/_jsx(\"div\",{className:\"editor-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSavePolicy,children:[/*#__PURE__*/_jsx(Save,{size:14}),\" \\uC800\\uC7A5\"]})})]}):/*#__PURE__*/_jsx(\"pre\",{className:\"policy-view\",children:JSON.stringify(policy,null,2)}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Shield,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uCC45\\uC774 \\uC124\\uC815\\uB418\\uC9C0 \\uC54A\\uC74C (\\uBE44\\uACF5\\uAC1C)\"})]})]})]});};// 버전 관리 컴포넌트\nexport const VersioningManager=_ref2=>{let{bucketName,showToast}=_ref2;const[versioning,setVersioning]=useState(null);const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const fetchVersioning=useCallback(async function(){let isBackground=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(!isBackground&&!versioning){setLoading(true);}const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/versioning\"));setVersioning(res.data.versioning);}catch(error){if(!isBackground){showToast('버전 관리 상태 조회 실패','error');}}finally{setLoading(false);}},[bucketName,showToast,versioning]);useEffect(()=>{fetchVersioning(false);},[bucketName]);// eslint-disable-line react-hooks/exhaustive-deps\nconst handleToggleVersioning=async()=>{try{setUpdating(true);const newStatus=(versioning===null||versioning===void 0?void 0:versioning.status)!=='Enabled';await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/versioning\"),{enabled:newStatus});showToast(\"\\uBC84\\uC804 \\uAD00\\uB9AC\\uAC00 \".concat(newStatus?'활성화':'비활성화',\"\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchVersioning();}catch(error){showToast('버전 관리 설정 실패','error');}finally{setUpdating(false);}};if(loading&&!versioning){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC84\\uC804 \\uAD00\\uB9AC \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"})]});}const isEnabled=(versioning===null||versioning===void 0?void 0:versioning.status)==='Enabled';return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel versioning-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"versioning-status\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-info\",children:[/*#__PURE__*/_jsx(GitBranch,{size:32,className:isEnabled?'enabled':'disabled'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1D\\uCCB4 \\uBC84\\uC804 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"status-text \".concat(isEnabled?'enabled':'disabled'),children:isEnabled?'활성화됨':'비활성화됨'})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn \".concat(isEnabled?'btn-danger':'btn-primary'),onClick:handleToggleVersioning,disabled:updating,children:[updating?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):null,isEnabled?'비활성화':'활성화']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"versioning-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:20,className:\"success\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uBC84\\uC804 \\uAD00\\uB9AC \\uD65C\\uC131\\uD654 \\uC2DC\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uAC1D\\uCCB4 \\uC218\\uC815/\\uC0AD\\uC81C \\uC2DC \\uC774\\uC804 \\uBC84\\uC804 \\uBCF4\\uC874\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2E4\\uC218\\uB85C \\uC0AD\\uC81C\\uD55C \\uD30C\\uC77C \\uBCF5\\uAD6C \\uAC00\\uB2A5\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uBCC0\\uACBD \\uC774\\uB825 \\uCD94\\uC801 \\uAC00\\uB2A5\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:20,className:\"warning\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC8FC\\uC758\\uC0AC\\uD56D\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2A4\\uD1A0\\uB9AC\\uC9C0 \\uC0AC\\uC6A9\\uB7C9 \\uC99D\\uAC00\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD55C\\uBC88 \\uD65C\\uC131\\uD654\\uD558\\uBA74 \\uC644\\uC804 \\uBE44\\uD65C\\uC131\\uD654 \\uBD88\\uAC00 (Suspended\\uB9CC \\uAC00\\uB2A5)\"})]})]})]})]})]});};// Presigned URL 생성 컴포넌트\nexport const PresignedUrlGenerator=_ref3=>{let{bucketName,objectName,showToast}=_ref3;const[url,setUrl]=useState(null);const[method,setMethod]=useState('GET');const[expiresHours,setExpiresHours]=useState(1);const[loading,setLoading]=useState(false);const[copied,setCopied]=useState(false);const handleGenerate=async()=>{try{setLoading(true);const res=await axios.post(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/presigned-url\"),{object_name:objectName,expires_hours:expiresHours,method:method});setUrl(res.data);showToast('Presigned URL이 생성되었습니다');}catch(error){showToast('URL 생성 실패','error');}finally{setLoading(false);}};const handleCopy=()=>{if(url){navigator.clipboard.writeText(url.url);setCopied(true);showToast('URL이 클립보드에 복사되었습니다');setTimeout(()=>setCopied(false),2000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel presigned-panel\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Link,{size:16}),\" Presigned URL \\uC0DD\\uC131\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"presigned-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB300\\uC0C1 \\uAC1D\\uCCB4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:objectName||'파일을 선택하세요',disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC791\\uC5C5 \\uC720\\uD615\"}),/*#__PURE__*/_jsxs(\"select\",{value:method,onChange:e=>setMethod(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"GET\",children:\"\\uB2E4\\uC6B4\\uB85C\\uB4DC (GET)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PUT\",children:\"\\uC5C5\\uB85C\\uB4DC (PUT)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC720\\uD6A8 \\uC2DC\\uAC04\"}),/*#__PURE__*/_jsxs(\"select\",{value:expiresHours,onChange:e=>setExpiresHours(Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:6,children:\"6\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:12,children:\"12\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:24,children:\"24\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:48,children:\"48\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:168,children:\"7\\uC77C\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleGenerate,disabled:!objectName||loading,children:[loading?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Link,{size:14}),\"URL \\uC0DD\\uC131\"]})]}),url&&/*#__PURE__*/_jsxs(\"div\",{className:\"presigned-result\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"url-display\",children:[/*#__PURE__*/_jsx(\"code\",{children:url.url}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:handleCopy,children:copied?/*#__PURE__*/_jsx(CheckCircle,{size:16,className:\"success\"}):/*#__PURE__*/_jsx(Copy,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC720\\uD6A8\\uAE30\\uAC04: \",url.expires_in]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uBC29\\uC2DD: \",url.method]})]})]})]});};// 객체 태그 관리 컴포넌트\nexport const ObjectTagsManager=_ref4=>{let{bucketName,objectName,showToast,onClose}=_ref4;const[tags,setTags]=useState({});const[loading,setLoading]=useState(true);const[newKey,setNewKey]=useState('');const[newValue,setNewValue]=useState('');const[saving,setSaving]=useState(false);const fetchTags=useCallback(async()=>{if(!objectName)return;try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"));setTags(res.data.tags||{});}catch(error){// 태그가 없는 경우\nsetTags({});}finally{setLoading(false);}},[bucketName,objectName]);useEffect(()=>{fetchTags();},[fetchTags]);const handleAddTag=()=>{if(newKey.trim()&&newValue.trim()){setTags(_objectSpread(_objectSpread({},tags),{},{[newKey.trim()]:newValue.trim()}));setNewKey('');setNewValue('');}};const handleRemoveTag=key=>{const newTags=_objectSpread({},tags);delete newTags[key];setTags(newTags);};const handleSave=async()=>{try{setSaving(true);if(Object.keys(tags).length===0){await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"));}else{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"),{tags:tags});}showToast('태그가 저장되었습니다');if(onClose)onClose();}catch(error){showToast('태그 저장 실패','error');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel tags-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tags-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Tag,{size:16}),\" \\uAC1D\\uCCB4 \\uD0DC\\uADF8\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"object-name\",children:objectName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags-list\",children:[Object.entries(tags).map(_ref5=>{let[key,value]=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"tag-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"tag-key\",children:key}),/*#__PURE__*/_jsx(\"span\",{className:\"tag-value\",children:value}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleRemoveTag(key),children:/*#__PURE__*/_jsx(X,{size:14})})]},key);}),Object.keys(tags).length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state small\",children:[/*#__PURE__*/_jsx(Tag,{size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD0DC\\uADF8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-tag-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD0A4\",value:newKey,onChange:e=>setNewKey(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC12\",value:newValue,onChange:e=>setNewValue(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleAddTag,children:/*#__PURE__*/_jsx(Plus,{size:14})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSave,disabled:saving,children:[saving?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Save,{size:14}),\"\\uC800\\uC7A5\"]})})]});};// 생명주기 규칙 관리 컴포넌트\nexport const LifecycleManager=_ref6=>{let{bucketName,showToast}=_ref6;const[rules,setRules]=useState([]);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[showAddRule,setShowAddRule]=useState(false);const[newRule,setNewRule]=useState({rule_id:'',prefix:'',enabled:true,expiration_days:30});const fetchLifecycle=useCallback(async()=>{try{setLoading(true);const[rulesRes,templatesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\")),axios.get(\"\".concat(API_BASE,\"/storage/lifecycle-templates\"))]);setRules(rulesRes.data.rules||[]);setTemplates(templatesRes.data.templates||[]);}catch(error){showToast('생명주기 규칙 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchLifecycle();},[fetchLifecycle]);const handleApplyTemplate=async template=>{const rule=_objectSpread(_objectSpread({},template.rule),{},{rule_id:\"\".concat(template.name,\"-\").concat(Date.now())});try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:[...rules,rule]});showToast(\"'\".concat(template.description,\"' \\uADDC\\uCE59\\uC774 \\uCD94\\uAC00\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchLifecycle();}catch(error){showToast('규칙 추가 실패','error');}};const handleAddRule=async()=>{if(!newRule.rule_id.trim()){showToast('규칙 ID를 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:[...rules,newRule]});showToast('규칙이 추가되었습니다');setShowAddRule(false);setNewRule({rule_id:'',prefix:'',enabled:true,expiration_days:30});fetchLifecycle();}catch(error){showToast('규칙 추가 실패','error');}};const handleDeleteRule=async ruleId=>{try{const updatedRules=rules.filter(r=>r.rule_id!==ruleId);if(updatedRules.length===0){await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"));}else{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:updatedRules});}showToast('규칙이 삭제되었습니다');fetchLifecycle();}catch(error){showToast('규칙 삭제 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59 \\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel lifecycle-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Clock,{size:16}),\" \\uADDC\\uCE59 \\uD15C\\uD50C\\uB9BF\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid compact\",children:templates.map(template=>/*#__PURE__*/_jsx(\"div\",{className:\"template-card small\",onClick:()=>handleApplyTemplate(template),children:/*#__PURE__*/_jsx(\"div\",{className:\"template-name\",children:template.description})},template.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD604\\uC7AC \\uADDC\\uCE59 (\",rules.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddRule(true),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\" \\uCD94\\uAC00\"]})]}),rules.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Clock,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"rules-list\",children:rules.map(rule=>/*#__PURE__*/_jsxs(\"div\",{className:\"rule-item \".concat(rule.enabled?'':'disabled'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rule-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rule-id\",children:rule.rule_id}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-details\",children:[rule.prefix&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC811\\uB450\\uC0AC: \",rule.prefix]}),rule.expiration_days&&/*#__PURE__*/_jsxs(\"span\",{children:[rule.expiration_days,\"\\uC77C \\uD6C4 \\uC0AD\\uC81C\"]}),rule.noncurrent_expiration_days&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC774\\uC804 \\uBC84\\uC804 \",rule.noncurrent_expiration_days,\"\\uC77C \\uD6C4 \\uC0AD\\uC81C\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-actions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(rule.enabled?'running':'stopped'),children:rule.enabled?'활성':'비활성'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleDeleteRule(rule.rule_id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},rule.rule_id))})]}),showAddRule&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowAddRule(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content small\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59 \\uCD94\\uAC00\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setShowAddRule(false),children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uADDC\\uCE59 ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRule.rule_id,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{rule_id:e.target.value})),placeholder:\"my-rule-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC811\\uB450\\uC0AC (\\uC120\\uD0DD)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRule.prefix,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{prefix:e.target.value})),placeholder:\"logs/\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB9CC\\uB8CC \\uC77C\\uC218\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRule.expiration_days,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{expiration_days:Number(e.target.value)})),min:1})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newRule.enabled,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{enabled:e.target.checked}))}),\"\\uD65C\\uC131\\uD654\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>setShowAddRule(false),children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleAddRule,children:\"\\uCD94\\uAC00\"})]})]})})]});};// 버킷 통계 컴포넌트\nexport const BucketStats=_ref7=>{let{bucketName,showToast}=_ref7;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[isRefreshing,setIsRefreshing]=useState(false);const fetchStats=useCallback(async function(){let isBackground=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{// 초기 로딩 시에만 로딩 상태 표시, 리프레시 시에는 기존 데이터 유지\nif(!isBackground&&!stats){setLoading(true);}else if(isBackground){setIsRefreshing(true);}const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/stats\"));setStats(res.data.stats);}catch(error){if(!isBackground){showToast('통계 조회 실패','error');}}finally{setLoading(false);setIsRefreshing(false);}},[bucketName,showToast,stats]);useEffect(()=>{fetchStats(false);// 30초마다 백그라운드 리프레시\nconst interval=setInterval(()=>fetchStats(true),30000);return()=>clearInterval(interval);},[bucketName]);// eslint-disable-line react-hooks/exhaustive-deps\nif(loading&&!stats){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD1B5\\uACC4 \\uB85C\\uB529 \\uC911...\"})]});}if(!stats)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel stats-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(BarChart3,{size:16}),\" \\uBC84\\uD0B7 \\uD1B5\\uACC4\"]}),isRefreshing&&/*#__PURE__*/_jsx(Loader2,{className:\"spin refresh-indicator\",size:14})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_objects}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uCD1D \\uAC1D\\uCCB4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_folders}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uD3F4\\uB354\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_size_human}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uCD1D \\uC6A9\\uB7C9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value \".concat(stats.versioning_enabled?'enabled':''),children:stats.versioning_enabled?'ON':'OFF'}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uBC84\\uC804 \\uAD00\\uB9AC\"})]})]}),Object.keys(stats.file_types).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uD30C\\uC77C \\uC720\\uD615 \\uBD84\\uD3EC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"file-types\",children:Object.entries(stats.file_types).map(_ref8=>{let[ext,count]=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"file-type-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"ext\",children:[\".\",ext]}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:count})]},ext);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uD06C\\uAE30 \\uBD84\\uD3EC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"size-distribution\",children:Object.entries(stats.size_distribution).map(_ref9=>{let[range,count]=_ref9;return/*#__PURE__*/_jsxs(\"div\",{className:\"size-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"range\",children:range}),/*#__PURE__*/_jsx(\"div\",{className:\"bar-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bar\",style:{width:\"\".concat(count/Math.max(stats.total_objects,1)*100,\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:count})]},range);})})]})]});};// 객체 잠금 관리 컴포넌트\nexport const ObjectLockManager=_ref0=>{let{bucketName,showToast}=_ref0;const[config,setConfig]=useState(null);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[mode,setMode]=useState('GOVERNANCE');const[duration,setDuration]=useState(30);const[durationUnit,setDurationUnit]=useState('DAYS');const fetchConfig=useCallback(async()=>{try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/object-lock\"));setConfig(res.data);if(res.data.mode)setMode(res.data.mode);if(res.data.duration)setDuration(res.data.duration);if(res.data.duration_unit)setDurationUnit(res.data.duration_unit);}catch(error){showToast('객체 잠금 설정 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchConfig();},[fetchConfig]);const handleSave=async()=>{try{setSaving(true);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/object-lock\"),{mode,duration,duration_unit:durationUnit});showToast('객체 잠금 설정이 저장되었습니다');fetchConfig();}catch(error){var _error$response,_error$response$data;showToast(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'설정 저장 실패','error');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"object-lock-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1D\\uCCB4 \\uC7A0\\uAE08 (Object Lock)\"})]}),!(config!==null&&config!==void 0&&config.enabled)?/*#__PURE__*/_jsxs(\"div\",{className:\"info-box warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uAC1D\\uCCB4 \\uC7A0\\uAE08 \\uBE44\\uD65C\\uC131\\uD654\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC774 \\uBC84\\uD0B7\\uC740 \\uAC1D\\uCCB4 \\uC7A0\\uAE08\\uC774 \\uD65C\\uC131\\uD654\\uB418\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4. \\uBC84\\uD0B7 \\uC0DD\\uC131 \\uC2DC\\uC5D0\\uB9CC \\uD65C\\uC131\\uD654\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-box success\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uAC1D\\uCCB4 \\uC7A0\\uAE08\\uC774 \\uD65C\\uC131\\uD654\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uAE30\\uBCF8 \\uBCF4\\uC874 \\uC815\\uCC45\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBCF4\\uC874 \\uBAA8\\uB4DC\"}),/*#__PURE__*/_jsxs(\"select\",{value:mode,onChange:e=>setMode(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"GOVERNANCE\",children:\"Governance (\\uAD00\\uB9AC\\uC790 \\uC0AD\\uC81C \\uAC00\\uB2A5)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"COMPLIANCE\",children:\"Compliance (\\uC0AD\\uC81C \\uBD88\\uAC00)\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"hint\",children:mode==='GOVERNANCE'?'특별 권한으로 삭제 가능':'보존 기간 동안 절대 삭제 불가'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBCF4\\uC874 \\uAE30\\uAC04\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:duration,onChange:e=>setDuration(parseInt(e.target.value)||1)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB2E8\\uC704\"}),/*#__PURE__*/_jsxs(\"select\",{value:durationUnit,onChange:e=>setDurationUnit(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"DAYS\",children:\"\\uC77C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"YEARS\",children:\"\\uB144\"})]})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSave,disabled:saving,children:[saving?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Save,{size:14}),\"\\uC800\\uC7A5\"]})]})]})]});};// IAM 사용자 관리 컴포넌트\nexport const IAMManager=_ref1=>{let{showToast}=_ref1;const[users,setUsers]=useState([]);const[policies,setPolicies]=useState([]);const[loading,setLoading]=useState(true);const[showAddUser,setShowAddUser]=useState(false);const[newUser,setNewUser]=useState({access_key:'',secret_key:'',policy:'readwrite'});const[showSecrets,setShowSecrets]=useState({});const fetchUsers=useCallback(async()=>{try{setLoading(true);const[usersRes,policiesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/iam/users\")),axios.get(\"\".concat(API_BASE,\"/storage/iam/policies\"))]);setUsers(usersRes.data.users||[]);setPolicies(policiesRes.data.policies||[]);}catch(error){// Fallback to soft users\ntry{const res=await axios.get(\"\".concat(API_BASE,\"/storage/users\"));setUsers(res.data.users||[]);setPolicies(['readonly','readwrite','writeonly','consoleAdmin']);}catch(e){showToast('사용자 목록 조회 실패','error');}}finally{setLoading(false);}},[showToast]);useEffect(()=>{fetchUsers();},[fetchUsers]);const handleCreateUser=async()=>{if(!newUser.access_key||!newUser.secret_key){showToast('Access Key와 Secret Key를 입력하세요','error');return;}if(newUser.secret_key.length<8){showToast('Secret Key는 8자 이상이어야 합니다','error');return;}try{await axios.post(\"\".concat(API_BASE,\"/storage/iam/users\"),newUser);showToast(\"\\uC0AC\\uC6A9\\uC790 '\".concat(newUser.access_key,\"'\\uAC00 \\uC0DD\\uC131\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowAddUser(false);setNewUser({access_key:'',secret_key:'',policy:'readwrite'});fetchUsers();}catch(error){var _error$response2,_error$response2$data;showToast(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'사용자 생성 실패','error');}};const handleDeleteUser=async accessKey=>{if(!window.confirm(\"'\".concat(accessKey,\"' \\uC0AC\\uC6A9\\uC790\\uB97C \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{await axios.delete(\"\".concat(API_BASE,\"/storage/iam/users/\").concat(accessKey));showToast(\"\\uC0AC\\uC6A9\\uC790 '\".concat(accessKey,\"'\\uAC00 \\uC0AD\\uC81C\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchUsers();}catch(error){var _error$response3,_error$response3$data;showToast(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'사용자 삭제 실패','error');}};const handleToggleStatus=async(accessKey,currentStatus)=>{const enabled=currentStatus!=='enabled';try{await axios.put(\"\".concat(API_BASE,\"/storage/iam/users/\").concat(accessKey,\"/status?enabled=\").concat(enabled));showToast(\"\\uC0AC\\uC6A9\\uC790\\uAC00 \".concat(enabled?'활성화':'비활성화',\"\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchUsers();}catch(error){showToast('상태 변경 실패','error');}};const handleChangePolicy=async(accessKey,policy)=>{try{await axios.put(\"\".concat(API_BASE,\"/storage/iam/users/\").concat(accessKey,\"/policy?policy=\").concat(policy));showToast(\"\\uC815\\uCC45\\uC774 '\".concat(policy,\"'\\uB85C \\uBCC0\\uACBD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchUsers();}catch(error){showToast('정책 변경 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"iam-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Users,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"IAM \\uC0AC\\uC6A9\\uC790 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uC0AC\\uC6A9\\uC790 \\uCD94\\uAC00\"]})]}),showAddUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC0C8 \\uC0AC\\uC6A9\\uC790 \\uC0DD\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Access Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC0AC\\uC6A9\\uC790 ID\",value:newUser.access_key,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{access_key:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Secret Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 (8\\uC790 \\uC774\\uC0C1)\",value:newUser.secret_key,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{secret_key:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC815\\uCC45\"}),/*#__PURE__*/_jsx(\"select\",{value:newUser.policy,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{policy:e.target.value})),children:policies.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p,children:p},p))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleCreateUser,children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uC0DD\\uC131\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowAddUser(false),children:\"\\uCDE8\\uC18C\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Users,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB4F1\\uB85D\\uB41C \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Access Key\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC815\\uCC45\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD0DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"access-key\",children:[/*#__PURE__*/_jsx(Key,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:user.accessKey||user.access_key}),(user.accessKey||user.access_key)==='admin'&&/*#__PURE__*/_jsx(\"span\",{className:\"badge admin\",children:\"\\uAD00\\uB9AC\\uC790\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"select\",{value:user.policyName||user.policy||'readwrite',onChange:e=>handleChangePolicy(user.accessKey||user.access_key,e.target.value),disabled:(user.accessKey||user.access_key)==='admin',children:policies.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p,children:p},p))})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"status-toggle \".concat((user.userStatus||user.status)==='enabled'?'enabled':'disabled'),onClick:()=>handleToggleStatus(user.accessKey||user.access_key,user.userStatus||user.status),disabled:(user.accessKey||user.access_key)==='admin',children:(user.userStatus||user.status)==='enabled'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToggleRight,{size:16}),\" \\uD65C\\uC131\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToggleLeft,{size:16}),\" \\uBE44\\uD65C\\uC131\"]})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleDeleteUser(user.accessKey||user.access_key),disabled:(user.accessKey||user.access_key)==='admin',title:\"\\uC0AD\\uC81C\",children:/*#__PURE__*/_jsx(UserMinus,{size:14})})})]},user.accessKey||user.access_key))})]})})]});};// 버킷별 사용자 접근 권한 관리 컴포넌트\nexport const BucketUserAccessManager=_ref10=>{let{bucketName,showToast}=_ref10;const[users,setUsers]=useState([]);const[allUsers,setAllUsers]=useState([]);const[loading,setLoading]=useState(true);const[showAddUser,setShowAddUser]=useState(false);const[newPermission,setNewPermission]=useState({user:'',access:'read',quota_gb:''});const[bucketQuota,setBucketQuota]=useState(null);const[quotaInput,setQuotaInput]=useState('');const fetchData=useCallback(async()=>{try{var _quotaRes$data;setLoading(true);const[usersRes,allUsersRes,quotaRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users\")),axios.get(\"\".concat(API_BASE,\"/storage/iam/users\")).catch(()=>({data:{users:[]}})),axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/quota\")).catch(()=>({data:null}))]);setUsers(usersRes.data.users||[]);setAllUsers(allUsersRes.data.users||[]);setBucketQuota(quotaRes.data);if((_quotaRes$data=quotaRes.data)!==null&&_quotaRes$data!==void 0&&_quotaRes$data.quota_bytes){setQuotaInput((quotaRes.data.quota_bytes/(1024*1024*1024)).toFixed(1));}}catch(error){showToast('버킷 사용자 정보 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchData();},[fetchData]);const handleAddUser=async()=>{if(!newPermission.user){showToast('사용자를 선택하세요','error');return;}try{await axios.post(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users\"),{user:newPermission.user,access:newPermission.access,quota_gb:newPermission.quota_gb?parseFloat(newPermission.quota_gb):null});showToast(\"'\".concat(newPermission.user,\"'\\uC5D0\\uAC8C \\uC811\\uADFC \\uAD8C\\uD55C\\uC774 \\uBD80\\uC5EC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowAddUser(false);setNewPermission({user:'',access:'read',quota_gb:''});fetchData();}catch(error){var _error$response4,_error$response4$data;showToast(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||'권한 부여 실패','error');}};const handleRemoveUser=async user=>{if(!window.confirm(\"'\".concat(user,\"'\\uC758 \\uC811\\uADFC \\uAD8C\\uD55C\\uC744 \\uC81C\\uAC70\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users/\").concat(user));showToast(\"'\".concat(user,\"'\\uC758 \\uC811\\uADFC \\uAD8C\\uD55C\\uC774 \\uC81C\\uAC70\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchData();}catch(error){var _error$response5,_error$response5$data;showToast(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||'권한 제거 실패','error');}};const handleUpdateAccess=async(user,access)=>{try{const existingUser=users.find(u=>u.user===user);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/users/\").concat(user),{user,access,quota_gb:existingUser!==null&&existingUser!==void 0&&existingUser.quota_bytes?existingUser.quota_bytes/(1024*1024*1024):null});showToast('접근 권한이 변경되었습니다');fetchData();}catch(error){showToast('권한 변경 실패','error');}};const handleSetQuota=async()=>{if(!quotaInput){showToast('할당량을 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/quota?quota_gb=\").concat(parseFloat(quotaInput)));showToast(\"\\uBC84\\uD0B7 \\uD560\\uB2F9\\uB7C9\\uC774 \".concat(quotaInput,\"GB\\uB85C \\uC124\\uC815\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchData();}catch(error){var _error$response6,_error$response6$data;showToast(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||'할당량 설정 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bucket-access-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(HardDrive,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uBC84\\uD0B7 \\uD560\\uB2F9\\uB7C9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quota-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quota-info\",children:(bucketQuota===null||bucketQuota===void 0?void 0:bucketQuota.quota_human)&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD604\\uC7AC: \",bucketQuota.used_human,\" / \",bucketQuota.quota_human]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quota-input-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0.1\",placeholder:\"\\uD560\\uB2F9\\uB7C9 (GB)\",value:quotaInput,onChange:e=>setQuotaInput(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"unit\",children:\"GB\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",onClick:handleSetQuota,children:\"\\uC124\\uC815\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(Users,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC0AC\\uC6A9\\uC790 \\uC811\\uADFC \\uAD8C\\uD55C\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uCD94\\uAC00\"]})]}),showAddUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC0AC\\uC6A9\\uC790 \\uAD8C\\uD55C \\uCD94\\uAC00\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC0AC\\uC6A9\\uC790\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPermission.user,onChange:e=>setNewPermission(_objectSpread(_objectSpread({},newPermission),{},{user:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC120\\uD0DD...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"admin\"}),allUsers.map(u=>/*#__PURE__*/_jsx(\"option\",{value:u.accessKey||u.access_key,children:u.accessKey||u.access_key},u.accessKey||u.access_key))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC811\\uADFC \\uAD8C\\uD55C\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPermission.access,onChange:e=>setNewPermission(_objectSpread(_objectSpread({},newPermission),{},{access:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"read\",children:\"\\uC77D\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"write\",children:\"\\uC77D\\uAE30/\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uAD00\\uB9AC\\uC790\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uAC1C\\uC778 \\uD560\\uB2F9\\uB7C9 (GB)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",min:\"0\",placeholder:\"\\uBB34\\uC81C\\uD55C\",value:newPermission.quota_gb,onChange:e=>setNewPermission(_objectSpread(_objectSpread({},newPermission),{},{quota_gb:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleAddUser,children:[/*#__PURE__*/_jsx(UserPlus,{size:14}),\"\\uCD94\\uAC00\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowAddUser(false),children:\"\\uCDE8\\uC18C\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-list\",children:users.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Users,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC774 \\uBC84\\uD0B7\\uC5D0 \\uC811\\uADFC \\uAD8C\\uD55C\\uC774 \\uBD80\\uC5EC\\uB41C \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0AC\\uC6A9\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC811\\uADFC \\uAD8C\\uD55C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uD560\\uB2F9\\uB7C9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"access-key\",children:[/*#__PURE__*/_jsx(Key,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:user.user})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:user.access,onChange:e=>handleUpdateAccess(user.user,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"read\",children:\"\\uC77D\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"write\",children:\"\\uC77D\\uAE30/\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uAD00\\uB9AC\\uC790\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:user.quota_human||'무제한'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleRemoveUser(user.user),title:\"\\uC81C\\uAC70\",children:/*#__PURE__*/_jsx(UserMinus,{size:14})})})]},user.user))})]})})]});};// Longhorn 볼륨/스냅샷 관리 컴포넌트\nexport const LonghornManager=_ref11=>{let{showToast}=_ref11;const[volumes,setVolumes]=useState([]);const[selectedVolume,setSelectedVolume]=useState(null);const[snapshots,setSnapshots]=useState([]);const[longhornStatus,setLonghornStatus]=useState(null);const[loading,setLoading]=useState(true);const[snapshotLoading,setSnapshotLoading]=useState(false);const[showCreateSnapshot,setShowCreateSnapshot]=useState(false);const[newSnapshotName,setNewSnapshotName]=useState('');const[expandSize,setExpandSize]=useState('');const[showExpand,setShowExpand]=useState(false);const[errorMessage,setErrorMessage]=useState(null);const fetchData=useCallback(async()=>{try{setLoading(true);setErrorMessage(null);const[statusRes,volumesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/longhorn/status\")),axios.get(\"\".concat(API_BASE,\"/longhorn/volumes\"))]);setLonghornStatus(statusRes.data);setVolumes(volumesRes.data.volumes||[]);}catch(error){var _error$response7,_error$response8,_error$message;// 404 또는 503 에러는 Longhorn 미설치로 처리\nif(((_error$response7=error.response)===null||_error$response7===void 0?void 0:_error$response7.status)===404||((_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.status)===503||error.code==='ERR_NETWORK'||(_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Network Error')){setLonghornStatus({installed:false});setErrorMessage(null);// 미설치는 에러가 아님\n}else{var _error$response9,_error$response9$data;setLonghornStatus({installed:false});setErrorMessage(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.detail)||'Longhorn 서비스에 연결할 수 없습니다.');}}finally{setLoading(false);}},[]);const fetchSnapshots=useCallback(async volumeName=>{if(!volumeName)return;try{setSnapshotLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(volumeName,\"/snapshots\"));setSnapshots(res.data.snapshots||[]);}catch(error){showToast('스냅샷 목록 조회 실패','error');}finally{setSnapshotLoading(false);}},[showToast]);useEffect(()=>{fetchData();},[fetchData]);useEffect(()=>{if(selectedVolume){fetchSnapshots(selectedVolume.name);}},[selectedVolume,fetchSnapshots]);const handleCreateSnapshot=async()=>{if(!newSnapshotName.trim()){showToast('스냅샷 이름을 입력하세요','error');return;}try{await axios.post(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(selectedVolume.name,\"/snapshots\"),{name:newSnapshotName});showToast(\"\\uC2A4\\uB0C5\\uC0F7 '\".concat(newSnapshotName,\"'\\uC774 \\uC0DD\\uC131\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowCreateSnapshot(false);setNewSnapshotName('');fetchSnapshots(selectedVolume.name);}catch(error){var _error$response0,_error$response0$data;showToast(((_error$response0=error.response)===null||_error$response0===void 0?void 0:(_error$response0$data=_error$response0.data)===null||_error$response0$data===void 0?void 0:_error$response0$data.detail)||'스냅샷 생성 실패','error');}};const handleDeleteSnapshot=async snapshotName=>{if(!window.confirm(\"'\".concat(snapshotName,\"' \\uC2A4\\uB0C5\\uC0F7\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{await axios.delete(\"\".concat(API_BASE,\"/longhorn/snapshots/\").concat(snapshotName));showToast(\"\\uC2A4\\uB0C5\\uC0F7 '\".concat(snapshotName,\"'\\uC774 \\uC0AD\\uC81C\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchSnapshots(selectedVolume.name);}catch(error){var _error$response1,_error$response1$data;showToast(((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.detail)||'스냅샷 삭제 실패','error');}};const handleRestoreSnapshot=async snapshotName=>{if(!window.confirm(\"'\".concat(snapshotName,\"' \\uC2A4\\uB0C5\\uC0F7\\uC5D0\\uC11C \\uC0C8 \\uBCFC\\uB968\\uC744 \\uC0DD\\uC131\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")))return;try{const res=await axios.post(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(selectedVolume.name,\"/restore\"),{snapshot_name:snapshotName});showToast(res.data.message);fetchData();}catch(error){var _error$response10,_error$response10$dat;showToast(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.detail)||'복원 실패','error');}};const handleExpandVolume=async()=>{const sizeGb=parseInt(expandSize);if(!sizeGb||sizeGb<=0){showToast('유효한 크기를 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/longhorn/volumes/\").concat(selectedVolume.name,\"/expand?size_gb=\").concat(sizeGb));showToast(\"\\uBCFC\\uB968\\uC774 \".concat(sizeGb,\"GB\\uB85C \\uD655\\uC7A5 \\uC694\\uCCAD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));setShowExpand(false);setExpandSize('');fetchData();}catch(error){var _error$response11,_error$response11$dat;showToast(((_error$response11=error.response)===null||_error$response11===void 0?void 0:(_error$response11$dat=_error$response11.data)===null||_error$response11$dat===void 0?void 0:_error$response11$dat.detail)||'볼륨 확장 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uB529 \\uC911...\"})]});}if(!(longhornStatus!==null&&longhornStatus!==void 0&&longhornStatus.installed)){return/*#__PURE__*/_jsxs(\"div\",{className:\"info-box warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Longhorn \\uBBF8\\uC124\\uCE58\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Longhorn\\uC774 \\uC124\\uCE58\\uB418\\uC5B4 \\uC788\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uB3D9\\uC801 \\uBCFC\\uB968 \\uAD00\\uB9AC\\uB97C \\uC0AC\\uC6A9\\uD558\\uB824\\uBA74 Longhorn\\uC744 \\uC124\\uCE58\\uD558\\uC138\\uC694.\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"longhorn-manager\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"longhorn-status-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-card\",children:[/*#__PURE__*/_jsx(Database,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uC804\\uCCB4 \\uC2A4\\uD1A0\\uB9AC\\uC9C0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:longhornStatus.total_storage})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-card\",children:[/*#__PURE__*/_jsx(HardDrive,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uC0AC\\uC6A9 \\uC911\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[longhornStatus.used_storage,\" (\",longhornStatus.usage_percent,\"%)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-card\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\uBCFC\\uB968 \\uC218\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[longhornStatus.volume_count,\"\\uAC1C\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"longhorn-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"volume-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Database,{size:18}),/*#__PURE__*/_jsx(\"h4\",{children:\"Longhorn \\uBCFC\\uB968\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:fetchData,title:\"\\uC0C8\\uB85C\\uACE0\\uCE68\",children:/*#__PURE__*/_jsx(RefreshCw,{size:14})})]}),volumes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Database,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"Longhorn \\uBCFC\\uB968\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"volumes\",children:volumes.map(vol=>/*#__PURE__*/_jsxs(\"div\",{className:\"volume-item \".concat((selectedVolume===null||selectedVolume===void 0?void 0:selectedVolume.name)===vol.name?'selected':''),onClick:()=>setSelectedVolume(vol),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"volume-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"volume-name\",children:vol.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"volume-meta\",children:[vol.size_human,\" | \",vol.state,vol.pvc_name&&\" | PVC: \".concat(vol.pvc_name)]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(vol.state==='attached'?'success':'warning'),children:vol.state})]},vol.name))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"snapshot-panel\",children:selectedVolume?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(Camera,{size:18}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uC2A4\\uB0C5\\uC0F7 - \",selectedVolume.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-secondary\",onClick:()=>setShowExpand(true),title:\"\\uBCFC\\uB968 \\uD655\\uC7A5\",children:[/*#__PURE__*/_jsx(Expand,{size:14}),\"\\uD655\\uC7A5\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowCreateSnapshot(true),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\"\\uC2A4\\uB0C5\\uC0F7 \\uC0DD\\uC131\"]})]})]}),showExpand&&/*#__PURE__*/_jsxs(\"div\",{className:\"expand-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uBCFC\\uB968 \\uD655\\uC7A5\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"hint\",children:[\"\\uD604\\uC7AC \\uD06C\\uAE30: \",selectedVolume.size_human]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\uC0C8 \\uD06C\\uAE30 (GB)\",value:expandSize,onChange:e=>setExpandSize(e.target.value),min:\"1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"unit\",children:\"GB\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleExpandVolume,children:\"\\uD655\\uC7A5\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowExpand(false),children:\"\\uCDE8\\uC18C\"})]})]}),showCreateSnapshot&&/*#__PURE__*/_jsxs(\"div\",{className:\"create-snapshot-form\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC0C8 \\uC2A4\\uB0C5\\uC0F7 \\uC0DD\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC2A4\\uB0C5\\uC0F7 \\uC774\\uB984\",value:newSnapshotName,onChange:e=>setNewSnapshotName(e.target.value)}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleCreateSnapshot,children:[/*#__PURE__*/_jsx(Camera,{size:14}),\"\\uC0DD\\uC131\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowCreateSnapshot(false),children:\"\\uCDE8\\uC18C\"})]})]}),snapshotLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC2A4\\uB0C5\\uC0F7 \\uB85C\\uB529 \\uC911...\"})]}):snapshots.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Camera,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC2A4\\uB0C5\\uC0F7\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hint\",children:\"\\uC2A4\\uB0C5\\uC0F7\\uC744 \\uC0DD\\uC131\\uD558\\uC5EC \\uBCFC\\uB968 \\uC0C1\\uD0DC\\uB97C \\uC800\\uC7A5\\uD558\\uC138\\uC694\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"snapshots-list\",children:snapshots.map(snap=>/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"snapshot-name\",children:snap.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"snapshot-meta\",children:[new Date(snap.created).toLocaleString(),\" | \",snap.size_human]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-secondary\",onClick:()=>handleRestoreSnapshot(snap.name),title:\"\\uC774 \\uC2A4\\uB0C5\\uC0F7\\uC5D0\\uC11C \\uC0C8 \\uBCFC\\uB968 \\uC0DD\\uC131\",children:[/*#__PURE__*/_jsx(RotateCcw,{size:14}),\"\\uBCF5\\uC6D0\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger\",onClick:()=>handleDeleteSnapshot(snap.name),title:\"\\uC2A4\\uB0C5\\uC0F7 \\uC0AD\\uC81C\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},snap.name))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Camera,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBCFC\\uB968\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hint\",children:\"\\uBCFC\\uB968\\uC744 \\uC120\\uD0DD\\uD558\\uBA74 \\uC2A4\\uB0C5\\uC0F7\\uC744 \\uAD00\\uB9AC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})]})})]})]});};// 고급 기능 탭 컴포넌트\nexport const StorageAdvancedTabs=_ref12=>{let{bucketName,selectedObject,showToast}=_ref12;const[activeTab,setActiveTab]=useState('stats');const tabs=[{id:'stats',label:'통계',icon:BarChart3},{id:'policy',label:'정책',icon:Shield},{id:'versioning',label:'버전',icon:GitBranch},{id:'lifecycle',label:'생명주기',icon:Clock},{id:'objectlock',label:'잠금',icon:Lock},{id:'access',label:'접근관리',icon:UserPlus},{id:'presigned',label:'URL 생성',icon:Link},{id:'iam',label:'IAM',icon:Users},{id:'longhorn',label:'스냅샷',icon:Camera}];if(!bucketName){return/*#__PURE__*/_jsx(\"div\",{className:\"advanced-panel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Settings,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC84\\uD0B7\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"storage-advanced\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"advanced-tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),children:[/*#__PURE__*/_jsx(tab.icon,{size:14}),tab.label]},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-content\",children:[activeTab==='stats'&&/*#__PURE__*/_jsx(BucketStats,{bucketName:bucketName,showToast:showToast}),activeTab==='policy'&&/*#__PURE__*/_jsx(BucketPolicyManager,{bucketName:bucketName,showToast:showToast}),activeTab==='versioning'&&/*#__PURE__*/_jsx(VersioningManager,{bucketName:bucketName,showToast:showToast}),activeTab==='lifecycle'&&/*#__PURE__*/_jsx(LifecycleManager,{bucketName:bucketName,showToast:showToast}),activeTab==='objectlock'&&/*#__PURE__*/_jsx(ObjectLockManager,{bucketName:bucketName,showToast:showToast}),activeTab==='access'&&/*#__PURE__*/_jsx(BucketUserAccessManager,{bucketName:bucketName,showToast:showToast}),activeTab==='presigned'&&/*#__PURE__*/_jsx(PresignedUrlGenerator,{bucketName:bucketName,objectName:selectedObject,showToast:showToast}),activeTab==='iam'&&/*#__PURE__*/_jsx(IAMManager,{showToast:showToast}),activeTab==='longhorn'&&/*#__PURE__*/_jsx(LonghornManager,{showToast:showToast})]})]});};export default StorageAdvancedTabs;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","Shield","GitBranch","Upload","Link","Tag","Clock","RefreshCw","Save","Trash2","Plus","X","Copy","CheckCircle","AlertCircle","ChevronDown","ChevronRight","Settings","BarChart3","FileText","Loader2","Lock","Users","UserPlus","UserMinus","Key","Eye","EyeOff","ToggleLeft","ToggleRight","HardDrive","Camera","RotateCcw","Database","Expand","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE","BucketPolicyManager","_ref","bucketName","showToast","policy","setPolicy","templates","setTemplates","loading","setLoading","editing","setEditing","policyJson","setPolicyJson","dataLoaded","setDataLoaded","fetchPolicy","isBackground","arguments","length","undefined","policyRes","templatesRes","Promise","all","get","concat","data","JSON","stringify","error","handleApplyTemplate","template","delete","policyWithBucket","parse","replace","put","name","handleSavePolicy","parsedPolicy","SyntaxError","className","children","size","map","onClick","description","value","onChange","e","target","rows","VersioningManager","_ref2","versioning","setVersioning","updating","setUpdating","fetchVersioning","res","handleToggleVersioning","newStatus","status","enabled","isEnabled","disabled","PresignedUrlGenerator","_ref3","objectName","url","setUrl","method","setMethod","expiresHours","setExpiresHours","copied","setCopied","handleGenerate","post","object_name","expires_hours","handleCopy","navigator","clipboard","writeText","setTimeout","type","Number","expires_in","ObjectTagsManager","_ref4","onClose","tags","setTags","newKey","setNewKey","newValue","setNewValue","saving","setSaving","fetchTags","encodeURIComponent","handleAddTag","trim","_objectSpread","handleRemoveTag","key","newTags","handleSave","Object","keys","entries","_ref5","placeholder","LifecycleManager","_ref6","rules","setRules","showAddRule","setShowAddRule","newRule","setNewRule","rule_id","prefix","expiration_days","fetchLifecycle","rulesRes","rule","Date","now","handleAddRule","handleDeleteRule","ruleId","updatedRules","filter","r","noncurrent_expiration_days","stopPropagation","min","checked","BucketStats","_ref7","stats","setStats","isRefreshing","setIsRefreshing","fetchStats","interval","setInterval","clearInterval","total_objects","total_folders","total_size_human","versioning_enabled","file_types","_ref8","ext","count","size_distribution","_ref9","range","style","width","Math","max","ObjectLockManager","_ref0","config","setConfig","mode","setMode","duration","setDuration","durationUnit","setDurationUnit","fetchConfig","duration_unit","_error$response","_error$response$data","response","detail","parseInt","IAMManager","_ref1","users","setUsers","policies","setPolicies","showAddUser","setShowAddUser","newUser","setNewUser","access_key","secret_key","showSecrets","setShowSecrets","fetchUsers","usersRes","policiesRes","handleCreateUser","_error$response2","_error$response2$data","handleDeleteUser","accessKey","window","confirm","_error$response3","_error$response3$data","handleToggleStatus","currentStatus","handleChangePolicy","p","user","policyName","userStatus","title","BucketUserAccessManager","_ref10","allUsers","setAllUsers","newPermission","setNewPermission","access","quota_gb","bucketQuota","setBucketQuota","quotaInput","setQuotaInput","fetchData","_quotaRes$data","allUsersRes","quotaRes","catch","quota_bytes","toFixed","handleAddUser","parseFloat","_error$response4","_error$response4$data","handleRemoveUser","_error$response5","_error$response5$data","handleUpdateAccess","existingUser","find","u","handleSetQuota","_error$response6","_error$response6$data","quota_human","used_human","step","marginTop","LonghornManager","_ref11","volumes","setVolumes","selectedVolume","setSelectedVolume","snapshots","setSnapshots","longhornStatus","setLonghornStatus","snapshotLoading","setSnapshotLoading","showCreateSnapshot","setShowCreateSnapshot","newSnapshotName","setNewSnapshotName","expandSize","setExpandSize","showExpand","setShowExpand","errorMessage","setErrorMessage","statusRes","volumesRes","_error$response7","_error$response8","_error$message","code","message","includes","installed","_error$response9","_error$response9$data","fetchSnapshots","volumeName","handleCreateSnapshot","_error$response0","_error$response0$data","handleDeleteSnapshot","snapshotName","_error$response1","_error$response1$data","handleRestoreSnapshot","snapshot_name","_error$response10","_error$response10$dat","handleExpandVolume","sizeGb","_error$response11","_error$response11$dat","total_storage","used_storage","usage_percent","volume_count","vol","size_human","state","pvc_name","snap","created","toLocaleString","StorageAdvancedTabs","_ref12","selectedObject","activeTab","setActiveTab","tabs","id","label","icon","tab"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/src/StorageAdvanced.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport {\n  Shield,\n  GitBranch,\n  Upload,\n  Link,\n  Tag,\n  Clock,\n  RefreshCw,\n  Save,\n  Trash2,\n  Plus,\n  X,\n  Copy,\n  CheckCircle,\n  AlertCircle,\n  ChevronDown,\n  ChevronRight,\n  Settings,\n  BarChart3,\n  FileText,\n  Loader2,\n  Lock,\n  Users,\n  UserPlus,\n  UserMinus,\n  Key,\n  Eye,\n  EyeOff,\n  ToggleLeft,\n  ToggleRight,\n  HardDrive,\n  Camera,\n  RotateCcw,\n  Database,\n  Expand\n} from 'lucide-react';\n\nconst API_BASE = '/api';\n\n// 버킷 정책 관리 컴포넌트\nexport const BucketPolicyManager = ({ bucketName, showToast }) => {\n  const [policy, setPolicy] = useState(null);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [policyJson, setPolicyJson] = useState('');\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  const fetchPolicy = useCallback(async (isBackground = false) => {\n    try {\n      if (!isBackground && !dataLoaded) {\n        setLoading(true);\n      }\n      const [policyRes, templatesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/policy`),\n        axios.get(`${API_BASE}/storage/policy-templates`)\n      ]);\n      setPolicy(policyRes.data.policy);\n      setPolicyJson(policyRes.data.policy ? JSON.stringify(policyRes.data.policy, null, 2) : '');\n      setTemplates(templatesRes.data.templates || []);\n      setDataLoaded(true);\n    } catch (error) {\n      if (!isBackground) {\n        showToast('정책 조회 실패', 'error');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast, dataLoaded]);\n\n  useEffect(() => {\n    fetchPolicy(false);\n  }, [bucketName]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleApplyTemplate = async (template) => {\n    if (!template.policy) {\n      // private - 정책 삭제\n      try {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/policy`);\n        showToast('버킷이 비공개로 설정되었습니다');\n        fetchPolicy();\n      } catch (error) {\n        showToast('정책 삭제 실패', 'error');\n      }\n      return;\n    }\n\n    const policyWithBucket = JSON.parse(\n      JSON.stringify(template.policy).replace(/BUCKET_NAME/g, bucketName)\n    );\n\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/policy`, {\n        policy: policyWithBucket\n      });\n      showToast(`'${template.name}' 정책이 적용되었습니다`);\n      fetchPolicy();\n    } catch (error) {\n      showToast('정책 적용 실패', 'error');\n    }\n  };\n\n  const handleSavePolicy = async () => {\n    try {\n      const parsedPolicy = JSON.parse(policyJson);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/policy`, {\n        policy: parsedPolicy\n      });\n      showToast('정책이 저장되었습니다');\n      setEditing(false);\n      fetchPolicy();\n    } catch (error) {\n      if (error instanceof SyntaxError) {\n        showToast('올바른 JSON 형식이 아닙니다', 'error');\n      } else {\n        showToast('정책 저장 실패', 'error');\n      }\n    }\n  };\n\n  if (loading && !dataLoaded) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>정책 정보 로딩 중...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel policy-panel\">\n      <div className=\"panel-section\">\n        <h4><Shield size={16} /> 정책 템플릿</h4>\n        <div className=\"template-grid\">\n          {templates.map((template) => (\n            <div\n              key={template.name}\n              className={`template-card ${!template.policy ? 'private' : ''}`}\n              onClick={() => handleApplyTemplate(template)}\n            >\n              <div className=\"template-name\">{template.name}</div>\n              <div className=\"template-desc\">{template.description}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"panel-section\">\n        <div className=\"section-header\">\n          <h4><FileText size={16} /> 현재 정책</h4>\n          <button\n            className={`btn btn-sm ${editing ? 'btn-primary' : ''}`}\n            onClick={() => setEditing(!editing)}\n          >\n            {editing ? '취소' : '편집'}\n          </button>\n        </div>\n\n        {policy ? (\n          editing ? (\n            <div className=\"policy-editor\">\n              <textarea\n                value={policyJson}\n                onChange={(e) => setPolicyJson(e.target.value)}\n                className=\"code-editor\"\n                rows={15}\n              />\n              <div className=\"editor-actions\">\n                <button className=\"btn btn-primary\" onClick={handleSavePolicy}>\n                  <Save size={14} /> 저장\n                </button>\n              </div>\n            </div>\n          ) : (\n            <pre className=\"policy-view\">\n              {JSON.stringify(policy, null, 2)}\n            </pre>\n          )\n        ) : (\n          <div className=\"empty-state\">\n            <Shield size={32} />\n            <p>정책이 설정되지 않음 (비공개)</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 버전 관리 컴포넌트\nexport const VersioningManager = ({ bucketName, showToast }) => {\n  const [versioning, setVersioning] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n\n  const fetchVersioning = useCallback(async (isBackground = false) => {\n    try {\n      if (!isBackground && !versioning) {\n        setLoading(true);\n      }\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/versioning`);\n      setVersioning(res.data.versioning);\n    } catch (error) {\n      if (!isBackground) {\n        showToast('버전 관리 상태 조회 실패', 'error');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast, versioning]);\n\n  useEffect(() => {\n    fetchVersioning(false);\n  }, [bucketName]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleToggleVersioning = async () => {\n    try {\n      setUpdating(true);\n      const newStatus = versioning?.status !== 'Enabled';\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/versioning`, {\n        enabled: newStatus\n      });\n      showToast(`버전 관리가 ${newStatus ? '활성화' : '비활성화'}되었습니다`);\n      fetchVersioning();\n    } catch (error) {\n      showToast('버전 관리 설정 실패', 'error');\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  if (loading && !versioning) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>버전 관리 정보 로딩 중...</p>\n      </div>\n    );\n  }\n\n  const isEnabled = versioning?.status === 'Enabled';\n\n  return (\n    <div className=\"advanced-panel versioning-panel\">\n      <div className=\"versioning-status\">\n        <div className=\"status-info\">\n          <GitBranch size={32} className={isEnabled ? 'enabled' : 'disabled'} />\n          <div>\n            <h4>객체 버전 관리</h4>\n            <p className={`status-text ${isEnabled ? 'enabled' : 'disabled'}`}>\n              {isEnabled ? '활성화됨' : '비활성화됨'}\n            </p>\n          </div>\n        </div>\n        <button\n          className={`btn ${isEnabled ? 'btn-danger' : 'btn-primary'}`}\n          onClick={handleToggleVersioning}\n          disabled={updating}\n        >\n          {updating ? <Loader2 className=\"spin\" size={14} /> : null}\n          {isEnabled ? '비활성화' : '활성화'}\n        </button>\n      </div>\n\n      <div className=\"versioning-info\">\n        <div className=\"info-card\">\n          <CheckCircle size={20} className=\"success\" />\n          <div>\n            <strong>버전 관리 활성화 시</strong>\n            <ul>\n              <li>객체 수정/삭제 시 이전 버전 보존</li>\n              <li>실수로 삭제한 파일 복구 가능</li>\n              <li>변경 이력 추적 가능</li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"info-card warning\">\n          <AlertCircle size={20} className=\"warning\" />\n          <div>\n            <strong>주의사항</strong>\n            <ul>\n              <li>스토리지 사용량 증가</li>\n              <li>한번 활성화하면 완전 비활성화 불가 (Suspended만 가능)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Presigned URL 생성 컴포넌트\nexport const PresignedUrlGenerator = ({ bucketName, objectName, showToast }) => {\n  const [url, setUrl] = useState(null);\n  const [method, setMethod] = useState('GET');\n  const [expiresHours, setExpiresHours] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  const handleGenerate = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.post(`${API_BASE}/storage/buckets/${bucketName}/presigned-url`, {\n        object_name: objectName,\n        expires_hours: expiresHours,\n        method: method\n      });\n      setUrl(res.data);\n      showToast('Presigned URL이 생성되었습니다');\n    } catch (error) {\n      showToast('URL 생성 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCopy = () => {\n    if (url) {\n      navigator.clipboard.writeText(url.url);\n      setCopied(true);\n      showToast('URL이 클립보드에 복사되었습니다');\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  return (\n    <div className=\"advanced-panel presigned-panel\">\n      <h4><Link size={16} /> Presigned URL 생성</h4>\n\n      <div className=\"presigned-form\">\n        <div className=\"form-row\">\n          <label>대상 객체</label>\n          <input type=\"text\" value={objectName || '파일을 선택하세요'} disabled />\n        </div>\n\n        <div className=\"form-row\">\n          <label>작업 유형</label>\n          <select value={method} onChange={(e) => setMethod(e.target.value)}>\n            <option value=\"GET\">다운로드 (GET)</option>\n            <option value=\"PUT\">업로드 (PUT)</option>\n          </select>\n        </div>\n\n        <div className=\"form-row\">\n          <label>유효 시간</label>\n          <select value={expiresHours} onChange={(e) => setExpiresHours(Number(e.target.value))}>\n            <option value={1}>1시간</option>\n            <option value={6}>6시간</option>\n            <option value={12}>12시간</option>\n            <option value={24}>24시간</option>\n            <option value={48}>48시간</option>\n            <option value={168}>7일</option>\n          </select>\n        </div>\n\n        <button\n          className=\"btn btn-primary\"\n          onClick={handleGenerate}\n          disabled={!objectName || loading}\n        >\n          {loading ? <Loader2 className=\"spin\" size={14} /> : <Link size={14} />}\n          URL 생성\n        </button>\n      </div>\n\n      {url && (\n        <div className=\"presigned-result\">\n          <div className=\"url-display\">\n            <code>{url.url}</code>\n            <button className=\"btn-icon\" onClick={handleCopy}>\n              {copied ? <CheckCircle size={16} className=\"success\" /> : <Copy size={16} />}\n            </button>\n          </div>\n          <div className=\"url-info\">\n            <span>유효기간: {url.expires_in}</span>\n            <span>방식: {url.method}</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 객체 태그 관리 컴포넌트\nexport const ObjectTagsManager = ({ bucketName, objectName, showToast, onClose }) => {\n  const [tags, setTags] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [newKey, setNewKey] = useState('');\n  const [newValue, setNewValue] = useState('');\n  const [saving, setSaving] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    if (!objectName) return;\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`);\n      setTags(res.data.tags || {});\n    } catch (error) {\n      // 태그가 없는 경우\n      setTags({});\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, objectName]);\n\n  useEffect(() => {\n    fetchTags();\n  }, [fetchTags]);\n\n  const handleAddTag = () => {\n    if (newKey.trim() && newValue.trim()) {\n      setTags({ ...tags, [newKey.trim()]: newValue.trim() });\n      setNewKey('');\n      setNewValue('');\n    }\n  };\n\n  const handleRemoveTag = (key) => {\n    const newTags = { ...tags };\n    delete newTags[key];\n    setTags(newTags);\n  };\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      if (Object.keys(tags).length === 0) {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`);\n      } else {\n        await axios.put(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`, {\n          tags: tags\n        });\n      }\n      showToast('태그가 저장되었습니다');\n      if (onClose) onClose();\n    } catch (error) {\n      showToast('태그 저장 실패', 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel tags-panel\">\n      <div className=\"tags-header\">\n        <h4><Tag size={16} /> 객체 태그</h4>\n        <span className=\"object-name\">{objectName}</span>\n      </div>\n\n      <div className=\"tags-list\">\n        {Object.entries(tags).map(([key, value]) => (\n          <div key={key} className=\"tag-item\">\n            <span className=\"tag-key\">{key}</span>\n            <span className=\"tag-value\">{value}</span>\n            <button className=\"btn-icon danger\" onClick={() => handleRemoveTag(key)}>\n              <X size={14} />\n            </button>\n          </div>\n        ))}\n\n        {Object.keys(tags).length === 0 && (\n          <div className=\"empty-state small\">\n            <Tag size={24} />\n            <p>태그가 없습니다</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"add-tag-form\">\n        <input\n          type=\"text\"\n          placeholder=\"키\"\n          value={newKey}\n          onChange={(e) => setNewKey(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"값\"\n          value={newValue}\n          onChange={(e) => setNewValue(e.target.value)}\n        />\n        <button className=\"btn btn-secondary\" onClick={handleAddTag}>\n          <Plus size={14} />\n        </button>\n      </div>\n\n      <div className=\"panel-actions\">\n        <button className=\"btn btn-primary\" onClick={handleSave} disabled={saving}>\n          {saving ? <Loader2 className=\"spin\" size={14} /> : <Save size={14} />}\n          저장\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// 생명주기 규칙 관리 컴포넌트\nexport const LifecycleManager = ({ bucketName, showToast }) => {\n  const [rules, setRules] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddRule, setShowAddRule] = useState(false);\n  const [newRule, setNewRule] = useState({\n    rule_id: '',\n    prefix: '',\n    enabled: true,\n    expiration_days: 30\n  });\n\n  const fetchLifecycle = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [rulesRes, templatesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`),\n        axios.get(`${API_BASE}/storage/lifecycle-templates`)\n      ]);\n      setRules(rulesRes.data.rules || []);\n      setTemplates(templatesRes.data.templates || []);\n    } catch (error) {\n      showToast('생명주기 규칙 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchLifecycle();\n  }, [fetchLifecycle]);\n\n  const handleApplyTemplate = async (template) => {\n    const rule = { ...template.rule, rule_id: `${template.name}-${Date.now()}` };\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n        rules: [...rules, rule]\n      });\n      showToast(`'${template.description}' 규칙이 추가되었습니다`);\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 추가 실패', 'error');\n    }\n  };\n\n  const handleAddRule = async () => {\n    if (!newRule.rule_id.trim()) {\n      showToast('규칙 ID를 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n        rules: [...rules, newRule]\n      });\n      showToast('규칙이 추가되었습니다');\n      setShowAddRule(false);\n      setNewRule({ rule_id: '', prefix: '', enabled: true, expiration_days: 30 });\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 추가 실패', 'error');\n    }\n  };\n\n  const handleDeleteRule = async (ruleId) => {\n    try {\n      const updatedRules = rules.filter(r => r.rule_id !== ruleId);\n      if (updatedRules.length === 0) {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`);\n      } else {\n        await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n          rules: updatedRules\n        });\n      }\n      showToast('규칙이 삭제되었습니다');\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 삭제 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>생명주기 규칙 로딩 중...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel lifecycle-panel\">\n      <div className=\"panel-section\">\n        <h4><Clock size={16} /> 규칙 템플릿</h4>\n        <div className=\"template-grid compact\">\n          {templates.map((template) => (\n            <div\n              key={template.name}\n              className=\"template-card small\"\n              onClick={() => handleApplyTemplate(template)}\n            >\n              <div className=\"template-name\">{template.description}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"panel-section\">\n        <div className=\"section-header\">\n          <h4>현재 규칙 ({rules.length})</h4>\n          <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddRule(true)}>\n            <Plus size={14} /> 추가\n          </button>\n        </div>\n\n        {rules.length === 0 ? (\n          <div className=\"empty-state\">\n            <Clock size={32} />\n            <p>생명주기 규칙이 없습니다</p>\n          </div>\n        ) : (\n          <div className=\"rules-list\">\n            {rules.map((rule) => (\n              <div key={rule.rule_id} className={`rule-item ${rule.enabled ? '' : 'disabled'}`}>\n                <div className=\"rule-info\">\n                  <div className=\"rule-id\">{rule.rule_id}</div>\n                  <div className=\"rule-details\">\n                    {rule.prefix && <span>접두사: {rule.prefix}</span>}\n                    {rule.expiration_days && <span>{rule.expiration_days}일 후 삭제</span>}\n                    {rule.noncurrent_expiration_days && <span>이전 버전 {rule.noncurrent_expiration_days}일 후 삭제</span>}\n                  </div>\n                </div>\n                <div className=\"rule-actions\">\n                  <span className={`status-badge ${rule.enabled ? 'running' : 'stopped'}`}>\n                    {rule.enabled ? '활성' : '비활성'}\n                  </span>\n                  <button className=\"btn-icon danger\" onClick={() => handleDeleteRule(rule.rule_id)}>\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {showAddRule && (\n        <div className=\"modal-overlay\" onClick={() => setShowAddRule(false)}>\n          <div className=\"modal-content small\" onClick={e => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>생명주기 규칙 추가</h3>\n              <button className=\"btn-icon\" onClick={() => setShowAddRule(false)}>\n                <X size={20} />\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-group\">\n                <label>규칙 ID</label>\n                <input\n                  type=\"text\"\n                  value={newRule.rule_id}\n                  onChange={(e) => setNewRule({ ...newRule, rule_id: e.target.value })}\n                  placeholder=\"my-rule-1\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>접두사 (선택)</label>\n                <input\n                  type=\"text\"\n                  value={newRule.prefix}\n                  onChange={(e) => setNewRule({ ...newRule, prefix: e.target.value })}\n                  placeholder=\"logs/\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>만료 일수</label>\n                <input\n                  type=\"number\"\n                  value={newRule.expiration_days}\n                  onChange={(e) => setNewRule({ ...newRule, expiration_days: Number(e.target.value) })}\n                  min={1}\n                />\n              </div>\n              <div className=\"form-group checkbox\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={newRule.enabled}\n                    onChange={(e) => setNewRule({ ...newRule, enabled: e.target.checked })}\n                  />\n                  활성화\n                </label>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"btn\" onClick={() => setShowAddRule(false)}>취소</button>\n              <button className=\"btn btn-primary\" onClick={handleAddRule}>추가</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 버킷 통계 컴포넌트\nexport const BucketStats = ({ bucketName, showToast }) => {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const fetchStats = useCallback(async (isBackground = false) => {\n    try {\n      // 초기 로딩 시에만 로딩 상태 표시, 리프레시 시에는 기존 데이터 유지\n      if (!isBackground && !stats) {\n        setLoading(true);\n      } else if (isBackground) {\n        setIsRefreshing(true);\n      }\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/stats`);\n      setStats(res.data.stats);\n    } catch (error) {\n      if (!isBackground) {\n        showToast('통계 조회 실패', 'error');\n      }\n    } finally {\n      setLoading(false);\n      setIsRefreshing(false);\n    }\n  }, [bucketName, showToast, stats]);\n\n  useEffect(() => {\n    fetchStats(false);\n    // 30초마다 백그라운드 리프레시\n    const interval = setInterval(() => fetchStats(true), 30000);\n    return () => clearInterval(interval);\n  }, [bucketName]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (loading && !stats) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>통계 로딩 중...</p>\n      </div>\n    );\n  }\n\n  if (!stats) return null;\n\n  return (\n    <div className=\"advanced-panel stats-panel\">\n      <div className=\"stats-header\">\n        <h4><BarChart3 size={16} /> 버킷 통계</h4>\n        {isRefreshing && <Loader2 className=\"spin refresh-indicator\" size={14} />}\n      </div>\n\n      <div className=\"stats-grid\">\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_objects}</div>\n          <div className=\"stat-label\">총 객체</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_folders}</div>\n          <div className=\"stat-label\">폴더</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_size_human}</div>\n          <div className=\"stat-label\">총 용량</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className={`stat-value ${stats.versioning_enabled ? 'enabled' : ''}`}>\n            {stats.versioning_enabled ? 'ON' : 'OFF'}\n          </div>\n          <div className=\"stat-label\">버전 관리</div>\n        </div>\n      </div>\n\n      {Object.keys(stats.file_types).length > 0 && (\n        <div className=\"stats-section\">\n          <h5>파일 유형 분포</h5>\n          <div className=\"file-types\">\n            {Object.entries(stats.file_types).map(([ext, count]) => (\n              <div key={ext} className=\"file-type-item\">\n                <span className=\"ext\">.{ext}</span>\n                <span className=\"count\">{count}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"stats-section\">\n        <h5>크기 분포</h5>\n        <div className=\"size-distribution\">\n          {Object.entries(stats.size_distribution).map(([range, count]) => (\n            <div key={range} className=\"size-item\">\n              <span className=\"range\">{range}</span>\n              <div className=\"bar-container\">\n                <div\n                  className=\"bar\"\n                  style={{\n                    width: `${(count / Math.max(stats.total_objects, 1)) * 100}%`\n                  }}\n                />\n              </div>\n              <span className=\"count\">{count}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 객체 잠금 관리 컴포넌트\nexport const ObjectLockManager = ({ bucketName, showToast }) => {\n  const [config, setConfig] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [mode, setMode] = useState('GOVERNANCE');\n  const [duration, setDuration] = useState(30);\n  const [durationUnit, setDurationUnit] = useState('DAYS');\n\n  const fetchConfig = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/object-lock`);\n      setConfig(res.data);\n      if (res.data.mode) setMode(res.data.mode);\n      if (res.data.duration) setDuration(res.data.duration);\n      if (res.data.duration_unit) setDurationUnit(res.data.duration_unit);\n    } catch (error) {\n      showToast('객체 잠금 설정 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchConfig();\n  }, [fetchConfig]);\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/object-lock`, {\n        mode,\n        duration,\n        duration_unit: durationUnit\n      });\n      showToast('객체 잠금 설정이 저장되었습니다');\n      fetchConfig();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '설정 저장 실패', 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"object-lock-manager\">\n      <div className=\"section-header\">\n        <Lock size={18} />\n        <h4>객체 잠금 (Object Lock)</h4>\n      </div>\n\n      {!config?.enabled ? (\n        <div className=\"info-box warning\">\n          <AlertCircle size={16} />\n          <div>\n            <strong>객체 잠금 비활성화</strong>\n            <p>이 버킷은 객체 잠금이 활성화되지 않았습니다. 버킷 생성 시에만 활성화할 수 있습니다.</p>\n          </div>\n        </div>\n      ) : (\n        <>\n          <div className=\"info-box success\">\n            <CheckCircle size={16} />\n            <span>객체 잠금이 활성화되어 있습니다</span>\n          </div>\n\n          <div className=\"form-section\">\n            <h5>기본 보존 정책</h5>\n\n            <div className=\"form-group\">\n              <label>보존 모드</label>\n              <select value={mode} onChange={(e) => setMode(e.target.value)}>\n                <option value=\"GOVERNANCE\">Governance (관리자 삭제 가능)</option>\n                <option value=\"COMPLIANCE\">Compliance (삭제 불가)</option>\n              </select>\n              <span className=\"hint\">\n                {mode === 'GOVERNANCE'\n                  ? '특별 권한으로 삭제 가능'\n                  : '보존 기간 동안 절대 삭제 불가'}\n              </span>\n            </div>\n\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>보존 기간</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={duration}\n                  onChange={(e) => setDuration(parseInt(e.target.value) || 1)}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>단위</label>\n                <select value={durationUnit} onChange={(e) => setDurationUnit(e.target.value)}>\n                  <option value=\"DAYS\">일</option>\n                  <option value=\"YEARS\">년</option>\n                </select>\n              </div>\n            </div>\n\n            <button className=\"btn btn-primary\" onClick={handleSave} disabled={saving}>\n              {saving ? <Loader2 className=\"spin\" size={14} /> : <Save size={14} />}\n              저장\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\n// IAM 사용자 관리 컴포넌트\nexport const IAMManager = ({ showToast }) => {\n  const [users, setUsers] = useState([]);\n  const [policies, setPolicies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [newUser, setNewUser] = useState({ access_key: '', secret_key: '', policy: 'readwrite' });\n  const [showSecrets, setShowSecrets] = useState({});\n\n  const fetchUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [usersRes, policiesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/iam/users`),\n        axios.get(`${API_BASE}/storage/iam/policies`)\n      ]);\n      setUsers(usersRes.data.users || []);\n      setPolicies(policiesRes.data.policies || []);\n    } catch (error) {\n      // Fallback to soft users\n      try {\n        const res = await axios.get(`${API_BASE}/storage/users`);\n        setUsers(res.data.users || []);\n        setPolicies(['readonly', 'readwrite', 'writeonly', 'consoleAdmin']);\n      } catch (e) {\n        showToast('사용자 목록 조회 실패', 'error');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [showToast]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers]);\n\n  const handleCreateUser = async () => {\n    if (!newUser.access_key || !newUser.secret_key) {\n      showToast('Access Key와 Secret Key를 입력하세요', 'error');\n      return;\n    }\n    if (newUser.secret_key.length < 8) {\n      showToast('Secret Key는 8자 이상이어야 합니다', 'error');\n      return;\n    }\n\n    try {\n      await axios.post(`${API_BASE}/storage/iam/users`, newUser);\n      showToast(`사용자 '${newUser.access_key}'가 생성되었습니다`);\n      setShowAddUser(false);\n      setNewUser({ access_key: '', secret_key: '', policy: 'readwrite' });\n      fetchUsers();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '사용자 생성 실패', 'error');\n    }\n  };\n\n  const handleDeleteUser = async (accessKey) => {\n    if (!window.confirm(`'${accessKey}' 사용자를 삭제하시겠습니까?`)) return;\n\n    try {\n      await axios.delete(`${API_BASE}/storage/iam/users/${accessKey}`);\n      showToast(`사용자 '${accessKey}'가 삭제되었습니다`);\n      fetchUsers();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '사용자 삭제 실패', 'error');\n    }\n  };\n\n  const handleToggleStatus = async (accessKey, currentStatus) => {\n    const enabled = currentStatus !== 'enabled';\n    try {\n      await axios.put(`${API_BASE}/storage/iam/users/${accessKey}/status?enabled=${enabled}`);\n      showToast(`사용자가 ${enabled ? '활성화' : '비활성화'}되었습니다`);\n      fetchUsers();\n    } catch (error) {\n      showToast('상태 변경 실패', 'error');\n    }\n  };\n\n  const handleChangePolicy = async (accessKey, policy) => {\n    try {\n      await axios.put(`${API_BASE}/storage/iam/users/${accessKey}/policy?policy=${policy}`);\n      showToast(`정책이 '${policy}'로 변경되었습니다`);\n      fetchUsers();\n    } catch (error) {\n      showToast('정책 변경 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"iam-manager\">\n      <div className=\"section-header\">\n        <Users size={18} />\n        <h4>IAM 사용자 관리</h4>\n        <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddUser(true)}>\n          <UserPlus size={14} />\n          사용자 추가\n        </button>\n      </div>\n\n      {showAddUser && (\n        <div className=\"add-user-form\">\n          <h5>새 사용자 생성</h5>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Access Key</label>\n              <input\n                type=\"text\"\n                placeholder=\"사용자 ID\"\n                value={newUser.access_key}\n                onChange={(e) => setNewUser({ ...newUser, access_key: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Secret Key</label>\n              <input\n                type=\"password\"\n                placeholder=\"비밀번호 (8자 이상)\"\n                value={newUser.secret_key}\n                onChange={(e) => setNewUser({ ...newUser, secret_key: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>정책</label>\n              <select\n                value={newUser.policy}\n                onChange={(e) => setNewUser({ ...newUser, policy: e.target.value })}\n              >\n                {policies.map((p) => (\n                  <option key={p} value={p}>{p}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"form-actions\">\n            <button className=\"btn btn-primary\" onClick={handleCreateUser}>\n              <UserPlus size={14} />\n              생성\n            </button>\n            <button className=\"btn btn-secondary\" onClick={() => setShowAddUser(false)}>\n              취소\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"users-list\">\n        {users.length === 0 ? (\n          <div className=\"empty-state\">\n            <Users size={32} />\n            <p>등록된 사용자가 없습니다</p>\n          </div>\n        ) : (\n          <table className=\"users-table\">\n            <thead>\n              <tr>\n                <th>Access Key</th>\n                <th>정책</th>\n                <th>상태</th>\n                <th>작업</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => (\n                <tr key={user.accessKey || user.access_key}>\n                  <td className=\"access-key\">\n                    <Key size={14} />\n                    <span>{user.accessKey || user.access_key}</span>\n                    {(user.accessKey || user.access_key) === 'admin' && (\n                      <span className=\"badge admin\">관리자</span>\n                    )}\n                  </td>\n                  <td>\n                    <select\n                      value={user.policyName || user.policy || 'readwrite'}\n                      onChange={(e) => handleChangePolicy(user.accessKey || user.access_key, e.target.value)}\n                      disabled={(user.accessKey || user.access_key) === 'admin'}\n                    >\n                      {policies.map((p) => (\n                        <option key={p} value={p}>{p}</option>\n                      ))}\n                    </select>\n                  </td>\n                  <td>\n                    <button\n                      className={`status-toggle ${(user.userStatus || user.status) === 'enabled' ? 'enabled' : 'disabled'}`}\n                      onClick={() => handleToggleStatus(user.accessKey || user.access_key, user.userStatus || user.status)}\n                      disabled={(user.accessKey || user.access_key) === 'admin'}\n                    >\n                      {(user.userStatus || user.status) === 'enabled' ? (\n                        <><ToggleRight size={16} /> 활성</>\n                      ) : (\n                        <><ToggleLeft size={16} /> 비활성</>\n                      )}\n                    </button>\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-sm btn-danger\"\n                      onClick={() => handleDeleteUser(user.accessKey || user.access_key)}\n                      disabled={(user.accessKey || user.access_key) === 'admin'}\n                      title=\"삭제\"\n                    >\n                      <UserMinus size={14} />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 버킷별 사용자 접근 권한 관리 컴포넌트\nexport const BucketUserAccessManager = ({ bucketName, showToast }) => {\n  const [users, setUsers] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [newPermission, setNewPermission] = useState({ user: '', access: 'read', quota_gb: '' });\n  const [bucketQuota, setBucketQuota] = useState(null);\n  const [quotaInput, setQuotaInput] = useState('');\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [usersRes, allUsersRes, quotaRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/users`),\n        axios.get(`${API_BASE}/storage/iam/users`).catch(() => ({ data: { users: [] } })),\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/quota`).catch(() => ({ data: null }))\n      ]);\n      setUsers(usersRes.data.users || []);\n      setAllUsers(allUsersRes.data.users || []);\n      setBucketQuota(quotaRes.data);\n      if (quotaRes.data?.quota_bytes) {\n        setQuotaInput((quotaRes.data.quota_bytes / (1024 * 1024 * 1024)).toFixed(1));\n      }\n    } catch (error) {\n      showToast('버킷 사용자 정보 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleAddUser = async () => {\n    if (!newPermission.user) {\n      showToast('사용자를 선택하세요', 'error');\n      return;\n    }\n\n    try {\n      await axios.post(`${API_BASE}/storage/buckets/${bucketName}/users`, {\n        user: newPermission.user,\n        access: newPermission.access,\n        quota_gb: newPermission.quota_gb ? parseFloat(newPermission.quota_gb) : null\n      });\n      showToast(`'${newPermission.user}'에게 접근 권한이 부여되었습니다`);\n      setShowAddUser(false);\n      setNewPermission({ user: '', access: 'read', quota_gb: '' });\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '권한 부여 실패', 'error');\n    }\n  };\n\n  const handleRemoveUser = async (user) => {\n    if (!window.confirm(`'${user}'의 접근 권한을 제거하시겠습니까?`)) return;\n\n    try {\n      await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/users/${user}`);\n      showToast(`'${user}'의 접근 권한이 제거되었습니다`);\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '권한 제거 실패', 'error');\n    }\n  };\n\n  const handleUpdateAccess = async (user, access) => {\n    try {\n      const existingUser = users.find(u => u.user === user);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/users/${user}`, {\n        user,\n        access,\n        quota_gb: existingUser?.quota_bytes ? existingUser.quota_bytes / (1024 * 1024 * 1024) : null\n      });\n      showToast('접근 권한이 변경되었습니다');\n      fetchData();\n    } catch (error) {\n      showToast('권한 변경 실패', 'error');\n    }\n  };\n\n  const handleSetQuota = async () => {\n    if (!quotaInput) {\n      showToast('할당량을 입력하세요', 'error');\n      return;\n    }\n\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/quota?quota_gb=${parseFloat(quotaInput)}`);\n      showToast(`버킷 할당량이 ${quotaInput}GB로 설정되었습니다`);\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '할당량 설정 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bucket-access-manager\">\n      {/* 버킷 할당량 설정 */}\n      <div className=\"section-header\">\n        <HardDrive size={18} />\n        <h4>버킷 할당량</h4>\n      </div>\n      <div className=\"quota-section\">\n        <div className=\"quota-info\">\n          {bucketQuota?.quota_human && (\n            <span>현재: {bucketQuota.used_human} / {bucketQuota.quota_human}</span>\n          )}\n        </div>\n        <div className=\"quota-input-row\">\n          <input\n            type=\"number\"\n            step=\"0.1\"\n            min=\"0.1\"\n            placeholder=\"할당량 (GB)\"\n            value={quotaInput}\n            onChange={(e) => setQuotaInput(e.target.value)}\n          />\n          <span className=\"unit\">GB</span>\n          <button className=\"btn btn-sm btn-primary\" onClick={handleSetQuota}>\n            설정\n          </button>\n        </div>\n      </div>\n\n      {/* 사용자 접근 권한 */}\n      <div className=\"section-header\" style={{ marginTop: '20px' }}>\n        <Users size={18} />\n        <h4>사용자 접근 권한</h4>\n        <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddUser(true)}>\n          <UserPlus size={14} />\n          추가\n        </button>\n      </div>\n\n      {showAddUser && (\n        <div className=\"add-user-form\">\n          <h5>사용자 권한 추가</h5>\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>사용자</label>\n              <select\n                value={newPermission.user}\n                onChange={(e) => setNewPermission({ ...newPermission, user: e.target.value })}\n              >\n                <option value=\"\">선택...</option>\n                <option value=\"admin\">admin</option>\n                {allUsers.map((u) => (\n                  <option key={u.accessKey || u.access_key} value={u.accessKey || u.access_key}>\n                    {u.accessKey || u.access_key}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>접근 권한</label>\n              <select\n                value={newPermission.access}\n                onChange={(e) => setNewPermission({ ...newPermission, access: e.target.value })}\n              >\n                <option value=\"read\">읽기</option>\n                <option value=\"write\">읽기/쓰기</option>\n                <option value=\"admin\">관리자</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>개인 할당량 (GB)</label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                placeholder=\"무제한\"\n                value={newPermission.quota_gb}\n                onChange={(e) => setNewPermission({ ...newPermission, quota_gb: e.target.value })}\n              />\n            </div>\n          </div>\n          <div className=\"form-actions\">\n            <button className=\"btn btn-primary\" onClick={handleAddUser}>\n              <UserPlus size={14} />\n              추가\n            </button>\n            <button className=\"btn btn-secondary\" onClick={() => setShowAddUser(false)}>\n              취소\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"users-list\">\n        {users.length === 0 ? (\n          <div className=\"empty-state\">\n            <Users size={32} />\n            <p>이 버킷에 접근 권한이 부여된 사용자가 없습니다</p>\n          </div>\n        ) : (\n          <table className=\"users-table\">\n            <thead>\n              <tr>\n                <th>사용자</th>\n                <th>접근 권한</th>\n                <th>할당량</th>\n                <th>작업</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => (\n                <tr key={user.user}>\n                  <td className=\"access-key\">\n                    <Key size={14} />\n                    <span>{user.user}</span>\n                  </td>\n                  <td>\n                    <select\n                      value={user.access}\n                      onChange={(e) => handleUpdateAccess(user.user, e.target.value)}\n                    >\n                      <option value=\"read\">읽기</option>\n                      <option value=\"write\">읽기/쓰기</option>\n                      <option value=\"admin\">관리자</option>\n                    </select>\n                  </td>\n                  <td>\n                    {user.quota_human || '무제한'}\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-sm btn-danger\"\n                      onClick={() => handleRemoveUser(user.user)}\n                      title=\"제거\"\n                    >\n                      <UserMinus size={14} />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Longhorn 볼륨/스냅샷 관리 컴포넌트\nexport const LonghornManager = ({ showToast }) => {\n  const [volumes, setVolumes] = useState([]);\n  const [selectedVolume, setSelectedVolume] = useState(null);\n  const [snapshots, setSnapshots] = useState([]);\n  const [longhornStatus, setLonghornStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [snapshotLoading, setSnapshotLoading] = useState(false);\n  const [showCreateSnapshot, setShowCreateSnapshot] = useState(false);\n  const [newSnapshotName, setNewSnapshotName] = useState('');\n  const [expandSize, setExpandSize] = useState('');\n  const [showExpand, setShowExpand] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setErrorMessage(null);\n      const [statusRes, volumesRes] = await Promise.all([\n        axios.get(`${API_BASE}/longhorn/status`),\n        axios.get(`${API_BASE}/longhorn/volumes`)\n      ]);\n      setLonghornStatus(statusRes.data);\n      setVolumes(volumesRes.data.volumes || []);\n    } catch (error) {\n      // 404 또는 503 에러는 Longhorn 미설치로 처리\n      if (error.response?.status === 404 || error.response?.status === 503 ||\n          error.code === 'ERR_NETWORK' || error.message?.includes('Network Error')) {\n        setLonghornStatus({ installed: false });\n        setErrorMessage(null); // 미설치는 에러가 아님\n      } else {\n        setLonghornStatus({ installed: false });\n        setErrorMessage(error.response?.data?.detail || 'Longhorn 서비스에 연결할 수 없습니다.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchSnapshots = useCallback(async (volumeName) => {\n    if (!volumeName) return;\n    try {\n      setSnapshotLoading(true);\n      const res = await axios.get(`${API_BASE}/longhorn/volumes/${volumeName}/snapshots`);\n      setSnapshots(res.data.snapshots || []);\n    } catch (error) {\n      showToast('스냅샷 목록 조회 실패', 'error');\n    } finally {\n      setSnapshotLoading(false);\n    }\n  }, [showToast]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  useEffect(() => {\n    if (selectedVolume) {\n      fetchSnapshots(selectedVolume.name);\n    }\n  }, [selectedVolume, fetchSnapshots]);\n\n  const handleCreateSnapshot = async () => {\n    if (!newSnapshotName.trim()) {\n      showToast('스냅샷 이름을 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.post(`${API_BASE}/longhorn/volumes/${selectedVolume.name}/snapshots`, {\n        name: newSnapshotName\n      });\n      showToast(`스냅샷 '${newSnapshotName}'이 생성되었습니다`);\n      setShowCreateSnapshot(false);\n      setNewSnapshotName('');\n      fetchSnapshots(selectedVolume.name);\n    } catch (error) {\n      showToast(error.response?.data?.detail || '스냅샷 생성 실패', 'error');\n    }\n  };\n\n  const handleDeleteSnapshot = async (snapshotName) => {\n    if (!window.confirm(`'${snapshotName}' 스냅샷을 삭제하시겠습니까?`)) return;\n    try {\n      await axios.delete(`${API_BASE}/longhorn/snapshots/${snapshotName}`);\n      showToast(`스냅샷 '${snapshotName}'이 삭제되었습니다`);\n      fetchSnapshots(selectedVolume.name);\n    } catch (error) {\n      showToast(error.response?.data?.detail || '스냅샷 삭제 실패', 'error');\n    }\n  };\n\n  const handleRestoreSnapshot = async (snapshotName) => {\n    if (!window.confirm(`'${snapshotName}' 스냅샷에서 새 볼륨을 생성하시겠습니까?`)) return;\n    try {\n      const res = await axios.post(`${API_BASE}/longhorn/volumes/${selectedVolume.name}/restore`, {\n        snapshot_name: snapshotName\n      });\n      showToast(res.data.message);\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '복원 실패', 'error');\n    }\n  };\n\n  const handleExpandVolume = async () => {\n    const sizeGb = parseInt(expandSize);\n    if (!sizeGb || sizeGb <= 0) {\n      showToast('유효한 크기를 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.put(`${API_BASE}/longhorn/volumes/${selectedVolume.name}/expand?size_gb=${sizeGb}`);\n      showToast(`볼륨이 ${sizeGb}GB로 확장 요청되었습니다`);\n      setShowExpand(false);\n      setExpandSize('');\n      fetchData();\n    } catch (error) {\n      showToast(error.response?.data?.detail || '볼륨 확장 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <Loader2 className=\"spin\" size={24} />\n        <span>로딩 중...</span>\n      </div>\n    );\n  }\n\n  if (!longhornStatus?.installed) {\n    return (\n      <div className=\"info-box warning\">\n        <AlertCircle size={16} />\n        <div>\n          <strong>Longhorn 미설치</strong>\n          <p>Longhorn이 설치되어 있지 않습니다. 동적 볼륨 관리를 사용하려면 Longhorn을 설치하세요.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"longhorn-manager\">\n      {/* Longhorn 상태 요약 */}\n      <div className=\"longhorn-status-summary\">\n        <div className=\"status-card\">\n          <Database size={20} />\n          <div>\n            <span className=\"label\">전체 스토리지</span>\n            <span className=\"value\">{longhornStatus.total_storage}</span>\n          </div>\n        </div>\n        <div className=\"status-card\">\n          <HardDrive size={20} />\n          <div>\n            <span className=\"label\">사용 중</span>\n            <span className=\"value\">{longhornStatus.used_storage} ({longhornStatus.usage_percent}%)</span>\n          </div>\n        </div>\n        <div className=\"status-card\">\n          <CheckCircle size={20} />\n          <div>\n            <span className=\"label\">볼륨 수</span>\n            <span className=\"value\">{longhornStatus.volume_count}개</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"longhorn-content\">\n        {/* 볼륨 목록 */}\n        <div className=\"volume-list\">\n          <div className=\"section-header\">\n            <Database size={18} />\n            <h4>Longhorn 볼륨</h4>\n            <button className=\"btn-icon\" onClick={fetchData} title=\"새로고침\">\n              <RefreshCw size={14} />\n            </button>\n          </div>\n\n          {volumes.length === 0 ? (\n            <div className=\"empty-state\">\n              <Database size={32} />\n              <p>Longhorn 볼륨이 없습니다</p>\n            </div>\n          ) : (\n            <div className=\"volumes\">\n              {volumes.map((vol) => (\n                <div\n                  key={vol.name}\n                  className={`volume-item ${selectedVolume?.name === vol.name ? 'selected' : ''}`}\n                  onClick={() => setSelectedVolume(vol)}\n                >\n                  <div className=\"volume-info\">\n                    <span className=\"volume-name\">{vol.name}</span>\n                    <span className=\"volume-meta\">\n                      {vol.size_human} | {vol.state}\n                      {vol.pvc_name && ` | PVC: ${vol.pvc_name}`}\n                    </span>\n                  </div>\n                  <span className={`status-badge ${vol.state === 'attached' ? 'success' : 'warning'}`}>\n                    {vol.state}\n                  </span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* 스냅샷 관리 */}\n        <div className=\"snapshot-panel\">\n          {selectedVolume ? (\n            <>\n              <div className=\"section-header\">\n                <Camera size={18} />\n                <h4>스냅샷 - {selectedVolume.name}</h4>\n                <div className=\"header-actions\">\n                  <button\n                    className=\"btn btn-sm btn-secondary\"\n                    onClick={() => setShowExpand(true)}\n                    title=\"볼륨 확장\"\n                  >\n                    <Expand size={14} />\n                    확장\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-primary\"\n                    onClick={() => setShowCreateSnapshot(true)}\n                  >\n                    <Plus size={14} />\n                    스냅샷 생성\n                  </button>\n                </div>\n              </div>\n\n              {/* 볼륨 확장 폼 */}\n              {showExpand && (\n                <div className=\"expand-form\">\n                  <h5>볼륨 확장</h5>\n                  <p className=\"hint\">현재 크기: {selectedVolume.size_human}</p>\n                  <div className=\"form-row\">\n                    <input\n                      type=\"number\"\n                      placeholder=\"새 크기 (GB)\"\n                      value={expandSize}\n                      onChange={(e) => setExpandSize(e.target.value)}\n                      min=\"1\"\n                    />\n                    <span className=\"unit\">GB</span>\n                    <button className=\"btn btn-primary\" onClick={handleExpandVolume}>\n                      확장\n                    </button>\n                    <button className=\"btn btn-secondary\" onClick={() => setShowExpand(false)}>\n                      취소\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* 스냅샷 생성 폼 */}\n              {showCreateSnapshot && (\n                <div className=\"create-snapshot-form\">\n                  <h5>새 스냅샷 생성</h5>\n                  <div className=\"form-row\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"스냅샷 이름\"\n                      value={newSnapshotName}\n                      onChange={(e) => setNewSnapshotName(e.target.value)}\n                    />\n                    <button className=\"btn btn-primary\" onClick={handleCreateSnapshot}>\n                      <Camera size={14} />\n                      생성\n                    </button>\n                    <button className=\"btn btn-secondary\" onClick={() => setShowCreateSnapshot(false)}>\n                      취소\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* 스냅샷 목록 */}\n              {snapshotLoading ? (\n                <div className=\"loading-state\">\n                  <Loader2 className=\"spin\" size={20} />\n                  <span>스냅샷 로딩 중...</span>\n                </div>\n              ) : snapshots.length === 0 ? (\n                <div className=\"empty-state\">\n                  <Camera size={32} />\n                  <p>스냅샷이 없습니다</p>\n                  <span className=\"hint\">스냅샷을 생성하여 볼륨 상태를 저장하세요</span>\n                </div>\n              ) : (\n                <div className=\"snapshots-list\">\n                  {snapshots.map((snap) => (\n                    <div key={snap.name} className=\"snapshot-item\">\n                      <div className=\"snapshot-info\">\n                        <span className=\"snapshot-name\">{snap.name}</span>\n                        <span className=\"snapshot-meta\">\n                          {new Date(snap.created).toLocaleString()} | {snap.size_human}\n                        </span>\n                      </div>\n                      <div className=\"snapshot-actions\">\n                        <button\n                          className=\"btn btn-sm btn-secondary\"\n                          onClick={() => handleRestoreSnapshot(snap.name)}\n                          title=\"이 스냅샷에서 새 볼륨 생성\"\n                        >\n                          <RotateCcw size={14} />\n                          복원\n                        </button>\n                        <button\n                          className=\"btn btn-sm btn-danger\"\n                          onClick={() => handleDeleteSnapshot(snap.name)}\n                          title=\"스냅샷 삭제\"\n                        >\n                          <Trash2 size={14} />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </>\n          ) : (\n            <div className=\"empty-state\">\n              <Camera size={32} />\n              <p>볼륨을 선택하세요</p>\n              <span className=\"hint\">볼륨을 선택하면 스냅샷을 관리할 수 있습니다</span>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 고급 기능 탭 컴포넌트\nexport const StorageAdvancedTabs = ({ bucketName, selectedObject, showToast }) => {\n  const [activeTab, setActiveTab] = useState('stats');\n\n  const tabs = [\n    { id: 'stats', label: '통계', icon: BarChart3 },\n    { id: 'policy', label: '정책', icon: Shield },\n    { id: 'versioning', label: '버전', icon: GitBranch },\n    { id: 'lifecycle', label: '생명주기', icon: Clock },\n    { id: 'objectlock', label: '잠금', icon: Lock },\n    { id: 'access', label: '접근관리', icon: UserPlus },\n    { id: 'presigned', label: 'URL 생성', icon: Link },\n    { id: 'iam', label: 'IAM', icon: Users },\n    { id: 'longhorn', label: '스냅샷', icon: Camera },\n  ];\n\n  if (!bucketName) {\n    return (\n      <div className=\"advanced-panel\">\n        <div className=\"empty-state\">\n          <Settings size={32} />\n          <p>버킷을 선택하세요</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"storage-advanced\">\n      <div className=\"advanced-tabs\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            className={`tab-btn ${activeTab === tab.id ? 'active' : ''}`}\n            onClick={() => setActiveTab(tab.id)}\n          >\n            <tab.icon size={14} />\n            {tab.label}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"advanced-content\">\n        {activeTab === 'stats' && (\n          <BucketStats bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'policy' && (\n          <BucketPolicyManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'versioning' && (\n          <VersioningManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'lifecycle' && (\n          <LifecycleManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'objectlock' && (\n          <ObjectLockManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'access' && (\n          <BucketUserAccessManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'presigned' && (\n          <PresignedUrlGenerator\n            bucketName={bucketName}\n            objectName={selectedObject}\n            showToast={showToast}\n          />\n        )}\n        {activeTab === 'iam' && (\n          <IAMManager showToast={showToast} />\n        )}\n        {activeTab === 'longhorn' && (\n          <LonghornManager showToast={showToast} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StorageAdvancedTabs;\n"],"mappings":"kIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACEC,MAAM,CACNC,SAAS,CACTC,MAAM,CACNC,IAAI,CACJC,GAAG,CACHC,KAAK,CACLC,SAAS,CACTC,IAAI,CACJC,MAAM,CACNC,IAAI,CACJC,CAAC,CACDC,IAAI,CACJC,WAAW,CACXC,WAAW,CACXC,WAAW,CACXC,YAAY,CACZC,QAAQ,CACRC,SAAS,CACTC,QAAQ,CACRC,OAAO,CACPC,IAAI,CACJC,KAAK,CACLC,QAAQ,CACRC,SAAS,CACTC,GAAG,CACHC,GAAG,CACHC,MAAM,CACNC,UAAU,CACVC,WAAW,CACXC,SAAS,CACTC,MAAM,CACNC,SAAS,CACTC,QAAQ,CACRC,MAAM,KACD,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,QAAQ,CAAG,MAAM,CAEvB;AACA,MAAO,MAAM,CAAAC,mBAAmB,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,UAAU,CAAEC,SAAU,CAAC,CAAAF,IAAA,CAC3D,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGlD,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACmD,SAAS,CAAEC,YAAY,CAAC,CAAGpD,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuD,OAAO,CAAEC,UAAU,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyD,UAAU,CAAEC,aAAa,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC2D,UAAU,CAAEC,aAAa,CAAC,CAAG5D,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAA6D,WAAW,CAAG3D,WAAW,CAAC,gBAAgC,IAAzB,CAAA4D,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACzD,GAAI,CACF,GAAI,CAACD,YAAY,EAAI,CAACH,UAAU,CAAE,CAChCL,UAAU,CAAC,IAAI,CAAC,CAClB,CACA,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAClDlE,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,WAAS,CAAC,CAC7D5C,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,6BAA2B,CAAC,CAClD,CAAC,CACFM,SAAS,CAACgB,SAAS,CAACM,IAAI,CAACvB,MAAM,CAAC,CAChCS,aAAa,CAACQ,SAAS,CAACM,IAAI,CAACvB,MAAM,CAAGwB,IAAI,CAACC,SAAS,CAACR,SAAS,CAACM,IAAI,CAACvB,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAAG,EAAE,CAAC,CAC1FG,YAAY,CAACe,YAAY,CAACK,IAAI,CAACrB,SAAS,EAAI,EAAE,CAAC,CAC/CS,aAAa,CAAC,IAAI,CAAC,CACrB,CAAE,MAAOe,KAAK,CAAE,CACd,GAAI,CAACb,YAAY,CAAE,CACjBd,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAEW,UAAU,CAAC,CAAC,CAEvC1D,SAAS,CAAC,IAAM,CACd4D,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAAE,CAACd,UAAU,CAAC,CAAC,CAAE;AAElB,KAAM,CAAA6B,mBAAmB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC9C,GAAI,CAACA,QAAQ,CAAC5B,MAAM,CAAE,CACpB;AACA,GAAI,CACF,KAAM,CAAA9C,KAAK,CAAC2E,MAAM,IAAAP,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,WAAS,CAAC,CACtEC,SAAS,CAAC,kBAAkB,CAAC,CAC7Ba,WAAW,CAAC,CAAC,CACf,CAAE,MAAOc,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACA,OACF,CAEA,KAAM,CAAA+B,gBAAgB,CAAGN,IAAI,CAACO,KAAK,CACjCP,IAAI,CAACC,SAAS,CAACG,QAAQ,CAAC5B,MAAM,CAAC,CAACgC,OAAO,CAAC,cAAc,CAAElC,UAAU,CACpE,CAAC,CAED,GAAI,CACF,KAAM,CAAA5C,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,YAAW,CAClEE,MAAM,CAAE8B,gBACV,CAAC,CAAC,CACF/B,SAAS,KAAAuB,MAAA,CAAKM,QAAQ,CAACM,IAAI,mEAAe,CAAC,CAC3CtB,WAAW,CAAC,CAAC,CACf,CAAE,MAAOc,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAoC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAGZ,IAAI,CAACO,KAAK,CAACvB,UAAU,CAAC,CAC3C,KAAM,CAAAtD,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,YAAW,CAClEE,MAAM,CAAEoC,YACV,CAAC,CAAC,CACFrC,SAAS,CAAC,aAAa,CAAC,CACxBQ,UAAU,CAAC,KAAK,CAAC,CACjBK,WAAW,CAAC,CAAC,CACf,CAAE,MAAOc,KAAK,CAAE,CACd,GAAIA,KAAK,WAAY,CAAAW,WAAW,CAAE,CAChCtC,SAAS,CAAC,mBAAmB,CAAE,OAAO,CAAC,CACzC,CAAC,IAAM,CACLA,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CACF,CAAC,CAED,GAAIK,OAAO,EAAI,CAACM,UAAU,CAAE,CAC1B,mBACElB,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,MAAAiD,QAAA,CAAG,kDAAa,CAAG,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C/C,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/C,KAAA,OAAA+C,QAAA,eAAIjD,IAAA,CAACnC,MAAM,EAACqF,IAAI,CAAE,EAAG,CAAE,CAAC,mCAAO,EAAI,CAAC,cACpClD,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BrC,SAAS,CAACuC,GAAG,CAAEb,QAAQ,eACtBpC,KAAA,QAEE8C,SAAS,kBAAAhB,MAAA,CAAmB,CAACM,QAAQ,CAAC5B,MAAM,CAAG,SAAS,CAAG,EAAE,CAAG,CAChE0C,OAAO,CAAEA,CAAA,GAAMf,mBAAmB,CAACC,QAAQ,CAAE,CAAAW,QAAA,eAE7CjD,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,QAAQ,CAACM,IAAI,CAAM,CAAC,cACpD5C,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,QAAQ,CAACe,WAAW,CAAM,CAAC,GALtDf,QAAQ,CAACM,IAMX,CACN,CAAC,CACC,CAAC,EACH,CAAC,cAEN1C,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/C,KAAA,OAAA+C,QAAA,eAAIjD,IAAA,CAACjB,QAAQ,EAACmE,IAAI,CAAE,EAAG,CAAE,CAAC,6BAAM,EAAI,CAAC,cACrClD,IAAA,WACEgD,SAAS,eAAAhB,MAAA,CAAgBhB,OAAO,CAAG,aAAa,CAAG,EAAE,CAAG,CACxDoC,OAAO,CAAEA,CAAA,GAAMnC,UAAU,CAAC,CAACD,OAAO,CAAE,CAAAiC,QAAA,CAEnCjC,OAAO,CAAG,IAAI,CAAG,IAAI,CAChB,CAAC,EACN,CAAC,CAELN,MAAM,CACLM,OAAO,cACLd,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,aACEsD,KAAK,CAAEpC,UAAW,CAClBqC,QAAQ,CAAGC,CAAC,EAAKrC,aAAa,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CN,SAAS,CAAC,aAAa,CACvBU,IAAI,CAAE,EAAG,CACV,CAAC,cACF1D,IAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B/C,KAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEP,gBAAiB,CAAAI,QAAA,eAC5DjD,IAAA,CAAC5B,IAAI,EAAC8E,IAAI,CAAE,EAAG,CAAE,CAAC,gBACpB,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,cAENlD,IAAA,QAAKgD,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBf,IAAI,CAACC,SAAS,CAACzB,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAC7B,CACN,cAEDR,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACnC,MAAM,EAACqF,IAAI,CAAE,EAAG,CAAE,CAAC,cACpBlD,IAAA,MAAAiD,QAAA,CAAG,+EAAiB,CAAG,CAAC,EACrB,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAU,iBAAiB,CAAGC,KAAA,EAA+B,IAA9B,CAAEpD,UAAU,CAAEC,SAAU,CAAC,CAAAmD,KAAA,CACzD,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGrG,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACsG,QAAQ,CAAEC,WAAW,CAAC,CAAGvG,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAAwG,eAAe,CAAGtG,WAAW,CAAC,gBAAgC,IAAzB,CAAA4D,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAC7D,GAAI,CACF,GAAI,CAACD,YAAY,EAAI,CAACsC,UAAU,CAAE,CAChC9C,UAAU,CAAC,IAAI,CAAC,CAClB,CACA,KAAM,CAAAmD,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,eAAa,CAAC,CACnFsD,aAAa,CAACI,GAAG,CAACjC,IAAI,CAAC4B,UAAU,CAAC,CACpC,CAAE,MAAOzB,KAAK,CAAE,CACd,GAAI,CAACb,YAAY,CAAE,CACjBd,SAAS,CAAC,gBAAgB,CAAE,OAAO,CAAC,CACtC,CACF,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAEoD,UAAU,CAAC,CAAC,CAEvCnG,SAAS,CAAC,IAAM,CACduG,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAAE,CAACzD,UAAU,CAAC,CAAC,CAAE;AAElB,KAAM,CAAA2D,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACFH,WAAW,CAAC,IAAI,CAAC,CACjB,KAAM,CAAAI,SAAS,CAAG,CAAAP,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEQ,MAAM,IAAK,SAAS,CAClD,KAAM,CAAAzG,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,gBAAe,CACtE8D,OAAO,CAAEF,SACX,CAAC,CAAC,CACF3D,SAAS,oCAAAuB,MAAA,CAAWoC,SAAS,CAAG,KAAK,CAAG,MAAM,kCAAO,CAAC,CACtDH,eAAe,CAAC,CAAC,CACnB,CAAE,MAAO7B,KAAK,CAAE,CACd3B,SAAS,CAAC,aAAa,CAAE,OAAO,CAAC,CACnC,CAAC,OAAS,CACRuD,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAED,GAAIlD,OAAO,EAAI,CAAC+C,UAAU,CAAE,CAC1B,mBACE3D,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,MAAAiD,QAAA,CAAG,+DAAgB,CAAG,CAAC,EACpB,CAAC,CAEV,CAEA,KAAM,CAAAsB,SAAS,CAAG,CAAAV,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEQ,MAAM,IAAK,SAAS,CAElD,mBACEnE,KAAA,QAAK8C,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C/C,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAAClC,SAAS,EAACoF,IAAI,CAAE,EAAG,CAACF,SAAS,CAAEuB,SAAS,CAAG,SAAS,CAAG,UAAW,CAAE,CAAC,cACtErE,KAAA,QAAA+C,QAAA,eACEjD,IAAA,OAAAiD,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjBjD,IAAA,MAAGgD,SAAS,gBAAAhB,MAAA,CAAiBuC,SAAS,CAAG,SAAS,CAAG,UAAU,CAAG,CAAAtB,QAAA,CAC/DsB,SAAS,CAAG,MAAM,CAAG,OAAO,CAC5B,CAAC,EACD,CAAC,EACH,CAAC,cACNrE,KAAA,WACE8C,SAAS,QAAAhB,MAAA,CAASuC,SAAS,CAAG,YAAY,CAAG,aAAa,CAAG,CAC7DnB,OAAO,CAAEe,sBAAuB,CAChCK,QAAQ,CAAET,QAAS,CAAAd,QAAA,EAElBc,QAAQ,cAAG/D,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,IAAI,CACxDqB,SAAS,CAAG,MAAM,CAAG,KAAK,EACrB,CAAC,EACN,CAAC,cAENrE,KAAA,QAAK8C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B/C,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjD,IAAA,CAACvB,WAAW,EAACyE,IAAI,CAAE,EAAG,CAACF,SAAS,CAAC,SAAS,CAAE,CAAC,cAC7C9C,KAAA,QAAA+C,QAAA,eACEjD,IAAA,WAAAiD,QAAA,CAAQ,qDAAW,CAAQ,CAAC,cAC5B/C,KAAA,OAAA+C,QAAA,eACEjD,IAAA,OAAAiD,QAAA,CAAI,sFAAmB,CAAI,CAAC,cAC5BjD,IAAA,OAAAiD,QAAA,CAAI,8EAAgB,CAAI,CAAC,cACzBjD,IAAA,OAAAiD,QAAA,CAAI,qDAAW,CAAI,CAAC,EAClB,CAAC,EACF,CAAC,EACH,CAAC,cACN/C,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjD,IAAA,CAACtB,WAAW,EAACwE,IAAI,CAAE,EAAG,CAACF,SAAS,CAAC,SAAS,CAAE,CAAC,cAC7C9C,KAAA,QAAA+C,QAAA,eACEjD,IAAA,WAAAiD,QAAA,CAAQ,0BAAI,CAAQ,CAAC,cACrB/C,KAAA,OAAA+C,QAAA,eACEjD,IAAA,OAAAiD,QAAA,CAAI,0DAAW,CAAI,CAAC,cACpBjD,IAAA,OAAAiD,QAAA,CAAI,+HAAmC,CAAI,CAAC,EAC1C,CAAC,EACF,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAwB,qBAAqB,CAAGC,KAAA,EAA2C,IAA1C,CAAElE,UAAU,CAAEmE,UAAU,CAAElE,SAAU,CAAC,CAAAiE,KAAA,CACzE,KAAM,CAACE,GAAG,CAAEC,MAAM,CAAC,CAAGpH,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACqH,MAAM,CAAEC,SAAS,CAAC,CAAGtH,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACuH,YAAY,CAAEC,eAAe,CAAC,CAAGxH,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyH,MAAM,CAAEC,SAAS,CAAC,CAAG1H,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAA2H,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACFrE,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAmD,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACyH,IAAI,IAAArD,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,mBAAkB,CACtF8E,WAAW,CAAEX,UAAU,CACvBY,aAAa,CAAEP,YAAY,CAC3BF,MAAM,CAAEA,MACV,CAAC,CAAC,CACFD,MAAM,CAACX,GAAG,CAACjC,IAAI,CAAC,CAChBxB,SAAS,CAAC,wBAAwB,CAAC,CACrC,CAAE,MAAO2B,KAAK,CAAE,CACd3B,SAAS,CAAC,WAAW,CAAE,OAAO,CAAC,CACjC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAyE,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAIZ,GAAG,CAAE,CACPa,SAAS,CAACC,SAAS,CAACC,SAAS,CAACf,GAAG,CAACA,GAAG,CAAC,CACtCO,SAAS,CAAC,IAAI,CAAC,CACf1E,SAAS,CAAC,oBAAoB,CAAC,CAC/BmF,UAAU,CAAC,IAAMT,SAAS,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CAC1C,CACF,CAAC,CAED,mBACEjF,KAAA,QAAK8C,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C/C,KAAA,OAAA+C,QAAA,eAAIjD,IAAA,CAAChC,IAAI,EAACkF,IAAI,CAAE,EAAG,CAAE,CAAC,8BAAiB,EAAI,CAAC,cAE5ChD,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/C,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpBjD,IAAA,UAAO6F,IAAI,CAAC,MAAM,CAACvC,KAAK,CAAEqB,UAAU,EAAI,WAAY,CAACH,QAAQ,MAAE,CAAC,EAC7D,CAAC,cAENtE,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB/C,KAAA,WAAQoD,KAAK,CAAEwB,MAAO,CAACvB,QAAQ,CAAGC,CAAC,EAAKuB,SAAS,CAACvB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAChEjD,IAAA,WAAQsD,KAAK,CAAC,KAAK,CAAAL,QAAA,CAAC,gCAAU,CAAQ,CAAC,cACvCjD,IAAA,WAAQsD,KAAK,CAAC,KAAK,CAAAL,QAAA,CAAC,0BAAS,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,cAEN/C,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB/C,KAAA,WAAQoD,KAAK,CAAE0B,YAAa,CAACzB,QAAQ,CAAGC,CAAC,EAAKyB,eAAe,CAACa,MAAM,CAACtC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CAAAL,QAAA,eACpFjD,IAAA,WAAQsD,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,eAAG,CAAQ,CAAC,cAC9BjD,IAAA,WAAQsD,KAAK,CAAE,CAAE,CAAAL,QAAA,CAAC,eAAG,CAAQ,CAAC,cAC9BjD,IAAA,WAAQsD,KAAK,CAAE,EAAG,CAAAL,QAAA,CAAC,gBAAI,CAAQ,CAAC,cAChCjD,IAAA,WAAQsD,KAAK,CAAE,EAAG,CAAAL,QAAA,CAAC,gBAAI,CAAQ,CAAC,cAChCjD,IAAA,WAAQsD,KAAK,CAAE,EAAG,CAAAL,QAAA,CAAC,gBAAI,CAAQ,CAAC,cAChCjD,IAAA,WAAQsD,KAAK,CAAE,GAAI,CAAAL,QAAA,CAAC,SAAE,CAAQ,CAAC,EACzB,CAAC,EACN,CAAC,cAEN/C,KAAA,WACE8C,SAAS,CAAC,iBAAiB,CAC3BI,OAAO,CAAEgC,cAAe,CACxBZ,QAAQ,CAAE,CAACG,UAAU,EAAI7D,OAAQ,CAAAmC,QAAA,EAEhCnC,OAAO,cAAGd,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGlD,IAAA,CAAChC,IAAI,EAACkF,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC,kBAEzE,EAAQ,CAAC,EACN,CAAC,CAEL0B,GAAG,eACF1E,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,SAAAiD,QAAA,CAAO2B,GAAG,CAACA,GAAG,CAAO,CAAC,cACtB5E,IAAA,WAAQgD,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEoC,UAAW,CAAAvC,QAAA,CAC9CiC,MAAM,cAAGlF,IAAA,CAACvB,WAAW,EAACyE,IAAI,CAAE,EAAG,CAACF,SAAS,CAAC,SAAS,CAAE,CAAC,cAAGhD,IAAA,CAACxB,IAAI,EAAC0E,IAAI,CAAE,EAAG,CAAE,CAAC,CACtE,CAAC,EACN,CAAC,cACNhD,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB/C,KAAA,SAAA+C,QAAA,EAAM,4BAAM,CAAC2B,GAAG,CAACmB,UAAU,EAAO,CAAC,cACnC7F,KAAA,SAAA+C,QAAA,EAAM,gBAAI,CAAC2B,GAAG,CAACE,MAAM,EAAO,CAAC,EAC1B,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAkB,iBAAiB,CAAGC,KAAA,EAAoD,IAAnD,CAAEzF,UAAU,CAAEmE,UAAU,CAAElE,SAAS,CAAEyF,OAAQ,CAAC,CAAAD,KAAA,CAC9E,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAG3I,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC4I,MAAM,CAAEC,SAAS,CAAC,CAAG7I,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC8I,QAAQ,CAAEC,WAAW,CAAC,CAAG/I,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgJ,MAAM,CAAEC,SAAS,CAAC,CAAGjJ,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAkJ,SAAS,CAAGhJ,WAAW,CAAC,SAAY,CACxC,GAAI,CAACgH,UAAU,CAAE,OACjB,GAAI,CACF5D,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAmD,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,cAAAwB,MAAA,CAAY4E,kBAAkB,CAACjC,UAAU,CAAC,SAAO,CAAC,CACvHyB,OAAO,CAAClC,GAAG,CAACjC,IAAI,CAACkE,IAAI,EAAI,CAAC,CAAC,CAAC,CAC9B,CAAE,MAAO/D,KAAK,CAAE,CACd;AACAgE,OAAO,CAAC,CAAC,CAAC,CAAC,CACb,CAAC,OAAS,CACRrF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEmE,UAAU,CAAC,CAAC,CAE5BjH,SAAS,CAAC,IAAM,CACdiJ,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIR,MAAM,CAACS,IAAI,CAAC,CAAC,EAAIP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAE,CACpCV,OAAO,CAAAW,aAAA,CAAAA,aAAA,IAAMZ,IAAI,MAAE,CAACE,MAAM,CAACS,IAAI,CAAC,CAAC,EAAGP,QAAQ,CAACO,IAAI,CAAC,CAAC,EAAE,CAAC,CACtDR,SAAS,CAAC,EAAE,CAAC,CACbE,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAC,CAED,KAAM,CAAAQ,eAAe,CAAIC,GAAG,EAAK,CAC/B,KAAM,CAAAC,OAAO,CAAAH,aAAA,IAAQZ,IAAI,CAAE,CAC3B,MAAO,CAAAe,OAAO,CAACD,GAAG,CAAC,CACnBb,OAAO,CAACc,OAAO,CAAC,CAClB,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFT,SAAS,CAAC,IAAI,CAAC,CACf,GAAIU,MAAM,CAACC,IAAI,CAAClB,IAAI,CAAC,CAAC1E,MAAM,GAAK,CAAC,CAAE,CAClC,KAAM,CAAA7D,KAAK,CAAC2E,MAAM,IAAAP,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,cAAAwB,MAAA,CAAY4E,kBAAkB,CAACjC,UAAU,CAAC,SAAO,CAAC,CAChH,CAAC,IAAM,CACL,KAAM,CAAA/G,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,cAAAwB,MAAA,CAAY4E,kBAAkB,CAACjC,UAAU,CAAC,UAAS,CAC1GwB,IAAI,CAAEA,IACR,CAAC,CAAC,CACJ,CACA1F,SAAS,CAAC,aAAa,CAAC,CACxB,GAAIyF,OAAO,CAAEA,OAAO,CAAC,CAAC,CACxB,CAAE,MAAO9D,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CAAC,OAAS,CACRiG,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,GAAI5F,OAAO,CAAE,CACX,mBACEd,IAAA,QAAKgD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,CACnC,CAAC,CAEV,CAEA,mBACEhD,KAAA,QAAK8C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B/C,KAAA,OAAA+C,QAAA,eAAIjD,IAAA,CAAC/B,GAAG,EAACiF,IAAI,CAAE,EAAG,CAAE,CAAC,6BAAM,EAAI,CAAC,cAChClD,IAAA,SAAMgD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE0B,UAAU,CAAO,CAAC,EAC9C,CAAC,cAENzE,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvBmE,MAAM,CAACE,OAAO,CAACnB,IAAI,CAAC,CAAChD,GAAG,CAACoE,KAAA,MAAC,CAACN,GAAG,CAAE3D,KAAK,CAAC,CAAAiE,KAAA,oBACrCrH,KAAA,QAAe8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACjCjD,IAAA,SAAMgD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEgE,GAAG,CAAO,CAAC,cACtCjH,IAAA,SAAMgD,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEK,KAAK,CAAO,CAAC,cAC1CtD,IAAA,WAAQgD,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEA,CAAA,GAAM4D,eAAe,CAACC,GAAG,CAAE,CAAAhE,QAAA,cACtEjD,IAAA,CAACzB,CAAC,EAAC2E,IAAI,CAAE,EAAG,CAAE,CAAC,CACT,CAAC,GALD+D,GAML,CAAC,EACP,CAAC,CAEDG,MAAM,CAACC,IAAI,CAAClB,IAAI,CAAC,CAAC1E,MAAM,GAAK,CAAC,eAC7BvB,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjD,IAAA,CAAC/B,GAAG,EAACiF,IAAI,CAAE,EAAG,CAAE,CAAC,cACjBlD,IAAA,MAAAiD,QAAA,CAAG,6CAAQ,CAAG,CAAC,EACZ,CACN,EACE,CAAC,cAEN/C,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjD,IAAA,UACE6F,IAAI,CAAC,MAAM,CACX2B,WAAW,CAAC,QAAG,CACflE,KAAK,CAAE+C,MAAO,CACd9C,QAAQ,CAAGC,CAAC,EAAK8C,SAAS,CAAC9C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5C,CAAC,cACFtD,IAAA,UACE6F,IAAI,CAAC,MAAM,CACX2B,WAAW,CAAC,QAAG,CACflE,KAAK,CAAEiD,QAAS,CAChBhD,QAAQ,CAAGC,CAAC,EAAKgD,WAAW,CAAChD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,cACFtD,IAAA,WAAQgD,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEyD,YAAa,CAAA5D,QAAA,cAC1DjD,IAAA,CAAC1B,IAAI,EAAC4E,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,EACN,CAAC,cAENlD,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B/C,KAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE+D,UAAW,CAAC3C,QAAQ,CAAEiC,MAAO,CAAAxD,QAAA,EACvEwD,MAAM,cAAGzG,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGlD,IAAA,CAAC5B,IAAI,EAAC8E,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC,cAExE,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAuE,gBAAgB,CAAGC,KAAA,EAA+B,IAA9B,CAAElH,UAAU,CAAEC,SAAU,CAAC,CAAAiH,KAAA,CACxD,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGnK,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmD,SAAS,CAAEC,YAAY,CAAC,CAAGpD,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACoK,WAAW,CAAEC,cAAc,CAAC,CAAGrK,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACsK,OAAO,CAAEC,UAAU,CAAC,CAAGvK,QAAQ,CAAC,CACrCwK,OAAO,CAAE,EAAE,CACXC,MAAM,CAAE,EAAE,CACV5D,OAAO,CAAE,IAAI,CACb6D,eAAe,CAAE,EACnB,CAAC,CAAC,CAEF,KAAM,CAAAC,cAAc,CAAGzK,WAAW,CAAC,SAAY,CAC7C,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAACsH,QAAQ,CAAEzG,YAAY,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACjDlE,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,cAAY,CAAC,CAChE5C,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,gCAA8B,CAAC,CACrD,CAAC,CACFuH,QAAQ,CAACS,QAAQ,CAACpG,IAAI,CAAC0F,KAAK,EAAI,EAAE,CAAC,CACnC9G,YAAY,CAACe,YAAY,CAACK,IAAI,CAACrB,SAAS,EAAI,EAAE,CAAC,CACjD,CAAE,MAAOwB,KAAK,CAAE,CACd3B,SAAS,CAAC,eAAe,CAAE,OAAO,CAAC,CACrC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACd0K,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACA,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAA/F,mBAAmB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC9C,KAAM,CAAAgG,IAAI,CAAAvB,aAAA,CAAAA,aAAA,IAAQzE,QAAQ,CAACgG,IAAI,MAAEL,OAAO,IAAAjG,MAAA,CAAKM,QAAQ,CAACM,IAAI,MAAAZ,MAAA,CAAIuG,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE,EAAE,CAC5E,GAAI,CACF,KAAM,CAAA5K,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,eAAc,CACrEmH,KAAK,CAAE,CAAC,GAAGA,KAAK,CAAEW,IAAI,CACxB,CAAC,CAAC,CACF7H,SAAS,KAAAuB,MAAA,CAAKM,QAAQ,CAACe,WAAW,mEAAe,CAAC,CAClD+E,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOhG,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAgI,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CAACV,OAAO,CAACE,OAAO,CAACnB,IAAI,CAAC,CAAC,CAAE,CAC3BrG,SAAS,CAAC,cAAc,CAAE,OAAO,CAAC,CAClC,OACF,CACA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,eAAc,CACrEmH,KAAK,CAAE,CAAC,GAAGA,KAAK,CAAEI,OAAO,CAC3B,CAAC,CAAC,CACFtH,SAAS,CAAC,aAAa,CAAC,CACxBqH,cAAc,CAAC,KAAK,CAAC,CACrBE,UAAU,CAAC,CAAEC,OAAO,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAE5D,OAAO,CAAE,IAAI,CAAE6D,eAAe,CAAE,EAAG,CAAC,CAAC,CAC3EC,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOhG,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAiI,gBAAgB,CAAG,KAAO,CAAAC,MAAM,EAAK,CACzC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAGjB,KAAK,CAACkB,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACb,OAAO,GAAKU,MAAM,CAAC,CAC5D,GAAIC,YAAY,CAACnH,MAAM,GAAK,CAAC,CAAE,CAC7B,KAAM,CAAA7D,KAAK,CAAC2E,MAAM,IAAAP,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,cAAY,CAAC,CAC3E,CAAC,IAAM,CACL,KAAM,CAAA5C,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,eAAc,CACrEmH,KAAK,CAAEiB,YACT,CAAC,CAAC,CACJ,CACAnI,SAAS,CAAC,aAAa,CAAC,CACxB2H,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOhG,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,GAAIK,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,MAAAiD,QAAA,CAAG,8DAAe,CAAG,CAAC,EACnB,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C/C,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/C,KAAA,OAAA+C,QAAA,eAAIjD,IAAA,CAAC9B,KAAK,EAACgF,IAAI,CAAE,EAAG,CAAE,CAAC,mCAAO,EAAI,CAAC,cACnClD,IAAA,QAAKgD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnCrC,SAAS,CAACuC,GAAG,CAAEb,QAAQ,eACtBtC,IAAA,QAEEgD,SAAS,CAAC,qBAAqB,CAC/BI,OAAO,CAAEA,CAAA,GAAMf,mBAAmB,CAACC,QAAQ,CAAE,CAAAW,QAAA,cAE7CjD,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,QAAQ,CAACe,WAAW,CAAM,CAAC,EAJtDf,QAAQ,CAACM,IAKX,CACN,CAAC,CACC,CAAC,EACH,CAAC,cAEN1C,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/C,KAAA,OAAA+C,QAAA,EAAI,6BAAO,CAAC0E,KAAK,CAAClG,MAAM,CAAC,GAAC,EAAI,CAAC,cAC/BvB,KAAA,WAAQ8C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEA,CAAA,GAAM0E,cAAc,CAAC,IAAI,CAAE,CAAA7E,QAAA,eAC7EjD,IAAA,CAAC1B,IAAI,EAAC4E,IAAI,CAAE,EAAG,CAAE,CAAC,gBACpB,EAAQ,CAAC,EACN,CAAC,CAELyE,KAAK,CAAClG,MAAM,GAAK,CAAC,cACjBvB,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAAC9B,KAAK,EAACgF,IAAI,CAAE,EAAG,CAAE,CAAC,cACnBlD,IAAA,MAAAiD,QAAA,CAAG,sEAAa,CAAG,CAAC,EACjB,CAAC,cAENjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB0E,KAAK,CAACxE,GAAG,CAAEmF,IAAI,eACdpI,KAAA,QAAwB8C,SAAS,cAAAhB,MAAA,CAAesG,IAAI,CAAChE,OAAO,CAAG,EAAE,CAAG,UAAU,CAAG,CAAArB,QAAA,eAC/E/C,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjD,IAAA,QAAKgD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEqF,IAAI,CAACL,OAAO,CAAM,CAAC,cAC7C/H,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,EAC1BqF,IAAI,CAACJ,MAAM,eAAIhI,KAAA,SAAA+C,QAAA,EAAM,sBAAK,CAACqF,IAAI,CAACJ,MAAM,EAAO,CAAC,CAC9CI,IAAI,CAACH,eAAe,eAAIjI,KAAA,SAAA+C,QAAA,EAAOqF,IAAI,CAACH,eAAe,CAAC,4BAAM,EAAM,CAAC,CACjEG,IAAI,CAACS,0BAA0B,eAAI7I,KAAA,SAAA+C,QAAA,EAAM,4BAAM,CAACqF,IAAI,CAACS,0BAA0B,CAAC,4BAAM,EAAM,CAAC,EAC3F,CAAC,EACH,CAAC,cACN7I,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjD,IAAA,SAAMgD,SAAS,iBAAAhB,MAAA,CAAkBsG,IAAI,CAAChE,OAAO,CAAG,SAAS,CAAG,SAAS,CAAG,CAAArB,QAAA,CACrEqF,IAAI,CAAChE,OAAO,CAAG,IAAI,CAAG,KAAK,CACxB,CAAC,cACPtE,IAAA,WAAQgD,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEA,CAAA,GAAMsF,gBAAgB,CAACJ,IAAI,CAACL,OAAO,CAAE,CAAAhF,QAAA,cAChFjD,IAAA,CAAC3B,MAAM,EAAC6E,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GAhBEoF,IAAI,CAACL,OAiBV,CACN,CAAC,CACC,CACN,EACE,CAAC,CAELJ,WAAW,eACV7H,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAACI,OAAO,CAAEA,CAAA,GAAM0E,cAAc,CAAC,KAAK,CAAE,CAAA7E,QAAA,cAClE/C,KAAA,QAAK8C,SAAS,CAAC,qBAAqB,CAACI,OAAO,CAAEI,CAAC,EAAIA,CAAC,CAACwF,eAAe,CAAC,CAAE,CAAA/F,QAAA,eACrE/C,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjD,IAAA,OAAAiD,QAAA,CAAI,oDAAU,CAAI,CAAC,cACnBjD,IAAA,WAAQgD,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEA,CAAA,GAAM0E,cAAc,CAAC,KAAK,CAAE,CAAA7E,QAAA,cAChEjD,IAAA,CAACzB,CAAC,EAAC2E,IAAI,CAAE,EAAG,CAAE,CAAC,CACT,CAAC,EACN,CAAC,cACNhD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB/C,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,iBAAK,CAAO,CAAC,cACpBjD,IAAA,UACE6F,IAAI,CAAC,MAAM,CACXvC,KAAK,CAAEyE,OAAO,CAACE,OAAQ,CACvB1E,QAAQ,CAAGC,CAAC,EAAKwE,UAAU,CAAAjB,aAAA,CAAAA,aAAA,IAAMgB,OAAO,MAAEE,OAAO,CAAEzE,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACrEkE,WAAW,CAAC,WAAW,CACxB,CAAC,EACC,CAAC,cACNtH,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,mCAAQ,CAAO,CAAC,cACvBjD,IAAA,UACE6F,IAAI,CAAC,MAAM,CACXvC,KAAK,CAAEyE,OAAO,CAACG,MAAO,CACtB3E,QAAQ,CAAGC,CAAC,EAAKwE,UAAU,CAAAjB,aAAA,CAAAA,aAAA,IAAMgB,OAAO,MAAEG,MAAM,CAAE1E,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACpEkE,WAAW,CAAC,OAAO,CACpB,CAAC,EACC,CAAC,cACNtH,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpBjD,IAAA,UACE6F,IAAI,CAAC,QAAQ,CACbvC,KAAK,CAAEyE,OAAO,CAACI,eAAgB,CAC/B5E,QAAQ,CAAGC,CAAC,EAAKwE,UAAU,CAAAjB,aAAA,CAAAA,aAAA,IAAMgB,OAAO,MAAEI,eAAe,CAAErC,MAAM,CAACtC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAE,CAAE,CACrF2F,GAAG,CAAE,CAAE,CACR,CAAC,EACC,CAAC,cACNjJ,IAAA,QAAKgD,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClC/C,KAAA,UAAA+C,QAAA,eACEjD,IAAA,UACE6F,IAAI,CAAC,UAAU,CACfqD,OAAO,CAAEnB,OAAO,CAACzD,OAAQ,CACzBf,QAAQ,CAAGC,CAAC,EAAKwE,UAAU,CAAAjB,aAAA,CAAAA,aAAA,IAAMgB,OAAO,MAAEzD,OAAO,CAAEd,CAAC,CAACC,MAAM,CAACyF,OAAO,EAAE,CAAE,CACxE,CAAC,qBAEJ,EAAO,CAAC,CACL,CAAC,EACH,CAAC,cACNhJ,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjD,IAAA,WAAQgD,SAAS,CAAC,KAAK,CAACI,OAAO,CAAEA,CAAA,GAAM0E,cAAc,CAAC,KAAK,CAAE,CAAA7E,QAAA,CAAC,cAAE,CAAQ,CAAC,cACzEjD,IAAA,WAAQgD,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEqF,aAAc,CAAAxF,QAAA,CAAC,cAAE,CAAQ,CAAC,EACpE,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAkG,WAAW,CAAGC,KAAA,EAA+B,IAA9B,CAAE5I,UAAU,CAAEC,SAAU,CAAC,CAAA2I,KAAA,CACnD,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAG7L,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC8L,YAAY,CAAEC,eAAe,CAAC,CAAG/L,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAgM,UAAU,CAAG9L,WAAW,CAAC,gBAAgC,IAAzB,CAAA4D,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACxD,GAAI,CACF;AACA,GAAI,CAACD,YAAY,EAAI,CAAC8H,KAAK,CAAE,CAC3BtI,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,IAAM,IAAIQ,YAAY,CAAE,CACvBiI,eAAe,CAAC,IAAI,CAAC,CACvB,CACA,KAAM,CAAAtF,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,UAAQ,CAAC,CAC9E8I,QAAQ,CAACpF,GAAG,CAACjC,IAAI,CAACoH,KAAK,CAAC,CAC1B,CAAE,MAAOjH,KAAK,CAAE,CACd,GAAI,CAACb,YAAY,CAAE,CACjBd,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACjByI,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAAE,CAAChJ,UAAU,CAAEC,SAAS,CAAE4I,KAAK,CAAC,CAAC,CAElC3L,SAAS,CAAC,IAAM,CACd+L,UAAU,CAAC,KAAK,CAAC,CACjB;AACA,KAAM,CAAAC,QAAQ,CAAGC,WAAW,CAAC,IAAMF,UAAU,CAAC,IAAI,CAAC,CAAE,KAAK,CAAC,CAC3D,MAAO,IAAMG,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAAClJ,UAAU,CAAC,CAAC,CAAE;AAElB,GAAIM,OAAO,EAAI,CAACuI,KAAK,CAAE,CACrB,mBACEnJ,KAAA,QAAK8C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,MAAAiD,QAAA,CAAG,qCAAU,CAAG,CAAC,EACd,CAAC,CAEV,CAEA,GAAI,CAACoG,KAAK,CAAE,MAAO,KAAI,CAEvB,mBACEnJ,KAAA,QAAK8C,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC/C,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B/C,KAAA,OAAA+C,QAAA,eAAIjD,IAAA,CAAClB,SAAS,EAACoE,IAAI,CAAE,EAAG,CAAE,CAAC,6BAAM,EAAI,CAAC,CACrCqG,YAAY,eAAIvJ,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,wBAAwB,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,EACtE,CAAC,cAENhD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB/C,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEoG,KAAK,CAACQ,aAAa,CAAM,CAAC,cACvD7J,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,qBAAI,CAAK,CAAC,EACnC,CAAC,cACN/C,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEoG,KAAK,CAACS,aAAa,CAAM,CAAC,cACvD9J,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,EACjC,CAAC,cACN/C,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEoG,KAAK,CAACU,gBAAgB,CAAM,CAAC,cAC1D/J,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,qBAAI,CAAK,CAAC,EACnC,CAAC,cACN/C,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjD,IAAA,QAAKgD,SAAS,eAAAhB,MAAA,CAAgBqH,KAAK,CAACW,kBAAkB,CAAG,SAAS,CAAG,EAAE,CAAG,CAAA/G,QAAA,CACvEoG,KAAK,CAACW,kBAAkB,CAAG,IAAI,CAAG,KAAK,CACrC,CAAC,cACNhK,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,2BAAK,CAAK,CAAC,EACpC,CAAC,EACH,CAAC,CAELmE,MAAM,CAACC,IAAI,CAACgC,KAAK,CAACY,UAAU,CAAC,CAACxI,MAAM,CAAG,CAAC,eACvCvB,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,OAAAiD,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjBjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBmE,MAAM,CAACE,OAAO,CAAC+B,KAAK,CAACY,UAAU,CAAC,CAAC9G,GAAG,CAAC+G,KAAA,MAAC,CAACC,GAAG,CAAEC,KAAK,CAAC,CAAAF,KAAA,oBACjDhK,KAAA,QAAe8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACvC/C,KAAA,SAAM8C,SAAS,CAAC,KAAK,CAAAC,QAAA,EAAC,GAAC,CAACkH,GAAG,EAAO,CAAC,cACnCnK,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEmH,KAAK,CAAO,CAAC,GAF9BD,GAGL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CACN,cAEDjK,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,OAAAiD,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdjD,IAAA,QAAKgD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BmE,MAAM,CAACE,OAAO,CAAC+B,KAAK,CAACgB,iBAAiB,CAAC,CAAClH,GAAG,CAACmH,KAAA,MAAC,CAACC,KAAK,CAAEH,KAAK,CAAC,CAAAE,KAAA,oBAC1DpK,KAAA,QAAiB8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACpCjD,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEsH,KAAK,CAAO,CAAC,cACtCvK,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BjD,IAAA,QACEgD,SAAS,CAAC,KAAK,CACfwH,KAAK,CAAE,CACLC,KAAK,IAAAzI,MAAA,CAAMoI,KAAK,CAAGM,IAAI,CAACC,GAAG,CAACtB,KAAK,CAACQ,aAAa,CAAE,CAAC,CAAC,CAAI,GAAG,KAC5D,CAAE,CACH,CAAC,CACC,CAAC,cACN7J,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEmH,KAAK,CAAO,CAAC,GAV9BG,KAWL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAK,iBAAiB,CAAGC,KAAA,EAA+B,IAA9B,CAAErK,UAAU,CAAEC,SAAU,CAAC,CAAAoK,KAAA,CACzD,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGtN,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgJ,MAAM,CAAEC,SAAS,CAAC,CAAGjJ,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACuN,IAAI,CAAEC,OAAO,CAAC,CAAGxN,QAAQ,CAAC,YAAY,CAAC,CAC9C,KAAM,CAACyN,QAAQ,CAAEC,WAAW,CAAC,CAAG1N,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC2N,YAAY,CAAEC,eAAe,CAAC,CAAG5N,QAAQ,CAAC,MAAM,CAAC,CAExD,KAAM,CAAA6N,WAAW,CAAG3N,WAAW,CAAC,SAAY,CAC1C,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAmD,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,gBAAc,CAAC,CACpFuK,SAAS,CAAC7G,GAAG,CAACjC,IAAI,CAAC,CACnB,GAAIiC,GAAG,CAACjC,IAAI,CAAC+I,IAAI,CAAEC,OAAO,CAAC/G,GAAG,CAACjC,IAAI,CAAC+I,IAAI,CAAC,CACzC,GAAI9G,GAAG,CAACjC,IAAI,CAACiJ,QAAQ,CAAEC,WAAW,CAACjH,GAAG,CAACjC,IAAI,CAACiJ,QAAQ,CAAC,CACrD,GAAIhH,GAAG,CAACjC,IAAI,CAACsJ,aAAa,CAAEF,eAAe,CAACnH,GAAG,CAACjC,IAAI,CAACsJ,aAAa,CAAC,CACrE,CAAE,MAAOnJ,KAAK,CAAE,CACd3B,SAAS,CAAC,gBAAgB,CAAE,OAAO,CAAC,CACtC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACd4N,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAnE,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFT,SAAS,CAAC,IAAI,CAAC,CACf,KAAM,CAAA9I,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,iBAAgB,CACvEwK,IAAI,CACJE,QAAQ,CACRK,aAAa,CAAEH,YACjB,CAAC,CAAC,CACF3K,SAAS,CAAC,mBAAmB,CAAC,CAC9B6K,WAAW,CAAC,CAAC,CACf,CAAE,MAAOlJ,KAAK,CAAE,KAAAoJ,eAAA,CAAAC,oBAAA,CACdhL,SAAS,CAAC,EAAA+K,eAAA,CAAApJ,KAAK,CAACsJ,QAAQ,UAAAF,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBvJ,IAAI,UAAAwJ,oBAAA,iBAApBA,oBAAA,CAAsBE,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CAAC,OAAS,CACRjF,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,GAAI5F,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,SAAAiD,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BjD,IAAA,CAACf,IAAI,EAACiE,IAAI,CAAE,EAAG,CAAE,CAAC,cAClBlD,IAAA,OAAAiD,QAAA,CAAI,yCAAmB,CAAI,CAAC,EACzB,CAAC,CAEL,EAAC6H,MAAM,SAANA,MAAM,WAANA,MAAM,CAAExG,OAAO,eACfpE,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BjD,IAAA,CAACtB,WAAW,EAACwE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzBhD,KAAA,QAAA+C,QAAA,eACEjD,IAAA,WAAAiD,QAAA,CAAQ,oDAAU,CAAQ,CAAC,cAC3BjD,IAAA,MAAAiD,QAAA,CAAG,iOAAgD,CAAG,CAAC,EACpD,CAAC,EACH,CAAC,cAEN/C,KAAA,CAAAE,SAAA,EAAA6C,QAAA,eACE/C,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BjD,IAAA,CAACvB,WAAW,EAACyE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzBlD,IAAA,SAAAiD,QAAA,CAAM,yFAAiB,CAAM,CAAC,EAC3B,CAAC,cAEN/C,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjD,IAAA,OAAAiD,QAAA,CAAI,wCAAQ,CAAI,CAAC,cAEjB/C,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB/C,KAAA,WAAQoD,KAAK,CAAE0H,IAAK,CAACzH,QAAQ,CAAGC,CAAC,EAAKyH,OAAO,CAACzH,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAC5DjD,IAAA,WAAQsD,KAAK,CAAC,YAAY,CAAAL,QAAA,CAAC,2DAAsB,CAAQ,CAAC,cAC1DjD,IAAA,WAAQsD,KAAK,CAAC,YAAY,CAAAL,QAAA,CAAC,wCAAkB,CAAQ,CAAC,EAChD,CAAC,cACTjD,IAAA,SAAMgD,SAAS,CAAC,MAAM,CAAAC,QAAA,CACnB+H,IAAI,GAAK,YAAY,CAClB,eAAe,CACf,mBAAmB,CACnB,CAAC,EACJ,CAAC,cAEN9K,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB/C,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpBjD,IAAA,UACE6F,IAAI,CAAC,QAAQ,CACboD,GAAG,CAAC,GAAG,CACP3F,KAAK,CAAE4H,QAAS,CAChB3H,QAAQ,CAAGC,CAAC,EAAK2H,WAAW,CAACS,QAAQ,CAACpI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAI,CAAC,CAAE,CAC7D,CAAC,EACC,CAAC,cACNpD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,cAAE,CAAO,CAAC,cACjB/C,KAAA,WAAQoD,KAAK,CAAE8H,YAAa,CAAC7H,QAAQ,CAAGC,CAAC,EAAK6H,eAAe,CAAC7H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAC5EjD,IAAA,WAAQsD,KAAK,CAAC,MAAM,CAAAL,QAAA,CAAC,QAAC,CAAQ,CAAC,cAC/BjD,IAAA,WAAQsD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,QAAC,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,EACH,CAAC,cAEN/C,KAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE+D,UAAW,CAAC3C,QAAQ,CAAEiC,MAAO,CAAAxD,QAAA,EACvEwD,MAAM,cAAGzG,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGlD,IAAA,CAAC5B,IAAI,EAAC8E,IAAI,CAAE,EAAG,CAAE,CAAC,CAAC,cAExE,EAAQ,CAAC,EACN,CAAC,EACN,CACH,EACE,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAA2I,UAAU,CAAGC,KAAA,EAAmB,IAAlB,CAAErL,SAAU,CAAC,CAAAqL,KAAA,CACtC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGvO,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACwO,QAAQ,CAAEC,WAAW,CAAC,CAAGzO,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC0O,WAAW,CAAEC,cAAc,CAAC,CAAG3O,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC4O,OAAO,CAAEC,UAAU,CAAC,CAAG7O,QAAQ,CAAC,CAAE8O,UAAU,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAE9L,MAAM,CAAE,WAAY,CAAC,CAAC,CAC/F,KAAM,CAAC+L,WAAW,CAAEC,cAAc,CAAC,CAAGjP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAElD,KAAM,CAAAkP,UAAU,CAAGhP,WAAW,CAAC,SAAY,CACzC,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAC6L,QAAQ,CAAEC,WAAW,CAAC,CAAG,KAAM,CAAAhL,OAAO,CAACC,GAAG,CAAC,CAChDlE,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAoB,CAAC,CAC1CzC,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,yBAAuB,CAAC,CAC9C,CAAC,CACF2L,QAAQ,CAACY,QAAQ,CAAC3K,IAAI,CAAC8J,KAAK,EAAI,EAAE,CAAC,CACnCG,WAAW,CAACW,WAAW,CAAC5K,IAAI,CAACgK,QAAQ,EAAI,EAAE,CAAC,CAC9C,CAAE,MAAO7J,KAAK,CAAE,CACd;AACA,GAAI,CACF,KAAM,CAAA8B,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,kBAAgB,CAAC,CACxD2L,QAAQ,CAAC9H,GAAG,CAACjC,IAAI,CAAC8J,KAAK,EAAI,EAAE,CAAC,CAC9BG,WAAW,CAAC,CAAC,UAAU,CAAE,WAAW,CAAE,WAAW,CAAE,cAAc,CAAC,CAAC,CACrE,CAAE,MAAO1I,CAAC,CAAE,CACV/C,SAAS,CAAC,cAAc,CAAE,OAAO,CAAC,CACpC,CACF,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACN,SAAS,CAAC,CAAC,CAEf/C,SAAS,CAAC,IAAM,CACdiP,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAG,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CAACT,OAAO,CAACE,UAAU,EAAI,CAACF,OAAO,CAACG,UAAU,CAAE,CAC9C/L,SAAS,CAAC,+BAA+B,CAAE,OAAO,CAAC,CACnD,OACF,CACA,GAAI4L,OAAO,CAACG,UAAU,CAAC/K,MAAM,CAAG,CAAC,CAAE,CACjChB,SAAS,CAAC,0BAA0B,CAAE,OAAO,CAAC,CAC9C,OACF,CAEA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAACyH,IAAI,IAAArD,MAAA,CAAI3B,QAAQ,uBAAsBgM,OAAO,CAAC,CAC1D5L,SAAS,wBAAAuB,MAAA,CAASqK,OAAO,CAACE,UAAU,sDAAY,CAAC,CACjDH,cAAc,CAAC,KAAK,CAAC,CACrBE,UAAU,CAAC,CAAEC,UAAU,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAE9L,MAAM,CAAE,WAAY,CAAC,CAAC,CACnEiM,UAAU,CAAC,CAAC,CACd,CAAE,MAAOvK,KAAK,CAAE,KAAA2K,gBAAA,CAAAC,qBAAA,CACdvM,SAAS,CAAC,EAAAsM,gBAAA,CAAA3K,KAAK,CAACsJ,QAAQ,UAAAqB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB9K,IAAI,UAAA+K,qBAAA,iBAApBA,qBAAA,CAAsBrB,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAAsB,gBAAgB,CAAG,KAAO,CAAAC,SAAS,EAAK,CAC5C,GAAI,CAACC,MAAM,CAACC,OAAO,KAAApL,MAAA,CAAKkL,SAAS,gFAAkB,CAAC,CAAE,OAEtD,GAAI,CACF,KAAM,CAAAtP,KAAK,CAAC2E,MAAM,IAAAP,MAAA,CAAI3B,QAAQ,wBAAA2B,MAAA,CAAsBkL,SAAS,CAAE,CAAC,CAChEzM,SAAS,wBAAAuB,MAAA,CAASkL,SAAS,sDAAY,CAAC,CACxCP,UAAU,CAAC,CAAC,CACd,CAAE,MAAOvK,KAAK,CAAE,KAAAiL,gBAAA,CAAAC,qBAAA,CACd7M,SAAS,CAAC,EAAA4M,gBAAA,CAAAjL,KAAK,CAACsJ,QAAQ,UAAA2B,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBpL,IAAI,UAAAqL,qBAAA,iBAApBA,qBAAA,CAAsB3B,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAA4B,kBAAkB,CAAG,KAAAA,CAAOL,SAAS,CAAEM,aAAa,GAAK,CAC7D,KAAM,CAAAlJ,OAAO,CAAGkJ,aAAa,GAAK,SAAS,CAC3C,GAAI,CACF,KAAM,CAAA5P,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,wBAAA2B,MAAA,CAAsBkL,SAAS,qBAAAlL,MAAA,CAAmBsC,OAAO,CAAE,CAAC,CACvF7D,SAAS,6BAAAuB,MAAA,CAASsC,OAAO,CAAG,KAAK,CAAG,MAAM,kCAAO,CAAC,CAClDqI,UAAU,CAAC,CAAC,CACd,CAAE,MAAOvK,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAgN,kBAAkB,CAAG,KAAAA,CAAOP,SAAS,CAAExM,MAAM,GAAK,CACtD,GAAI,CACF,KAAM,CAAA9C,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,wBAAA2B,MAAA,CAAsBkL,SAAS,oBAAAlL,MAAA,CAAkBtB,MAAM,CAAE,CAAC,CACrFD,SAAS,wBAAAuB,MAAA,CAAStB,MAAM,sDAAY,CAAC,CACrCiM,UAAU,CAAC,CAAC,CACd,CAAE,MAAOvK,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,GAAIK,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,SAAAiD,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BjD,IAAA,CAACd,KAAK,EAACgE,IAAI,CAAE,EAAG,CAAE,CAAC,cACnBlD,IAAA,OAAAiD,QAAA,CAAI,qCAAU,CAAI,CAAC,cACnB/C,KAAA,WAAQ8C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEA,CAAA,GAAMgJ,cAAc,CAAC,IAAI,CAAE,CAAAnJ,QAAA,eAC7EjD,IAAA,CAACb,QAAQ,EAAC+D,IAAI,CAAE,EAAG,CAAE,CAAC,kCAExB,EAAQ,CAAC,EACN,CAAC,CAELiJ,WAAW,eACVjM,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,OAAAiD,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjB/C,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB/C,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,YAAU,CAAO,CAAC,cACzBjD,IAAA,UACE6F,IAAI,CAAC,MAAM,CACX2B,WAAW,CAAC,uBAAQ,CACpBlE,KAAK,CAAE+I,OAAO,CAACE,UAAW,CAC1BhJ,QAAQ,CAAGC,CAAC,EAAK8I,UAAU,CAAAvF,aAAA,CAAAA,aAAA,IAAMsF,OAAO,MAAEE,UAAU,CAAE/I,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACzE,CAAC,EACC,CAAC,cACNpD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,YAAU,CAAO,CAAC,cACzBjD,IAAA,UACE6F,IAAI,CAAC,UAAU,CACf2B,WAAW,CAAC,iDAAc,CAC1BlE,KAAK,CAAE+I,OAAO,CAACG,UAAW,CAC1BjJ,QAAQ,CAAGC,CAAC,EAAK8I,UAAU,CAAAvF,aAAA,CAAAA,aAAA,IAAMsF,OAAO,MAAEG,UAAU,CAAEhJ,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACzE,CAAC,EACC,CAAC,cACNpD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,cAAE,CAAO,CAAC,cACjBjD,IAAA,WACEsD,KAAK,CAAE+I,OAAO,CAAC3L,MAAO,CACtB6C,QAAQ,CAAGC,CAAC,EAAK8I,UAAU,CAAAvF,aAAA,CAAAA,aAAA,IAAMsF,OAAO,MAAE3L,MAAM,CAAE8C,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAAL,QAAA,CAEnEgJ,QAAQ,CAAC9I,GAAG,CAAEuK,CAAC,eACd1N,IAAA,WAAgBsD,KAAK,CAAEoK,CAAE,CAAAzK,QAAA,CAAEyK,CAAC,EAAfA,CAAwB,CACtC,CAAC,CACI,CAAC,EACN,CAAC,EACH,CAAC,cACNxN,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B/C,KAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE0J,gBAAiB,CAAA7J,QAAA,eAC5DjD,IAAA,CAACb,QAAQ,EAAC+D,IAAI,CAAE,EAAG,CAAE,CAAC,eAExB,EAAQ,CAAC,cACTlD,IAAA,WAAQgD,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMgJ,cAAc,CAAC,KAAK,CAAE,CAAAnJ,QAAA,CAAC,cAE5E,CAAQ,CAAC,EACN,CAAC,EACH,CACN,cAEDjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB8I,KAAK,CAACtK,MAAM,GAAK,CAAC,cACjBvB,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACd,KAAK,EAACgE,IAAI,CAAE,EAAG,CAAE,CAAC,cACnBlD,IAAA,MAAAiD,QAAA,CAAG,sEAAa,CAAG,CAAC,EACjB,CAAC,cAEN/C,KAAA,UAAO8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5BjD,IAAA,UAAAiD,QAAA,cACE/C,KAAA,OAAA+C,QAAA,eACEjD,IAAA,OAAAiD,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBjD,IAAA,OAAAiD,QAAA,CAAI,cAAE,CAAI,CAAC,cACXjD,IAAA,OAAAiD,QAAA,CAAI,cAAE,CAAI,CAAC,cACXjD,IAAA,OAAAiD,QAAA,CAAI,cAAE,CAAI,CAAC,EACT,CAAC,CACA,CAAC,cACRjD,IAAA,UAAAiD,QAAA,CACG8I,KAAK,CAAC5I,GAAG,CAAEwK,IAAI,eACdzN,KAAA,OAAA+C,QAAA,eACE/C,KAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxBjD,IAAA,CAACX,GAAG,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,cACjBlD,IAAA,SAAAiD,QAAA,CAAO0K,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAO,CAAC,CAC/C,CAACoB,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAO,eAC9CvM,IAAA,SAAMgD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,oBAAG,CAAM,CACxC,EACC,CAAC,cACLjD,IAAA,OAAAiD,QAAA,cACEjD,IAAA,WACEsD,KAAK,CAAEqK,IAAI,CAACC,UAAU,EAAID,IAAI,CAACjN,MAAM,EAAI,WAAY,CACrD6C,QAAQ,CAAGC,CAAC,EAAKiK,kBAAkB,CAACE,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAE/I,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACvFkB,QAAQ,CAAE,CAACmJ,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAQ,CAAAtJ,QAAA,CAEzDgJ,QAAQ,CAAC9I,GAAG,CAAEuK,CAAC,eACd1N,IAAA,WAAgBsD,KAAK,CAAEoK,CAAE,CAAAzK,QAAA,CAAEyK,CAAC,EAAfA,CAAwB,CACtC,CAAC,CACI,CAAC,CACP,CAAC,cACL1N,IAAA,OAAAiD,QAAA,cACEjD,IAAA,WACEgD,SAAS,kBAAAhB,MAAA,CAAmB,CAAC2L,IAAI,CAACE,UAAU,EAAIF,IAAI,CAACtJ,MAAM,IAAM,SAAS,CAAG,SAAS,CAAG,UAAU,CAAG,CACtGjB,OAAO,CAAEA,CAAA,GAAMmK,kBAAkB,CAACI,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAEoB,IAAI,CAACE,UAAU,EAAIF,IAAI,CAACtJ,MAAM,CAAE,CACrGG,QAAQ,CAAE,CAACmJ,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAQ,CAAAtJ,QAAA,CAEzD,CAAC0K,IAAI,CAACE,UAAU,EAAIF,IAAI,CAACtJ,MAAM,IAAM,SAAS,cAC7CnE,KAAA,CAAAE,SAAA,EAAA6C,QAAA,eAAEjD,IAAA,CAACP,WAAW,EAACyD,IAAI,CAAE,EAAG,CAAE,CAAC,gBAAG,EAAE,CAAC,cAEjChD,KAAA,CAAAE,SAAA,EAAA6C,QAAA,eAAEjD,IAAA,CAACR,UAAU,EAAC0D,IAAI,CAAE,EAAG,CAAE,CAAC,sBAAI,EAAE,CACjC,CACK,CAAC,CACP,CAAC,cACLlD,IAAA,OAAAiD,QAAA,cACEjD,IAAA,WACEgD,SAAS,CAAC,uBAAuB,CACjCI,OAAO,CAAEA,CAAA,GAAM6J,gBAAgB,CAACU,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,CAAE,CACnE/H,QAAQ,CAAE,CAACmJ,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UAAU,IAAM,OAAQ,CAC1DuB,KAAK,CAAC,cAAI,CAAA7K,QAAA,cAEVjD,IAAA,CAACZ,SAAS,EAAC8D,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,CACP,CAAC,GAzCEyK,IAAI,CAACT,SAAS,EAAIS,IAAI,CAACpB,UA0C5B,CACL,CAAC,CACG,CAAC,EACH,CACR,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAwB,uBAAuB,CAAGC,MAAA,EAA+B,IAA9B,CAAExN,UAAU,CAAEC,SAAU,CAAC,CAAAuN,MAAA,CAC/D,KAAM,CAACjC,KAAK,CAAEC,QAAQ,CAAC,CAAGvO,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACwQ,QAAQ,CAAEC,WAAW,CAAC,CAAGzQ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC0O,WAAW,CAAEC,cAAc,CAAC,CAAG3O,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC0Q,aAAa,CAAEC,gBAAgB,CAAC,CAAG3Q,QAAQ,CAAC,CAAEkQ,IAAI,CAAE,EAAE,CAAEU,MAAM,CAAE,MAAM,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC9F,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG/Q,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACgR,UAAU,CAAEC,aAAa,CAAC,CAAGjR,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAkR,SAAS,CAAGhR,WAAW,CAAC,SAAY,CACxC,GAAI,KAAAiR,cAAA,CACF7N,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAC6L,QAAQ,CAAEiC,WAAW,CAAEC,QAAQ,CAAC,CAAG,KAAM,CAAAjN,OAAO,CAACC,GAAG,CAAC,CAC1DlE,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,UAAQ,CAAC,CAC5D5C,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAoB,CAAC,CAAC0O,KAAK,CAAC,KAAO,CAAE9M,IAAI,CAAE,CAAE8J,KAAK,CAAE,EAAG,CAAE,CAAC,CAAC,CAAC,CACjFnO,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,UAAQ,CAAC,CAACuO,KAAK,CAAC,KAAO,CAAE9M,IAAI,CAAE,IAAK,CAAC,CAAC,CAAC,CAC3F,CAAC,CACF+J,QAAQ,CAACY,QAAQ,CAAC3K,IAAI,CAAC8J,KAAK,EAAI,EAAE,CAAC,CACnCmC,WAAW,CAACW,WAAW,CAAC5M,IAAI,CAAC8J,KAAK,EAAI,EAAE,CAAC,CACzCyC,cAAc,CAACM,QAAQ,CAAC7M,IAAI,CAAC,CAC7B,IAAA2M,cAAA,CAAIE,QAAQ,CAAC7M,IAAI,UAAA2M,cAAA,WAAbA,cAAA,CAAeI,WAAW,CAAE,CAC9BN,aAAa,CAAC,CAACI,QAAQ,CAAC7M,IAAI,CAAC+M,WAAW,EAAI,IAAI,CAAG,IAAI,CAAG,IAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC9E,CACF,CAAE,MAAO7M,KAAK,CAAE,CACd3B,SAAS,CAAC,iBAAiB,CAAE,OAAO,CAAC,CACvC,CAAC,OAAS,CACRM,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,UAAU,CAAEC,SAAS,CAAC,CAAC,CAE3B/C,SAAS,CAAC,IAAM,CACdiR,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAO,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CAACf,aAAa,CAACR,IAAI,CAAE,CACvBlN,SAAS,CAAC,YAAY,CAAE,OAAO,CAAC,CAChC,OACF,CAEA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAACyH,IAAI,IAAArD,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,WAAU,CAClEmN,IAAI,CAAEQ,aAAa,CAACR,IAAI,CACxBU,MAAM,CAAEF,aAAa,CAACE,MAAM,CAC5BC,QAAQ,CAAEH,aAAa,CAACG,QAAQ,CAAGa,UAAU,CAAChB,aAAa,CAACG,QAAQ,CAAC,CAAG,IAC1E,CAAC,CAAC,CACF7N,SAAS,KAAAuB,MAAA,CAAKmM,aAAa,CAACR,IAAI,4FAAoB,CAAC,CACrDvB,cAAc,CAAC,KAAK,CAAC,CACrBgC,gBAAgB,CAAC,CAAET,IAAI,CAAE,EAAE,CAAEU,MAAM,CAAE,MAAM,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC5DK,SAAS,CAAC,CAAC,CACb,CAAE,MAAOvM,KAAK,CAAE,KAAAgN,gBAAA,CAAAC,qBAAA,CACd5O,SAAS,CAAC,EAAA2O,gBAAA,CAAAhN,KAAK,CAACsJ,QAAQ,UAAA0D,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBnN,IAAI,UAAAoN,qBAAA,iBAApBA,qBAAA,CAAsB1D,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAA2D,gBAAgB,CAAG,KAAO,CAAA3B,IAAI,EAAK,CACvC,GAAI,CAACR,MAAM,CAACC,OAAO,KAAApL,MAAA,CAAK2L,IAAI,6FAAqB,CAAC,CAAE,OAEpD,GAAI,CACF,KAAM,CAAA/P,KAAK,CAAC2E,MAAM,IAAAP,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,YAAAwB,MAAA,CAAU2L,IAAI,CAAE,CAAC,CAC7ElN,SAAS,KAAAuB,MAAA,CAAK2L,IAAI,sFAAmB,CAAC,CACtCgB,SAAS,CAAC,CAAC,CACb,CAAE,MAAOvM,KAAK,CAAE,KAAAmN,gBAAA,CAAAC,qBAAA,CACd/O,SAAS,CAAC,EAAA8O,gBAAA,CAAAnN,KAAK,CAACsJ,QAAQ,UAAA6D,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBtN,IAAI,UAAAuN,qBAAA,iBAApBA,qBAAA,CAAsB7D,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAA8D,kBAAkB,CAAG,KAAAA,CAAO9B,IAAI,CAAEU,MAAM,GAAK,CACjD,GAAI,CACF,KAAM,CAAAqB,YAAY,CAAG3D,KAAK,CAAC4D,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACjC,IAAI,GAAKA,IAAI,CAAC,CACrD,KAAM,CAAA/P,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,YAAAwB,MAAA,CAAU2L,IAAI,EAAI,CACzEA,IAAI,CACJU,MAAM,CACNC,QAAQ,CAAEoB,YAAY,SAAZA,YAAY,WAAZA,YAAY,CAAEV,WAAW,CAAGU,YAAY,CAACV,WAAW,EAAI,IAAI,CAAG,IAAI,CAAG,IAAI,CAAC,CAAG,IAC1F,CAAC,CAAC,CACFvO,SAAS,CAAC,gBAAgB,CAAC,CAC3BkO,SAAS,CAAC,CAAC,CACb,CAAE,MAAOvM,KAAK,CAAE,CACd3B,SAAS,CAAC,UAAU,CAAE,OAAO,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAoP,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACpB,UAAU,CAAE,CACfhO,SAAS,CAAC,YAAY,CAAE,OAAO,CAAC,CAChC,OACF,CAEA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,sBAAA2B,MAAA,CAAoBxB,UAAU,qBAAAwB,MAAA,CAAmBmN,UAAU,CAACV,UAAU,CAAC,CAAE,CAAC,CACrGhO,SAAS,0CAAAuB,MAAA,CAAYyM,UAAU,uDAAa,CAAC,CAC7CE,SAAS,CAAC,CAAC,CACb,CAAE,MAAOvM,KAAK,CAAE,KAAA0N,gBAAA,CAAAC,qBAAA,CACdtP,SAAS,CAAC,EAAAqP,gBAAA,CAAA1N,KAAK,CAACsJ,QAAQ,UAAAoE,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB7N,IAAI,UAAA8N,qBAAA,iBAApBA,qBAAA,CAAsBpE,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,GAAI7K,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,SAAAiD,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAEpC/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BjD,IAAA,CAACN,SAAS,EAACwD,IAAI,CAAE,EAAG,CAAE,CAAC,cACvBlD,IAAA,OAAAiD,QAAA,CAAI,iCAAM,CAAI,CAAC,EACZ,CAAC,cACN/C,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB,CAAAsL,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEyB,WAAW,gBACvB9P,KAAA,SAAA+C,QAAA,EAAM,gBAAI,CAACsL,WAAW,CAAC0B,UAAU,CAAC,KAAG,CAAC1B,WAAW,CAACyB,WAAW,EAAO,CACrE,CACE,CAAC,cACN9P,KAAA,QAAK8C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BjD,IAAA,UACE6F,IAAI,CAAC,QAAQ,CACbqK,IAAI,CAAC,KAAK,CACVjH,GAAG,CAAC,KAAK,CACTzB,WAAW,CAAC,yBAAU,CACtBlE,KAAK,CAAEmL,UAAW,CAClBlL,QAAQ,CAAGC,CAAC,EAAKkL,aAAa,CAAClL,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cACFtD,IAAA,SAAMgD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,cAChCjD,IAAA,WAAQgD,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEyM,cAAe,CAAA5M,QAAA,CAAC,cAEpE,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGN/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAACwH,KAAK,CAAE,CAAE2F,SAAS,CAAE,MAAO,CAAE,CAAAlN,QAAA,eAC3DjD,IAAA,CAACd,KAAK,EAACgE,IAAI,CAAE,EAAG,CAAE,CAAC,cACnBlD,IAAA,OAAAiD,QAAA,CAAI,8CAAS,CAAI,CAAC,cAClB/C,KAAA,WAAQ8C,SAAS,CAAC,wBAAwB,CAACI,OAAO,CAAEA,CAAA,GAAMgJ,cAAc,CAAC,IAAI,CAAE,CAAAnJ,QAAA,eAC7EjD,IAAA,CAACb,QAAQ,EAAC+D,IAAI,CAAE,EAAG,CAAE,CAAC,eAExB,EAAQ,CAAC,EACN,CAAC,CAELiJ,WAAW,eACVjM,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,OAAAiD,QAAA,CAAI,8CAAS,CAAI,CAAC,cAClB/C,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB/C,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,oBAAG,CAAO,CAAC,cAClB/C,KAAA,WACEoD,KAAK,CAAE6K,aAAa,CAACR,IAAK,CAC1BpK,QAAQ,CAAGC,CAAC,EAAK4K,gBAAgB,CAAArH,aAAA,CAAAA,aAAA,IAAMoH,aAAa,MAAER,IAAI,CAAEnK,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAAL,QAAA,eAE9EjD,IAAA,WAAQsD,KAAK,CAAC,EAAE,CAAAL,QAAA,CAAC,iBAAK,CAAQ,CAAC,cAC/BjD,IAAA,WAAQsD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,OAAK,CAAQ,CAAC,CACnCgL,QAAQ,CAAC9K,GAAG,CAAEyM,CAAC,eACd5P,IAAA,WAA0CsD,KAAK,CAAEsM,CAAC,CAAC1C,SAAS,EAAI0C,CAAC,CAACrD,UAAW,CAAAtJ,QAAA,CAC1E2M,CAAC,CAAC1C,SAAS,EAAI0C,CAAC,CAACrD,UAAU,EADjBqD,CAAC,CAAC1C,SAAS,EAAI0C,CAAC,CAACrD,UAEtB,CACT,CAAC,EACI,CAAC,EACN,CAAC,cACNrM,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpB/C,KAAA,WACEoD,KAAK,CAAE6K,aAAa,CAACE,MAAO,CAC5B9K,QAAQ,CAAGC,CAAC,EAAK4K,gBAAgB,CAAArH,aAAA,CAAAA,aAAA,IAAMoH,aAAa,MAAEE,MAAM,CAAE7K,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CAAAL,QAAA,eAEhFjD,IAAA,WAAQsD,KAAK,CAAC,MAAM,CAAAL,QAAA,CAAC,cAAE,CAAQ,CAAC,cAChCjD,IAAA,WAAQsD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,2BAAK,CAAQ,CAAC,cACpCjD,IAAA,WAAQsD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,oBAAG,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,cACN/C,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjD,IAAA,UAAAiD,QAAA,CAAO,sCAAW,CAAO,CAAC,cAC1BjD,IAAA,UACE6F,IAAI,CAAC,QAAQ,CACbqK,IAAI,CAAC,KAAK,CACVjH,GAAG,CAAC,GAAG,CACPzB,WAAW,CAAC,oBAAK,CACjBlE,KAAK,CAAE6K,aAAa,CAACG,QAAS,CAC9B/K,QAAQ,CAAGC,CAAC,EAAK4K,gBAAgB,CAAArH,aAAA,CAAAA,aAAA,IAAMoH,aAAa,MAAEG,QAAQ,CAAE9K,CAAC,CAACC,MAAM,CAACH,KAAK,EAAE,CAAE,CACnF,CAAC,EACC,CAAC,EACH,CAAC,cACNpD,KAAA,QAAK8C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B/C,KAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE8L,aAAc,CAAAjM,QAAA,eACzDjD,IAAA,CAACb,QAAQ,EAAC+D,IAAI,CAAE,EAAG,CAAE,CAAC,eAExB,EAAQ,CAAC,cACTlD,IAAA,WAAQgD,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMgJ,cAAc,CAAC,KAAK,CAAE,CAAAnJ,QAAA,CAAC,cAE5E,CAAQ,CAAC,EACN,CAAC,EACH,CACN,cAEDjD,IAAA,QAAKgD,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB8I,KAAK,CAACtK,MAAM,GAAK,CAAC,cACjBvB,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACd,KAAK,EAACgE,IAAI,CAAE,EAAG,CAAE,CAAC,cACnBlD,IAAA,MAAAiD,QAAA,CAAG,gIAA0B,CAAG,CAAC,EAC9B,CAAC,cAEN/C,KAAA,UAAO8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5BjD,IAAA,UAAAiD,QAAA,cACE/C,KAAA,OAAA+C,QAAA,eACEjD,IAAA,OAAAiD,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZjD,IAAA,OAAAiD,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdjD,IAAA,OAAAiD,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZjD,IAAA,OAAAiD,QAAA,CAAI,cAAE,CAAI,CAAC,EACT,CAAC,CACA,CAAC,cACRjD,IAAA,UAAAiD,QAAA,CACG8I,KAAK,CAAC5I,GAAG,CAAEwK,IAAI,eACdzN,KAAA,OAAA+C,QAAA,eACE/C,KAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxBjD,IAAA,CAACX,GAAG,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,cACjBlD,IAAA,SAAAiD,QAAA,CAAO0K,IAAI,CAACA,IAAI,CAAO,CAAC,EACtB,CAAC,cACL3N,IAAA,OAAAiD,QAAA,cACE/C,KAAA,WACEoD,KAAK,CAAEqK,IAAI,CAACU,MAAO,CACnB9K,QAAQ,CAAGC,CAAC,EAAKiM,kBAAkB,CAAC9B,IAAI,CAACA,IAAI,CAAEnK,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAL,QAAA,eAE/DjD,IAAA,WAAQsD,KAAK,CAAC,MAAM,CAAAL,QAAA,CAAC,cAAE,CAAQ,CAAC,cAChCjD,IAAA,WAAQsD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,2BAAK,CAAQ,CAAC,cACpCjD,IAAA,WAAQsD,KAAK,CAAC,OAAO,CAAAL,QAAA,CAAC,oBAAG,CAAQ,CAAC,EAC5B,CAAC,CACP,CAAC,cACLjD,IAAA,OAAAiD,QAAA,CACG0K,IAAI,CAACqC,WAAW,EAAI,KAAK,CACxB,CAAC,cACLhQ,IAAA,OAAAiD,QAAA,cACEjD,IAAA,WACEgD,SAAS,CAAC,uBAAuB,CACjCI,OAAO,CAAEA,CAAA,GAAMkM,gBAAgB,CAAC3B,IAAI,CAACA,IAAI,CAAE,CAC3CG,KAAK,CAAC,cAAI,CAAA7K,QAAA,cAEVjD,IAAA,CAACZ,SAAS,EAAC8D,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,CACP,CAAC,GA1BEyK,IAAI,CAACA,IA2BV,CACL,CAAC,CACG,CAAC,EACH,CACR,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAyC,eAAe,CAAGC,MAAA,EAAmB,IAAlB,CAAE5P,SAAU,CAAC,CAAA4P,MAAA,CAC3C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG9S,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAC+S,cAAc,CAAEC,iBAAiB,CAAC,CAAGhT,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACiT,SAAS,CAAEC,YAAY,CAAC,CAAGlT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACmT,cAAc,CAAEC,iBAAiB,CAAC,CAAGpT,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACqT,eAAe,CAAEC,kBAAkB,CAAC,CAAGtT,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACuT,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGxT,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACyT,eAAe,CAAEC,kBAAkB,CAAC,CAAG1T,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC2T,UAAU,CAAEC,aAAa,CAAC,CAAG5T,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6T,UAAU,CAAEC,aAAa,CAAC,CAAG9T,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAC+T,YAAY,CAAEC,eAAe,CAAC,CAAGhU,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAkR,SAAS,CAAGhR,WAAW,CAAC,SAAY,CACxC,GAAI,CACFoD,UAAU,CAAC,IAAI,CAAC,CAChB0Q,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAACC,SAAS,CAAEC,UAAU,CAAC,CAAG,KAAM,CAAA9P,OAAO,CAACC,GAAG,CAAC,CAChDlE,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,oBAAkB,CAAC,CACxCzC,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,qBAAmB,CAAC,CAC1C,CAAC,CACFwQ,iBAAiB,CAACa,SAAS,CAACzP,IAAI,CAAC,CACjCsO,UAAU,CAACoB,UAAU,CAAC1P,IAAI,CAACqO,OAAO,EAAI,EAAE,CAAC,CAC3C,CAAE,MAAOlO,KAAK,CAAE,KAAAwP,gBAAA,CAAAC,gBAAA,CAAAC,cAAA,CACd;AACA,GAAI,EAAAF,gBAAA,CAAAxP,KAAK,CAACsJ,QAAQ,UAAAkG,gBAAA,iBAAdA,gBAAA,CAAgBvN,MAAM,IAAK,GAAG,EAAI,EAAAwN,gBAAA,CAAAzP,KAAK,CAACsJ,QAAQ,UAAAmG,gBAAA,iBAAdA,gBAAA,CAAgBxN,MAAM,IAAK,GAAG,EAChEjC,KAAK,CAAC2P,IAAI,GAAK,aAAa,GAAAD,cAAA,CAAI1P,KAAK,CAAC4P,OAAO,UAAAF,cAAA,WAAbA,cAAA,CAAeG,QAAQ,CAAC,eAAe,CAAC,CAAE,CAC5EpB,iBAAiB,CAAC,CAAEqB,SAAS,CAAE,KAAM,CAAC,CAAC,CACvCT,eAAe,CAAC,IAAI,CAAC,CAAE;AACzB,CAAC,IAAM,KAAAU,gBAAA,CAAAC,qBAAA,CACLvB,iBAAiB,CAAC,CAAEqB,SAAS,CAAE,KAAM,CAAC,CAAC,CACvCT,eAAe,CAAC,EAAAU,gBAAA,CAAA/P,KAAK,CAACsJ,QAAQ,UAAAyG,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBlQ,IAAI,UAAAmQ,qBAAA,iBAApBA,qBAAA,CAAsBzG,MAAM,GAAI,2BAA2B,CAAC,CAC9E,CACF,CAAC,OAAS,CACR5K,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAsR,cAAc,CAAG1U,WAAW,CAAC,KAAO,CAAA2U,UAAU,EAAK,CACvD,GAAI,CAACA,UAAU,CAAE,OACjB,GAAI,CACFvB,kBAAkB,CAAC,IAAI,CAAC,CACxB,KAAM,CAAA7M,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACmE,GAAG,IAAAC,MAAA,CAAI3B,QAAQ,uBAAA2B,MAAA,CAAqBsQ,UAAU,cAAY,CAAC,CACnF3B,YAAY,CAACzM,GAAG,CAACjC,IAAI,CAACyO,SAAS,EAAI,EAAE,CAAC,CACxC,CAAE,MAAOtO,KAAK,CAAE,CACd3B,SAAS,CAAC,cAAc,CAAE,OAAO,CAAC,CACpC,CAAC,OAAS,CACRsQ,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAAE,CAACtQ,SAAS,CAAC,CAAC,CAEf/C,SAAS,CAAC,IAAM,CACdiR,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEfjR,SAAS,CAAC,IAAM,CACd,GAAI8S,cAAc,CAAE,CAClB6B,cAAc,CAAC7B,cAAc,CAAC5N,IAAI,CAAC,CACrC,CACF,CAAC,CAAE,CAAC4N,cAAc,CAAE6B,cAAc,CAAC,CAAC,CAEpC,KAAM,CAAAE,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CAACrB,eAAe,CAACpK,IAAI,CAAC,CAAC,CAAE,CAC3BrG,SAAS,CAAC,eAAe,CAAE,OAAO,CAAC,CACnC,OACF,CACA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAACyH,IAAI,IAAArD,MAAA,CAAI3B,QAAQ,uBAAA2B,MAAA,CAAqBwO,cAAc,CAAC5N,IAAI,eAAc,CAChFA,IAAI,CAAEsO,eACR,CAAC,CAAC,CACFzQ,SAAS,wBAAAuB,MAAA,CAASkP,eAAe,sDAAY,CAAC,CAC9CD,qBAAqB,CAAC,KAAK,CAAC,CAC5BE,kBAAkB,CAAC,EAAE,CAAC,CACtBkB,cAAc,CAAC7B,cAAc,CAAC5N,IAAI,CAAC,CACrC,CAAE,MAAOR,KAAK,CAAE,KAAAoQ,gBAAA,CAAAC,qBAAA,CACdhS,SAAS,CAAC,EAAA+R,gBAAA,CAAApQ,KAAK,CAACsJ,QAAQ,UAAA8G,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBvQ,IAAI,UAAAwQ,qBAAA,iBAApBA,qBAAA,CAAsB9G,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAA+G,oBAAoB,CAAG,KAAO,CAAAC,YAAY,EAAK,CACnD,GAAI,CAACxF,MAAM,CAACC,OAAO,KAAApL,MAAA,CAAK2Q,YAAY,gFAAkB,CAAC,CAAE,OACzD,GAAI,CACF,KAAM,CAAA/U,KAAK,CAAC2E,MAAM,IAAAP,MAAA,CAAI3B,QAAQ,yBAAA2B,MAAA,CAAuB2Q,YAAY,CAAE,CAAC,CACpElS,SAAS,wBAAAuB,MAAA,CAAS2Q,YAAY,sDAAY,CAAC,CAC3CN,cAAc,CAAC7B,cAAc,CAAC5N,IAAI,CAAC,CACrC,CAAE,MAAOR,KAAK,CAAE,KAAAwQ,gBAAA,CAAAC,qBAAA,CACdpS,SAAS,CAAC,EAAAmS,gBAAA,CAAAxQ,KAAK,CAACsJ,QAAQ,UAAAkH,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB3Q,IAAI,UAAA4Q,qBAAA,iBAApBA,qBAAA,CAAsBlH,MAAM,GAAI,WAAW,CAAE,OAAO,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAAmH,qBAAqB,CAAG,KAAO,CAAAH,YAAY,EAAK,CACpD,GAAI,CAACxF,MAAM,CAACC,OAAO,KAAApL,MAAA,CAAK2Q,YAAY,gHAAyB,CAAC,CAAE,OAChE,GAAI,CACF,KAAM,CAAAzO,GAAG,CAAG,KAAM,CAAAtG,KAAK,CAACyH,IAAI,IAAArD,MAAA,CAAI3B,QAAQ,uBAAA2B,MAAA,CAAqBwO,cAAc,CAAC5N,IAAI,aAAY,CAC1FmQ,aAAa,CAAEJ,YACjB,CAAC,CAAC,CACFlS,SAAS,CAACyD,GAAG,CAACjC,IAAI,CAAC+P,OAAO,CAAC,CAC3BrD,SAAS,CAAC,CAAC,CACb,CAAE,MAAOvM,KAAK,CAAE,KAAA4Q,iBAAA,CAAAC,qBAAA,CACdxS,SAAS,CAAC,EAAAuS,iBAAA,CAAA5Q,KAAK,CAACsJ,QAAQ,UAAAsH,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgB/Q,IAAI,UAAAgR,qBAAA,iBAApBA,qBAAA,CAAsBtH,MAAM,GAAI,OAAO,CAAE,OAAO,CAAC,CAC7D,CACF,CAAC,CAED,KAAM,CAAAuH,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,KAAM,CAAAC,MAAM,CAAGvH,QAAQ,CAACwF,UAAU,CAAC,CACnC,GAAI,CAAC+B,MAAM,EAAIA,MAAM,EAAI,CAAC,CAAE,CAC1B1S,SAAS,CAAC,eAAe,CAAE,OAAO,CAAC,CACnC,OACF,CACA,GAAI,CACF,KAAM,CAAA7C,KAAK,CAAC+E,GAAG,IAAAX,MAAA,CAAI3B,QAAQ,uBAAA2B,MAAA,CAAqBwO,cAAc,CAAC5N,IAAI,qBAAAZ,MAAA,CAAmBmR,MAAM,CAAE,CAAC,CAC/F1S,SAAS,uBAAAuB,MAAA,CAAQmR,MAAM,oEAAgB,CAAC,CACxC5B,aAAa,CAAC,KAAK,CAAC,CACpBF,aAAa,CAAC,EAAE,CAAC,CACjB1C,SAAS,CAAC,CAAC,CACb,CAAE,MAAOvM,KAAK,CAAE,KAAAgR,iBAAA,CAAAC,qBAAA,CACd5S,SAAS,CAAC,EAAA2S,iBAAA,CAAAhR,KAAK,CAACsJ,QAAQ,UAAA0H,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBnR,IAAI,UAAAoR,qBAAA,iBAApBA,qBAAA,CAAsB1H,MAAM,GAAI,UAAU,CAAE,OAAO,CAAC,CAChE,CACF,CAAC,CAED,GAAI7K,OAAO,CAAE,CACX,mBACEZ,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,SAAAiD,QAAA,CAAM,wBAAO,CAAM,CAAC,EACjB,CAAC,CAEV,CAEA,GAAI,EAAC2N,cAAc,SAAdA,cAAc,WAAdA,cAAc,CAAEsB,SAAS,EAAE,CAC9B,mBACEhS,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BjD,IAAA,CAACtB,WAAW,EAACwE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzBhD,KAAA,QAAA+C,QAAA,eACEjD,IAAA,WAAAiD,QAAA,CAAQ,6BAAY,CAAQ,CAAC,cAC7BjD,IAAA,MAAAiD,QAAA,CAAG,2MAAwD,CAAG,CAAC,EAC5D,CAAC,EACH,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE/B/C,KAAA,QAAK8C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACH,QAAQ,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBhD,KAAA,QAAA+C,QAAA,eACEjD,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,uCAAO,CAAM,CAAC,cACtCjD,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE2N,cAAc,CAAC0C,aAAa,CAAO,CAAC,EAC1D,CAAC,EACH,CAAC,cACNpT,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACN,SAAS,EAACwD,IAAI,CAAE,EAAG,CAAE,CAAC,cACvBhD,KAAA,QAAA+C,QAAA,eACEjD,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,qBAAI,CAAM,CAAC,cACnC/C,KAAA,SAAM8C,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAE2N,cAAc,CAAC2C,YAAY,CAAC,IAAE,CAAC3C,cAAc,CAAC4C,aAAa,CAAC,IAAE,EAAM,CAAC,EAC3F,CAAC,EACH,CAAC,cACNtT,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACvB,WAAW,EAACyE,IAAI,CAAE,EAAG,CAAE,CAAC,cACzBhD,KAAA,QAAA+C,QAAA,eACEjD,IAAA,SAAMgD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,qBAAI,CAAM,CAAC,cACnC/C,KAAA,SAAM8C,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAE2N,cAAc,CAAC6C,YAAY,CAAC,QAAC,EAAM,CAAC,EAC1D,CAAC,EACH,CAAC,EACH,CAAC,cAENvT,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE/B/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BjD,IAAA,CAACH,QAAQ,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBlD,IAAA,OAAAiD,QAAA,CAAI,uBAAW,CAAI,CAAC,cACpBjD,IAAA,WAAQgD,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEuL,SAAU,CAACb,KAAK,CAAC,0BAAM,CAAA7K,QAAA,cAC3DjD,IAAA,CAAC7B,SAAS,EAAC+E,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,EACN,CAAC,CAELoN,OAAO,CAAC7O,MAAM,GAAK,CAAC,cACnBvB,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACH,QAAQ,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBlD,IAAA,MAAAiD,QAAA,CAAG,sDAAiB,CAAG,CAAC,EACrB,CAAC,cAENjD,IAAA,QAAKgD,SAAS,CAAC,SAAS,CAAAC,QAAA,CACrBqN,OAAO,CAACnN,GAAG,CAAEuQ,GAAG,eACfxT,KAAA,QAEE8C,SAAS,gBAAAhB,MAAA,CAAiB,CAAAwO,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE5N,IAAI,IAAK8Q,GAAG,CAAC9Q,IAAI,CAAG,UAAU,CAAG,EAAE,CAAG,CAChFQ,OAAO,CAAEA,CAAA,GAAMqN,iBAAiB,CAACiD,GAAG,CAAE,CAAAzQ,QAAA,eAEtC/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,SAAMgD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEyQ,GAAG,CAAC9Q,IAAI,CAAO,CAAC,cAC/C1C,KAAA,SAAM8C,SAAS,CAAC,aAAa,CAAAC,QAAA,EAC1ByQ,GAAG,CAACC,UAAU,CAAC,KAAG,CAACD,GAAG,CAACE,KAAK,CAC5BF,GAAG,CAACG,QAAQ,aAAA7R,MAAA,CAAe0R,GAAG,CAACG,QAAQ,CAAE,EACtC,CAAC,EACJ,CAAC,cACN7T,IAAA,SAAMgD,SAAS,iBAAAhB,MAAA,CAAkB0R,GAAG,CAACE,KAAK,GAAK,UAAU,CAAG,SAAS,CAAG,SAAS,CAAG,CAAA3Q,QAAA,CACjFyQ,GAAG,CAACE,KAAK,CACN,CAAC,GAbFF,GAAG,CAAC9Q,IAcN,CACN,CAAC,CACC,CACN,EACE,CAAC,cAGN5C,IAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5BuN,cAAc,cACbtQ,KAAA,CAAAE,SAAA,EAAA6C,QAAA,eACE/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BjD,IAAA,CAACL,MAAM,EAACuD,IAAI,CAAE,EAAG,CAAE,CAAC,cACpBhD,KAAA,OAAA+C,QAAA,EAAI,uBAAM,CAACuN,cAAc,CAAC5N,IAAI,EAAK,CAAC,cACpC1C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/C,KAAA,WACE8C,SAAS,CAAC,0BAA0B,CACpCI,OAAO,CAAEA,CAAA,GAAMmO,aAAa,CAAC,IAAI,CAAE,CACnCzD,KAAK,CAAC,2BAAO,CAAA7K,QAAA,eAEbjD,IAAA,CAACF,MAAM,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,eAEtB,EAAQ,CAAC,cACThD,KAAA,WACE8C,SAAS,CAAC,wBAAwB,CAClCI,OAAO,CAAEA,CAAA,GAAM6N,qBAAqB,CAAC,IAAI,CAAE,CAAAhO,QAAA,eAE3CjD,IAAA,CAAC1B,IAAI,EAAC4E,IAAI,CAAE,EAAG,CAAE,CAAC,kCAEpB,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGLoO,UAAU,eACTpR,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,OAAAiD,QAAA,CAAI,2BAAK,CAAI,CAAC,cACd/C,KAAA,MAAG8C,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,6BAAO,CAACuN,cAAc,CAACmD,UAAU,EAAI,CAAC,cAC1DzT,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjD,IAAA,UACE6F,IAAI,CAAC,QAAQ,CACb2B,WAAW,CAAC,0BAAW,CACvBlE,KAAK,CAAE8N,UAAW,CAClB7N,QAAQ,CAAGC,CAAC,EAAK6N,aAAa,CAAC7N,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/C2F,GAAG,CAAC,GAAG,CACR,CAAC,cACFjJ,IAAA,SAAMgD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,cAChCjD,IAAA,WAAQgD,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAE8P,kBAAmB,CAAAjQ,QAAA,CAAC,cAEjE,CAAQ,CAAC,cACTjD,IAAA,WAAQgD,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAMmO,aAAa,CAAC,KAAK,CAAE,CAAAtO,QAAA,CAAC,cAE3E,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CAGA+N,kBAAkB,eACjB9Q,KAAA,QAAK8C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjD,IAAA,OAAAiD,QAAA,CAAI,wCAAQ,CAAI,CAAC,cACjB/C,KAAA,QAAK8C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjD,IAAA,UACE6F,IAAI,CAAC,MAAM,CACX2B,WAAW,CAAC,iCAAQ,CACpBlE,KAAK,CAAE4N,eAAgB,CACvB3N,QAAQ,CAAGC,CAAC,EAAK2N,kBAAkB,CAAC3N,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrD,CAAC,cACFpD,KAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEmP,oBAAqB,CAAAtP,QAAA,eAChEjD,IAAA,CAACL,MAAM,EAACuD,IAAI,CAAE,EAAG,CAAE,CAAC,eAEtB,EAAQ,CAAC,cACTlD,IAAA,WAAQgD,SAAS,CAAC,mBAAmB,CAACI,OAAO,CAAEA,CAAA,GAAM6N,qBAAqB,CAAC,KAAK,CAAE,CAAAhO,QAAA,CAAC,cAEnF,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CAGA6N,eAAe,cACd5Q,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,CAAChB,OAAO,EAACgE,SAAS,CAAC,MAAM,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtClD,IAAA,SAAAiD,QAAA,CAAM,2CAAW,CAAM,CAAC,EACrB,CAAC,CACJyN,SAAS,CAACjP,MAAM,GAAK,CAAC,cACxBvB,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACL,MAAM,EAACuD,IAAI,CAAE,EAAG,CAAE,CAAC,cACpBlD,IAAA,MAAAiD,QAAA,CAAG,mDAAS,CAAG,CAAC,cAChBjD,IAAA,SAAMgD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,kHAAsB,CAAM,CAAC,EACjD,CAAC,cAENjD,IAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5ByN,SAAS,CAACvN,GAAG,CAAE2Q,IAAI,eAClB5T,KAAA,QAAqB8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5C/C,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,SAAMgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE6Q,IAAI,CAAClR,IAAI,CAAO,CAAC,cAClD1C,KAAA,SAAM8C,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC5B,GAAI,CAAAsF,IAAI,CAACuL,IAAI,CAACC,OAAO,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,KAAG,CAACF,IAAI,CAACH,UAAU,EACxD,CAAC,EACJ,CAAC,cACNzT,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B/C,KAAA,WACE8C,SAAS,CAAC,0BAA0B,CACpCI,OAAO,CAAEA,CAAA,GAAM0P,qBAAqB,CAACgB,IAAI,CAAClR,IAAI,CAAE,CAChDkL,KAAK,CAAC,wEAAiB,CAAA7K,QAAA,eAEvBjD,IAAA,CAACJ,SAAS,EAACsD,IAAI,CAAE,EAAG,CAAE,CAAC,eAEzB,EAAQ,CAAC,cACTlD,IAAA,WACEgD,SAAS,CAAC,uBAAuB,CACjCI,OAAO,CAAEA,CAAA,GAAMsP,oBAAoB,CAACoB,IAAI,CAAClR,IAAI,CAAE,CAC/CkL,KAAK,CAAC,iCAAQ,CAAA7K,QAAA,cAEdjD,IAAA,CAAC3B,MAAM,EAAC6E,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GAvBE4Q,IAAI,CAAClR,IAwBV,CACN,CAAC,CACC,CACN,EACD,CAAC,cAEH1C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACL,MAAM,EAACuD,IAAI,CAAE,EAAG,CAAE,CAAC,cACpBlD,IAAA,MAAAiD,QAAA,CAAG,mDAAS,CAAG,CAAC,cAChBjD,IAAA,SAAMgD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,yHAAwB,CAAM,CAAC,EACnD,CACN,CACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,MAAO,MAAM,CAAAgR,mBAAmB,CAAGC,MAAA,EAA+C,IAA9C,CAAE1T,UAAU,CAAE2T,cAAc,CAAE1T,SAAU,CAAC,CAAAyT,MAAA,CAC3E,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAG5W,QAAQ,CAAC,OAAO,CAAC,CAEnD,KAAM,CAAA6W,IAAI,CAAG,CACX,CAAEC,EAAE,CAAE,OAAO,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE3V,SAAU,CAAC,CAC7C,CAAEyV,EAAE,CAAE,QAAQ,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE5W,MAAO,CAAC,CAC3C,CAAE0W,EAAE,CAAE,YAAY,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE3W,SAAU,CAAC,CAClD,CAAEyW,EAAE,CAAE,WAAW,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEvW,KAAM,CAAC,CAC/C,CAAEqW,EAAE,CAAE,YAAY,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAExV,IAAK,CAAC,CAC7C,CAAEsV,EAAE,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEtV,QAAS,CAAC,CAC/C,CAAEoV,EAAE,CAAE,WAAW,CAAEC,KAAK,CAAE,QAAQ,CAAEC,IAAI,CAAEzW,IAAK,CAAC,CAChD,CAAEuW,EAAE,CAAE,KAAK,CAAEC,KAAK,CAAE,KAAK,CAAEC,IAAI,CAAEvV,KAAM,CAAC,CACxC,CAAEqV,EAAE,CAAE,UAAU,CAAEC,KAAK,CAAE,KAAK,CAAEC,IAAI,CAAE9U,MAAO,CAAC,CAC/C,CAED,GAAI,CAACa,UAAU,CAAE,CACf,mBACER,IAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,CAACnB,QAAQ,EAACqE,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBlD,IAAA,MAAAiD,QAAA,CAAG,mDAAS,CAAG,CAAC,EACb,CAAC,CACH,CAAC,CAEV,CAEA,mBACE/C,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BjD,IAAA,QAAKgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BqR,IAAI,CAACnR,GAAG,CAAEuR,GAAG,eACZxU,KAAA,WAEE8C,SAAS,YAAAhB,MAAA,CAAaoS,SAAS,GAAKM,GAAG,CAACH,EAAE,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC7DnR,OAAO,CAAEA,CAAA,GAAMiR,YAAY,CAACK,GAAG,CAACH,EAAE,CAAE,CAAAtR,QAAA,eAEpCjD,IAAA,CAAC0U,GAAG,CAACD,IAAI,EAACvR,IAAI,CAAE,EAAG,CAAE,CAAC,CACrBwR,GAAG,CAACF,KAAK,GALLE,GAAG,CAACH,EAMH,CACT,CAAC,CACC,CAAC,cAENrU,KAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAC9BmR,SAAS,GAAK,OAAO,eACpBpU,IAAA,CAACmJ,WAAW,EAAC3I,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CAC7D,CACA2T,SAAS,GAAK,QAAQ,eACrBpU,IAAA,CAACM,mBAAmB,EAACE,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACrE,CACA2T,SAAS,GAAK,YAAY,eACzBpU,IAAA,CAAC2D,iBAAiB,EAACnD,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACnE,CACA2T,SAAS,GAAK,WAAW,eACxBpU,IAAA,CAACyH,gBAAgB,EAACjH,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CAClE,CACA2T,SAAS,GAAK,YAAY,eACzBpU,IAAA,CAAC4K,iBAAiB,EAACpK,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACnE,CACA2T,SAAS,GAAK,QAAQ,eACrBpU,IAAA,CAAC+N,uBAAuB,EAACvN,UAAU,CAAEA,UAAW,CAACC,SAAS,CAAEA,SAAU,CAAE,CACzE,CACA2T,SAAS,GAAK,WAAW,eACxBpU,IAAA,CAACyE,qBAAqB,EACpBjE,UAAU,CAAEA,UAAW,CACvBmE,UAAU,CAAEwP,cAAe,CAC3B1T,SAAS,CAAEA,SAAU,CACtB,CACF,CACA2T,SAAS,GAAK,KAAK,eAClBpU,IAAA,CAAC6L,UAAU,EAACpL,SAAS,CAAEA,SAAU,CAAE,CACpC,CACA2T,SAAS,GAAK,UAAU,eACvBpU,IAAA,CAACoQ,eAAe,EAAC3P,SAAS,CAAEA,SAAU,CAAE,CACzC,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAwT,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}