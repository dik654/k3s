{"ast":null,"code":"import _objectSpread from\"/home/saiadmin/k3s-cluster/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import{Shield,GitBranch,Upload,Link,Tag,Clock,RefreshCw,Save,Trash2,Plus,X,Copy,CheckCircle,AlertCircle,ChevronDown,ChevronRight,Settings,BarChart3,FileText,Loader2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE='/api';// 버킷 정책 관리 컴포넌트\nexport const BucketPolicyManager=_ref=>{let{bucketName,showToast}=_ref;const[policy,setPolicy]=useState(null);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[editing,setEditing]=useState(false);const[policyJson,setPolicyJson]=useState('');const fetchPolicy=useCallback(async()=>{try{setLoading(true);const[policyRes,templatesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\")),axios.get(\"\".concat(API_BASE,\"/storage/policy-templates\"))]);setPolicy(policyRes.data.policy);setPolicyJson(policyRes.data.policy?JSON.stringify(policyRes.data.policy,null,2):'');setTemplates(templatesRes.data.templates||[]);}catch(error){showToast('정책 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchPolicy();},[fetchPolicy]);const handleApplyTemplate=async template=>{if(!template.policy){// private - 정책 삭제\ntry{await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"));showToast('버킷이 비공개로 설정되었습니다');fetchPolicy();}catch(error){showToast('정책 삭제 실패','error');}return;}const policyWithBucket=JSON.parse(JSON.stringify(template.policy).replace(/BUCKET_NAME/g,bucketName));try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"),{policy:policyWithBucket});showToast(\"'\".concat(template.name,\"' \\uC815\\uCC45\\uC774 \\uC801\\uC6A9\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchPolicy();}catch(error){showToast('정책 적용 실패','error');}};const handleSavePolicy=async()=>{try{const parsedPolicy=JSON.parse(policyJson);await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/policy\"),{policy:parsedPolicy});showToast('정책이 저장되었습니다');setEditing(false);fetchPolicy();}catch(error){if(error instanceof SyntaxError){showToast('올바른 JSON 형식이 아닙니다','error');}else{showToast('정책 저장 실패','error');}}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uCC45 \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel policy-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Shield,{size:16}),\" \\uC815\\uCC45 \\uD15C\\uD50C\\uB9BF\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"template-card \".concat(!template.policy?'private':''),onClick:()=>handleApplyTemplate(template),children:[/*#__PURE__*/_jsx(\"div\",{className:\"template-name\",children:template.name}),/*#__PURE__*/_jsx(\"div\",{className:\"template-desc\",children:template.description})]},template.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(FileText,{size:16}),\" \\uD604\\uC7AC \\uC815\\uCC45\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm \".concat(editing?'btn-primary':''),onClick:()=>setEditing(!editing),children:editing?'취소':'편집'})]}),policy?editing?/*#__PURE__*/_jsxs(\"div\",{className:\"policy-editor\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:policyJson,onChange:e=>setPolicyJson(e.target.value),className:\"code-editor\",rows:15}),/*#__PURE__*/_jsx(\"div\",{className:\"editor-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSavePolicy,children:[/*#__PURE__*/_jsx(Save,{size:14}),\" \\uC800\\uC7A5\"]})})]}):/*#__PURE__*/_jsx(\"pre\",{className:\"policy-view\",children:JSON.stringify(policy,null,2)}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Shield,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uCC45\\uC774 \\uC124\\uC815\\uB418\\uC9C0 \\uC54A\\uC74C (\\uBE44\\uACF5\\uAC1C)\"})]})]})]});};// 버전 관리 컴포넌트\nexport const VersioningManager=_ref2=>{let{bucketName,showToast}=_ref2;const[versioning,setVersioning]=useState(null);const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const fetchVersioning=useCallback(async()=>{try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/versioning\"));setVersioning(res.data.versioning);}catch(error){showToast('버전 관리 상태 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchVersioning();},[fetchVersioning]);const handleToggleVersioning=async()=>{try{setUpdating(true);const newStatus=(versioning===null||versioning===void 0?void 0:versioning.status)!=='Enabled';await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/versioning\"),{enabled:newStatus});showToast(\"\\uBC84\\uC804 \\uAD00\\uB9AC\\uAC00 \".concat(newStatus?'활성화':'비활성화',\"\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchVersioning();}catch(error){showToast('버전 관리 설정 실패','error');}finally{setUpdating(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC84\\uC804 \\uAD00\\uB9AC \\uC815\\uBCF4 \\uB85C\\uB529 \\uC911...\"})]});}const isEnabled=(versioning===null||versioning===void 0?void 0:versioning.status)==='Enabled';return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel versioning-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"versioning-status\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-info\",children:[/*#__PURE__*/_jsx(GitBranch,{size:32,className:isEnabled?'enabled':'disabled'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAC1D\\uCCB4 \\uBC84\\uC804 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"status-text \".concat(isEnabled?'enabled':'disabled'),children:isEnabled?'활성화됨':'비활성화됨'})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn \".concat(isEnabled?'btn-danger':'btn-primary'),onClick:handleToggleVersioning,disabled:updating,children:[updating?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):null,isEnabled?'비활성화':'활성화']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"versioning-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:20,className:\"success\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uBC84\\uC804 \\uAD00\\uB9AC \\uD65C\\uC131\\uD654 \\uC2DC\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uAC1D\\uCCB4 \\uC218\\uC815/\\uC0AD\\uC81C \\uC2DC \\uC774\\uC804 \\uBC84\\uC804 \\uBCF4\\uC874\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2E4\\uC218\\uB85C \\uC0AD\\uC81C\\uD55C \\uD30C\\uC77C \\uBCF5\\uAD6C \\uAC00\\uB2A5\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uBCC0\\uACBD \\uC774\\uB825 \\uCD94\\uC801 \\uAC00\\uB2A5\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card warning\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:20,className:\"warning\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC8FC\\uC758\\uC0AC\\uD56D\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uC2A4\\uD1A0\\uB9AC\\uC9C0 \\uC0AC\\uC6A9\\uB7C9 \\uC99D\\uAC00\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD55C\\uBC88 \\uD65C\\uC131\\uD654\\uD558\\uBA74 \\uC644\\uC804 \\uBE44\\uD65C\\uC131\\uD654 \\uBD88\\uAC00 (Suspended\\uB9CC \\uAC00\\uB2A5)\"})]})]})]})]})]});};// Presigned URL 생성 컴포넌트\nexport const PresignedUrlGenerator=_ref3=>{let{bucketName,objectName,showToast}=_ref3;const[url,setUrl]=useState(null);const[method,setMethod]=useState('GET');const[expiresHours,setExpiresHours]=useState(1);const[loading,setLoading]=useState(false);const[copied,setCopied]=useState(false);const handleGenerate=async()=>{try{setLoading(true);const res=await axios.post(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/presigned-url\"),{object_name:objectName,expires_hours:expiresHours,method:method});setUrl(res.data);showToast('Presigned URL이 생성되었습니다');}catch(error){showToast('URL 생성 실패','error');}finally{setLoading(false);}};const handleCopy=()=>{if(url){navigator.clipboard.writeText(url.url);setCopied(true);showToast('URL이 클립보드에 복사되었습니다');setTimeout(()=>setCopied(false),2000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel presigned-panel\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Link,{size:16}),\" Presigned URL \\uC0DD\\uC131\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"presigned-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB300\\uC0C1 \\uAC1D\\uCCB4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:objectName||'파일을 선택하세요',disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC791\\uC5C5 \\uC720\\uD615\"}),/*#__PURE__*/_jsxs(\"select\",{value:method,onChange:e=>setMethod(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"GET\",children:\"\\uB2E4\\uC6B4\\uB85C\\uB4DC (GET)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PUT\",children:\"\\uC5C5\\uB85C\\uB4DC (PUT)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC720\\uD6A8 \\uC2DC\\uAC04\"}),/*#__PURE__*/_jsxs(\"select\",{value:expiresHours,onChange:e=>setExpiresHours(Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:6,children:\"6\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:12,children:\"12\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:24,children:\"24\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:48,children:\"48\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:168,children:\"7\\uC77C\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleGenerate,disabled:!objectName||loading,children:[loading?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Link,{size:14}),\"URL \\uC0DD\\uC131\"]})]}),url&&/*#__PURE__*/_jsxs(\"div\",{className:\"presigned-result\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"url-display\",children:[/*#__PURE__*/_jsx(\"code\",{children:url.url}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:handleCopy,children:copied?/*#__PURE__*/_jsx(CheckCircle,{size:16,className:\"success\"}):/*#__PURE__*/_jsx(Copy,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC720\\uD6A8\\uAE30\\uAC04: \",url.expires_in]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uBC29\\uC2DD: \",url.method]})]})]})]});};// 객체 태그 관리 컴포넌트\nexport const ObjectTagsManager=_ref4=>{let{bucketName,objectName,showToast,onClose}=_ref4;const[tags,setTags]=useState({});const[loading,setLoading]=useState(true);const[newKey,setNewKey]=useState('');const[newValue,setNewValue]=useState('');const[saving,setSaving]=useState(false);const fetchTags=useCallback(async()=>{if(!objectName)return;try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"));setTags(res.data.tags||{});}catch(error){// 태그가 없는 경우\nsetTags({});}finally{setLoading(false);}},[bucketName,objectName]);useEffect(()=>{fetchTags();},[fetchTags]);const handleAddTag=()=>{if(newKey.trim()&&newValue.trim()){setTags(_objectSpread(_objectSpread({},tags),{},{[newKey.trim()]:newValue.trim()}));setNewKey('');setNewValue('');}};const handleRemoveTag=key=>{const newTags=_objectSpread({},tags);delete newTags[key];setTags(newTags);};const handleSave=async()=>{try{setSaving(true);if(Object.keys(tags).length===0){await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"));}else{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/objects/\").concat(encodeURIComponent(objectName),\"/tags\"),{tags:tags});}showToast('태그가 저장되었습니다');if(onClose)onClose();}catch(error){showToast('태그 저장 실패','error');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel tags-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tags-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Tag,{size:16}),\" \\uAC1D\\uCCB4 \\uD0DC\\uADF8\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"object-name\",children:objectName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags-list\",children:[Object.entries(tags).map(_ref5=>{let[key,value]=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"tag-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"tag-key\",children:key}),/*#__PURE__*/_jsx(\"span\",{className:\"tag-value\",children:value}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleRemoveTag(key),children:/*#__PURE__*/_jsx(X,{size:14})})]},key);}),Object.keys(tags).length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state small\",children:[/*#__PURE__*/_jsx(Tag,{size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD0DC\\uADF8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-tag-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD0A4\",value:newKey,onChange:e=>setNewKey(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uAC12\",value:newValue,onChange:e=>setNewValue(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleAddTag,children:/*#__PURE__*/_jsx(Plus,{size:14})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleSave,disabled:saving,children:[saving?/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:14}):/*#__PURE__*/_jsx(Save,{size:14}),\"\\uC800\\uC7A5\"]})})]});};// 생명주기 규칙 관리 컴포넌트\nexport const LifecycleManager=_ref6=>{let{bucketName,showToast}=_ref6;const[rules,setRules]=useState([]);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[showAddRule,setShowAddRule]=useState(false);const[newRule,setNewRule]=useState({rule_id:'',prefix:'',enabled:true,expiration_days:30});const fetchLifecycle=useCallback(async()=>{try{setLoading(true);const[rulesRes,templatesRes]=await Promise.all([axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\")),axios.get(\"\".concat(API_BASE,\"/storage/lifecycle-templates\"))]);setRules(rulesRes.data.rules||[]);setTemplates(templatesRes.data.templates||[]);}catch(error){showToast('생명주기 규칙 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchLifecycle();},[fetchLifecycle]);const handleApplyTemplate=async template=>{const rule=_objectSpread(_objectSpread({},template.rule),{},{rule_id:\"\".concat(template.name,\"-\").concat(Date.now())});try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:[...rules,rule]});showToast(\"'\".concat(template.description,\"' \\uADDC\\uCE59\\uC774 \\uCD94\\uAC00\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));fetchLifecycle();}catch(error){showToast('규칙 추가 실패','error');}};const handleAddRule=async()=>{if(!newRule.rule_id.trim()){showToast('규칙 ID를 입력하세요','error');return;}try{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:[...rules,newRule]});showToast('규칙이 추가되었습니다');setShowAddRule(false);setNewRule({rule_id:'',prefix:'',enabled:true,expiration_days:30});fetchLifecycle();}catch(error){showToast('규칙 추가 실패','error');}};const handleDeleteRule=async ruleId=>{try{const updatedRules=rules.filter(r=>r.rule_id!==ruleId);if(updatedRules.length===0){await axios.delete(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"));}else{await axios.put(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/lifecycle\"),{rules:updatedRules});}showToast('규칙이 삭제되었습니다');fetchLifecycle();}catch(error){showToast('규칙 삭제 실패','error');}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59 \\uB85C\\uB529 \\uC911...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel lifecycle-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(Clock,{size:16}),\" \\uADDC\\uCE59 \\uD15C\\uD50C\\uB9BF\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-grid compact\",children:templates.map(template=>/*#__PURE__*/_jsx(\"div\",{className:\"template-card small\",onClick:()=>handleApplyTemplate(template),children:/*#__PURE__*/_jsx(\"div\",{className:\"template-name\",children:template.description})},template.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD604\\uC7AC \\uADDC\\uCE59 (\",rules.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-primary\",onClick:()=>setShowAddRule(true),children:[/*#__PURE__*/_jsx(Plus,{size:14}),\" \\uCD94\\uAC00\"]})]}),rules.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Clock,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"rules-list\",children:rules.map(rule=>/*#__PURE__*/_jsxs(\"div\",{className:\"rule-item \".concat(rule.enabled?'':'disabled'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rule-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rule-id\",children:rule.rule_id}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-details\",children:[rule.prefix&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC811\\uB450\\uC0AC: \",rule.prefix]}),rule.expiration_days&&/*#__PURE__*/_jsxs(\"span\",{children:[rule.expiration_days,\"\\uC77C \\uD6C4 \\uC0AD\\uC81C\"]}),rule.noncurrent_expiration_days&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC774\\uC804 \\uBC84\\uC804 \",rule.noncurrent_expiration_days,\"\\uC77C \\uD6C4 \\uC0AD\\uC81C\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rule-actions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(rule.enabled?'running':'stopped'),children:rule.enabled?'활성':'비활성'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon danger\",onClick:()=>handleDeleteRule(rule.rule_id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},rule.rule_id))})]}),showAddRule&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowAddRule(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content small\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC0DD\\uBA85\\uC8FC\\uAE30 \\uADDC\\uCE59 \\uCD94\\uAC00\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setShowAddRule(false),children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uADDC\\uCE59 ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRule.rule_id,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{rule_id:e.target.value})),placeholder:\"my-rule-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC811\\uB450\\uC0AC (\\uC120\\uD0DD)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRule.prefix,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{prefix:e.target.value})),placeholder:\"logs/\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uB9CC\\uB8CC \\uC77C\\uC218\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRule.expiration_days,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{expiration_days:Number(e.target.value)})),min:1})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newRule.enabled,onChange:e=>setNewRule(_objectSpread(_objectSpread({},newRule),{},{enabled:e.target.checked}))}),\"\\uD65C\\uC131\\uD654\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>setShowAddRule(false),children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleAddRule,children:\"\\uCD94\\uAC00\"})]})]})})]});};// 버킷 통계 컴포넌트\nexport const BucketStats=_ref7=>{let{bucketName,showToast}=_ref7;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const fetchStats=useCallback(async()=>{try{setLoading(true);const res=await axios.get(\"\".concat(API_BASE,\"/storage/buckets/\").concat(bucketName,\"/stats\"));setStats(res.data.stats);}catch(error){showToast('통계 조회 실패','error');}finally{setLoading(false);}},[bucketName,showToast]);useEffect(()=>{fetchStats();},[fetchStats]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"spin\",size:24}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD1B5\\uACC4 \\uB85C\\uB529 \\uC911...\"})]});}if(!stats)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-panel stats-panel\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(BarChart3,{size:16}),\" \\uBC84\\uD0B7 \\uD1B5\\uACC4\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_objects}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uCD1D \\uAC1D\\uCCB4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_folders}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uD3F4\\uB354\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.total_size_human}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uCD1D \\uC6A9\\uB7C9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value \".concat(stats.versioning_enabled?'enabled':''),children:stats.versioning_enabled?'ON':'OFF'}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\uBC84\\uC804 \\uAD00\\uB9AC\"})]})]}),Object.keys(stats.file_types).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uD30C\\uC77C \\uC720\\uD615 \\uBD84\\uD3EC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"file-types\",children:Object.entries(stats.file_types).map(_ref8=>{let[ext,count]=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"file-type-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"ext\",children:[\".\",ext]}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:count})]},ext);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uD06C\\uAE30 \\uBD84\\uD3EC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"size-distribution\",children:Object.entries(stats.size_distribution).map(_ref9=>{let[range,count]=_ref9;return/*#__PURE__*/_jsxs(\"div\",{className:\"size-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"range\",children:range}),/*#__PURE__*/_jsx(\"div\",{className:\"bar-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bar\",style:{width:\"\".concat(count/Math.max(stats.total_objects,1)*100,\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:count})]},range);})})]})]});};// 고급 기능 탭 컴포넌트\nexport const StorageAdvancedTabs=_ref0=>{let{bucketName,selectedObject,showToast}=_ref0;const[activeTab,setActiveTab]=useState('stats');const tabs=[{id:'stats',label:'통계',icon:BarChart3},{id:'policy',label:'정책',icon:Shield},{id:'versioning',label:'버전',icon:GitBranch},{id:'lifecycle',label:'생명주기',icon:Clock},{id:'presigned',label:'URL 생성',icon:Link}];if(!bucketName){return/*#__PURE__*/_jsx(\"div\",{className:\"advanced-panel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Settings,{size:32}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC84\\uD0B7\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"storage-advanced\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"advanced-tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),children:[/*#__PURE__*/_jsx(tab.icon,{size:14}),tab.label]},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-content\",children:[activeTab==='stats'&&/*#__PURE__*/_jsx(BucketStats,{bucketName:bucketName,showToast:showToast}),activeTab==='policy'&&/*#__PURE__*/_jsx(BucketPolicyManager,{bucketName:bucketName,showToast:showToast}),activeTab==='versioning'&&/*#__PURE__*/_jsx(VersioningManager,{bucketName:bucketName,showToast:showToast}),activeTab==='lifecycle'&&/*#__PURE__*/_jsx(LifecycleManager,{bucketName:bucketName,showToast:showToast}),activeTab==='presigned'&&/*#__PURE__*/_jsx(PresignedUrlGenerator,{bucketName:bucketName,objectName:selectedObject,showToast:showToast})]})]});};export default StorageAdvancedTabs;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","Shield","GitBranch","Upload","Link","Tag","Clock","RefreshCw","Save","Trash2","Plus","X","Copy","CheckCircle","AlertCircle","ChevronDown","ChevronRight","Settings","BarChart3","FileText","Loader2","jsx","_jsx","jsxs","_jsxs","API_BASE","BucketPolicyManager","_ref","bucketName","showToast","policy","setPolicy","templates","setTemplates","loading","setLoading","editing","setEditing","policyJson","setPolicyJson","fetchPolicy","policyRes","templatesRes","Promise","all","get","concat","data","JSON","stringify","error","handleApplyTemplate","template","delete","policyWithBucket","parse","replace","put","name","handleSavePolicy","parsedPolicy","SyntaxError","className","children","size","map","onClick","description","value","onChange","e","target","rows","VersioningManager","_ref2","versioning","setVersioning","updating","setUpdating","fetchVersioning","res","handleToggleVersioning","newStatus","status","enabled","isEnabled","disabled","PresignedUrlGenerator","_ref3","objectName","url","setUrl","method","setMethod","expiresHours","setExpiresHours","copied","setCopied","handleGenerate","post","object_name","expires_hours","handleCopy","navigator","clipboard","writeText","setTimeout","type","Number","expires_in","ObjectTagsManager","_ref4","onClose","tags","setTags","newKey","setNewKey","newValue","setNewValue","saving","setSaving","fetchTags","encodeURIComponent","handleAddTag","trim","_objectSpread","handleRemoveTag","key","newTags","handleSave","Object","keys","length","entries","_ref5","placeholder","LifecycleManager","_ref6","rules","setRules","showAddRule","setShowAddRule","newRule","setNewRule","rule_id","prefix","expiration_days","fetchLifecycle","rulesRes","rule","Date","now","handleAddRule","handleDeleteRule","ruleId","updatedRules","filter","r","noncurrent_expiration_days","stopPropagation","min","checked","BucketStats","_ref7","stats","setStats","fetchStats","total_objects","total_folders","total_size_human","versioning_enabled","file_types","_ref8","ext","count","size_distribution","_ref9","range","style","width","Math","max","StorageAdvancedTabs","_ref0","selectedObject","activeTab","setActiveTab","tabs","id","label","icon","tab"],"sources":["/home/saiadmin/k3s-cluster/dashboard/frontend/src/StorageAdvanced.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport {\n  Shield,\n  GitBranch,\n  Upload,\n  Link,\n  Tag,\n  Clock,\n  RefreshCw,\n  Save,\n  Trash2,\n  Plus,\n  X,\n  Copy,\n  CheckCircle,\n  AlertCircle,\n  ChevronDown,\n  ChevronRight,\n  Settings,\n  BarChart3,\n  FileText,\n  Loader2\n} from 'lucide-react';\n\nconst API_BASE = '/api';\n\n// 버킷 정책 관리 컴포넌트\nexport const BucketPolicyManager = ({ bucketName, showToast }) => {\n  const [policy, setPolicy] = useState(null);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(false);\n  const [policyJson, setPolicyJson] = useState('');\n\n  const fetchPolicy = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [policyRes, templatesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/policy`),\n        axios.get(`${API_BASE}/storage/policy-templates`)\n      ]);\n      setPolicy(policyRes.data.policy);\n      setPolicyJson(policyRes.data.policy ? JSON.stringify(policyRes.data.policy, null, 2) : '');\n      setTemplates(templatesRes.data.templates || []);\n    } catch (error) {\n      showToast('정책 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchPolicy();\n  }, [fetchPolicy]);\n\n  const handleApplyTemplate = async (template) => {\n    if (!template.policy) {\n      // private - 정책 삭제\n      try {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/policy`);\n        showToast('버킷이 비공개로 설정되었습니다');\n        fetchPolicy();\n      } catch (error) {\n        showToast('정책 삭제 실패', 'error');\n      }\n      return;\n    }\n\n    const policyWithBucket = JSON.parse(\n      JSON.stringify(template.policy).replace(/BUCKET_NAME/g, bucketName)\n    );\n\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/policy`, {\n        policy: policyWithBucket\n      });\n      showToast(`'${template.name}' 정책이 적용되었습니다`);\n      fetchPolicy();\n    } catch (error) {\n      showToast('정책 적용 실패', 'error');\n    }\n  };\n\n  const handleSavePolicy = async () => {\n    try {\n      const parsedPolicy = JSON.parse(policyJson);\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/policy`, {\n        policy: parsedPolicy\n      });\n      showToast('정책이 저장되었습니다');\n      setEditing(false);\n      fetchPolicy();\n    } catch (error) {\n      if (error instanceof SyntaxError) {\n        showToast('올바른 JSON 형식이 아닙니다', 'error');\n      } else {\n        showToast('정책 저장 실패', 'error');\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>정책 정보 로딩 중...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel policy-panel\">\n      <div className=\"panel-section\">\n        <h4><Shield size={16} /> 정책 템플릿</h4>\n        <div className=\"template-grid\">\n          {templates.map((template) => (\n            <div\n              key={template.name}\n              className={`template-card ${!template.policy ? 'private' : ''}`}\n              onClick={() => handleApplyTemplate(template)}\n            >\n              <div className=\"template-name\">{template.name}</div>\n              <div className=\"template-desc\">{template.description}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"panel-section\">\n        <div className=\"section-header\">\n          <h4><FileText size={16} /> 현재 정책</h4>\n          <button\n            className={`btn btn-sm ${editing ? 'btn-primary' : ''}`}\n            onClick={() => setEditing(!editing)}\n          >\n            {editing ? '취소' : '편집'}\n          </button>\n        </div>\n\n        {policy ? (\n          editing ? (\n            <div className=\"policy-editor\">\n              <textarea\n                value={policyJson}\n                onChange={(e) => setPolicyJson(e.target.value)}\n                className=\"code-editor\"\n                rows={15}\n              />\n              <div className=\"editor-actions\">\n                <button className=\"btn btn-primary\" onClick={handleSavePolicy}>\n                  <Save size={14} /> 저장\n                </button>\n              </div>\n            </div>\n          ) : (\n            <pre className=\"policy-view\">\n              {JSON.stringify(policy, null, 2)}\n            </pre>\n          )\n        ) : (\n          <div className=\"empty-state\">\n            <Shield size={32} />\n            <p>정책이 설정되지 않음 (비공개)</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 버전 관리 컴포넌트\nexport const VersioningManager = ({ bucketName, showToast }) => {\n  const [versioning, setVersioning] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n\n  const fetchVersioning = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/versioning`);\n      setVersioning(res.data.versioning);\n    } catch (error) {\n      showToast('버전 관리 상태 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchVersioning();\n  }, [fetchVersioning]);\n\n  const handleToggleVersioning = async () => {\n    try {\n      setUpdating(true);\n      const newStatus = versioning?.status !== 'Enabled';\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/versioning`, {\n        enabled: newStatus\n      });\n      showToast(`버전 관리가 ${newStatus ? '활성화' : '비활성화'}되었습니다`);\n      fetchVersioning();\n    } catch (error) {\n      showToast('버전 관리 설정 실패', 'error');\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>버전 관리 정보 로딩 중...</p>\n      </div>\n    );\n  }\n\n  const isEnabled = versioning?.status === 'Enabled';\n\n  return (\n    <div className=\"advanced-panel versioning-panel\">\n      <div className=\"versioning-status\">\n        <div className=\"status-info\">\n          <GitBranch size={32} className={isEnabled ? 'enabled' : 'disabled'} />\n          <div>\n            <h4>객체 버전 관리</h4>\n            <p className={`status-text ${isEnabled ? 'enabled' : 'disabled'}`}>\n              {isEnabled ? '활성화됨' : '비활성화됨'}\n            </p>\n          </div>\n        </div>\n        <button\n          className={`btn ${isEnabled ? 'btn-danger' : 'btn-primary'}`}\n          onClick={handleToggleVersioning}\n          disabled={updating}\n        >\n          {updating ? <Loader2 className=\"spin\" size={14} /> : null}\n          {isEnabled ? '비활성화' : '활성화'}\n        </button>\n      </div>\n\n      <div className=\"versioning-info\">\n        <div className=\"info-card\">\n          <CheckCircle size={20} className=\"success\" />\n          <div>\n            <strong>버전 관리 활성화 시</strong>\n            <ul>\n              <li>객체 수정/삭제 시 이전 버전 보존</li>\n              <li>실수로 삭제한 파일 복구 가능</li>\n              <li>변경 이력 추적 가능</li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"info-card warning\">\n          <AlertCircle size={20} className=\"warning\" />\n          <div>\n            <strong>주의사항</strong>\n            <ul>\n              <li>스토리지 사용량 증가</li>\n              <li>한번 활성화하면 완전 비활성화 불가 (Suspended만 가능)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Presigned URL 생성 컴포넌트\nexport const PresignedUrlGenerator = ({ bucketName, objectName, showToast }) => {\n  const [url, setUrl] = useState(null);\n  const [method, setMethod] = useState('GET');\n  const [expiresHours, setExpiresHours] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  const handleGenerate = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.post(`${API_BASE}/storage/buckets/${bucketName}/presigned-url`, {\n        object_name: objectName,\n        expires_hours: expiresHours,\n        method: method\n      });\n      setUrl(res.data);\n      showToast('Presigned URL이 생성되었습니다');\n    } catch (error) {\n      showToast('URL 생성 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCopy = () => {\n    if (url) {\n      navigator.clipboard.writeText(url.url);\n      setCopied(true);\n      showToast('URL이 클립보드에 복사되었습니다');\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  return (\n    <div className=\"advanced-panel presigned-panel\">\n      <h4><Link size={16} /> Presigned URL 생성</h4>\n\n      <div className=\"presigned-form\">\n        <div className=\"form-row\">\n          <label>대상 객체</label>\n          <input type=\"text\" value={objectName || '파일을 선택하세요'} disabled />\n        </div>\n\n        <div className=\"form-row\">\n          <label>작업 유형</label>\n          <select value={method} onChange={(e) => setMethod(e.target.value)}>\n            <option value=\"GET\">다운로드 (GET)</option>\n            <option value=\"PUT\">업로드 (PUT)</option>\n          </select>\n        </div>\n\n        <div className=\"form-row\">\n          <label>유효 시간</label>\n          <select value={expiresHours} onChange={(e) => setExpiresHours(Number(e.target.value))}>\n            <option value={1}>1시간</option>\n            <option value={6}>6시간</option>\n            <option value={12}>12시간</option>\n            <option value={24}>24시간</option>\n            <option value={48}>48시간</option>\n            <option value={168}>7일</option>\n          </select>\n        </div>\n\n        <button\n          className=\"btn btn-primary\"\n          onClick={handleGenerate}\n          disabled={!objectName || loading}\n        >\n          {loading ? <Loader2 className=\"spin\" size={14} /> : <Link size={14} />}\n          URL 생성\n        </button>\n      </div>\n\n      {url && (\n        <div className=\"presigned-result\">\n          <div className=\"url-display\">\n            <code>{url.url}</code>\n            <button className=\"btn-icon\" onClick={handleCopy}>\n              {copied ? <CheckCircle size={16} className=\"success\" /> : <Copy size={16} />}\n            </button>\n          </div>\n          <div className=\"url-info\">\n            <span>유효기간: {url.expires_in}</span>\n            <span>방식: {url.method}</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 객체 태그 관리 컴포넌트\nexport const ObjectTagsManager = ({ bucketName, objectName, showToast, onClose }) => {\n  const [tags, setTags] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [newKey, setNewKey] = useState('');\n  const [newValue, setNewValue] = useState('');\n  const [saving, setSaving] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    if (!objectName) return;\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`);\n      setTags(res.data.tags || {});\n    } catch (error) {\n      // 태그가 없는 경우\n      setTags({});\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, objectName]);\n\n  useEffect(() => {\n    fetchTags();\n  }, [fetchTags]);\n\n  const handleAddTag = () => {\n    if (newKey.trim() && newValue.trim()) {\n      setTags({ ...tags, [newKey.trim()]: newValue.trim() });\n      setNewKey('');\n      setNewValue('');\n    }\n  };\n\n  const handleRemoveTag = (key) => {\n    const newTags = { ...tags };\n    delete newTags[key];\n    setTags(newTags);\n  };\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      if (Object.keys(tags).length === 0) {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`);\n      } else {\n        await axios.put(`${API_BASE}/storage/buckets/${bucketName}/objects/${encodeURIComponent(objectName)}/tags`, {\n          tags: tags\n        });\n      }\n      showToast('태그가 저장되었습니다');\n      if (onClose) onClose();\n    } catch (error) {\n      showToast('태그 저장 실패', 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel tags-panel\">\n      <div className=\"tags-header\">\n        <h4><Tag size={16} /> 객체 태그</h4>\n        <span className=\"object-name\">{objectName}</span>\n      </div>\n\n      <div className=\"tags-list\">\n        {Object.entries(tags).map(([key, value]) => (\n          <div key={key} className=\"tag-item\">\n            <span className=\"tag-key\">{key}</span>\n            <span className=\"tag-value\">{value}</span>\n            <button className=\"btn-icon danger\" onClick={() => handleRemoveTag(key)}>\n              <X size={14} />\n            </button>\n          </div>\n        ))}\n\n        {Object.keys(tags).length === 0 && (\n          <div className=\"empty-state small\">\n            <Tag size={24} />\n            <p>태그가 없습니다</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"add-tag-form\">\n        <input\n          type=\"text\"\n          placeholder=\"키\"\n          value={newKey}\n          onChange={(e) => setNewKey(e.target.value)}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"값\"\n          value={newValue}\n          onChange={(e) => setNewValue(e.target.value)}\n        />\n        <button className=\"btn btn-secondary\" onClick={handleAddTag}>\n          <Plus size={14} />\n        </button>\n      </div>\n\n      <div className=\"panel-actions\">\n        <button className=\"btn btn-primary\" onClick={handleSave} disabled={saving}>\n          {saving ? <Loader2 className=\"spin\" size={14} /> : <Save size={14} />}\n          저장\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// 생명주기 규칙 관리 컴포넌트\nexport const LifecycleManager = ({ bucketName, showToast }) => {\n  const [rules, setRules] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddRule, setShowAddRule] = useState(false);\n  const [newRule, setNewRule] = useState({\n    rule_id: '',\n    prefix: '',\n    enabled: true,\n    expiration_days: 30\n  });\n\n  const fetchLifecycle = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [rulesRes, templatesRes] = await Promise.all([\n        axios.get(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`),\n        axios.get(`${API_BASE}/storage/lifecycle-templates`)\n      ]);\n      setRules(rulesRes.data.rules || []);\n      setTemplates(templatesRes.data.templates || []);\n    } catch (error) {\n      showToast('생명주기 규칙 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchLifecycle();\n  }, [fetchLifecycle]);\n\n  const handleApplyTemplate = async (template) => {\n    const rule = { ...template.rule, rule_id: `${template.name}-${Date.now()}` };\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n        rules: [...rules, rule]\n      });\n      showToast(`'${template.description}' 규칙이 추가되었습니다`);\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 추가 실패', 'error');\n    }\n  };\n\n  const handleAddRule = async () => {\n    if (!newRule.rule_id.trim()) {\n      showToast('규칙 ID를 입력하세요', 'error');\n      return;\n    }\n    try {\n      await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n        rules: [...rules, newRule]\n      });\n      showToast('규칙이 추가되었습니다');\n      setShowAddRule(false);\n      setNewRule({ rule_id: '', prefix: '', enabled: true, expiration_days: 30 });\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 추가 실패', 'error');\n    }\n  };\n\n  const handleDeleteRule = async (ruleId) => {\n    try {\n      const updatedRules = rules.filter(r => r.rule_id !== ruleId);\n      if (updatedRules.length === 0) {\n        await axios.delete(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`);\n      } else {\n        await axios.put(`${API_BASE}/storage/buckets/${bucketName}/lifecycle`, {\n          rules: updatedRules\n        });\n      }\n      showToast('규칙이 삭제되었습니다');\n      fetchLifecycle();\n    } catch (error) {\n      showToast('규칙 삭제 실패', 'error');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>생명주기 규칙 로딩 중...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"advanced-panel lifecycle-panel\">\n      <div className=\"panel-section\">\n        <h4><Clock size={16} /> 규칙 템플릿</h4>\n        <div className=\"template-grid compact\">\n          {templates.map((template) => (\n            <div\n              key={template.name}\n              className=\"template-card small\"\n              onClick={() => handleApplyTemplate(template)}\n            >\n              <div className=\"template-name\">{template.description}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"panel-section\">\n        <div className=\"section-header\">\n          <h4>현재 규칙 ({rules.length})</h4>\n          <button className=\"btn btn-sm btn-primary\" onClick={() => setShowAddRule(true)}>\n            <Plus size={14} /> 추가\n          </button>\n        </div>\n\n        {rules.length === 0 ? (\n          <div className=\"empty-state\">\n            <Clock size={32} />\n            <p>생명주기 규칙이 없습니다</p>\n          </div>\n        ) : (\n          <div className=\"rules-list\">\n            {rules.map((rule) => (\n              <div key={rule.rule_id} className={`rule-item ${rule.enabled ? '' : 'disabled'}`}>\n                <div className=\"rule-info\">\n                  <div className=\"rule-id\">{rule.rule_id}</div>\n                  <div className=\"rule-details\">\n                    {rule.prefix && <span>접두사: {rule.prefix}</span>}\n                    {rule.expiration_days && <span>{rule.expiration_days}일 후 삭제</span>}\n                    {rule.noncurrent_expiration_days && <span>이전 버전 {rule.noncurrent_expiration_days}일 후 삭제</span>}\n                  </div>\n                </div>\n                <div className=\"rule-actions\">\n                  <span className={`status-badge ${rule.enabled ? 'running' : 'stopped'}`}>\n                    {rule.enabled ? '활성' : '비활성'}\n                  </span>\n                  <button className=\"btn-icon danger\" onClick={() => handleDeleteRule(rule.rule_id)}>\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {showAddRule && (\n        <div className=\"modal-overlay\" onClick={() => setShowAddRule(false)}>\n          <div className=\"modal-content small\" onClick={e => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>생명주기 규칙 추가</h3>\n              <button className=\"btn-icon\" onClick={() => setShowAddRule(false)}>\n                <X size={20} />\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"form-group\">\n                <label>규칙 ID</label>\n                <input\n                  type=\"text\"\n                  value={newRule.rule_id}\n                  onChange={(e) => setNewRule({ ...newRule, rule_id: e.target.value })}\n                  placeholder=\"my-rule-1\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>접두사 (선택)</label>\n                <input\n                  type=\"text\"\n                  value={newRule.prefix}\n                  onChange={(e) => setNewRule({ ...newRule, prefix: e.target.value })}\n                  placeholder=\"logs/\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>만료 일수</label>\n                <input\n                  type=\"number\"\n                  value={newRule.expiration_days}\n                  onChange={(e) => setNewRule({ ...newRule, expiration_days: Number(e.target.value) })}\n                  min={1}\n                />\n              </div>\n              <div className=\"form-group checkbox\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={newRule.enabled}\n                    onChange={(e) => setNewRule({ ...newRule, enabled: e.target.checked })}\n                  />\n                  활성화\n                </label>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"btn\" onClick={() => setShowAddRule(false)}>취소</button>\n              <button className=\"btn btn-primary\" onClick={handleAddRule}>추가</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 버킷 통계 컴포넌트\nexport const BucketStats = ({ bucketName, showToast }) => {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchStats = useCallback(async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`${API_BASE}/storage/buckets/${bucketName}/stats`);\n      setStats(res.data.stats);\n    } catch (error) {\n      showToast('통계 조회 실패', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [bucketName, showToast]);\n\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <Loader2 className=\"spin\" size={24} />\n        <p>통계 로딩 중...</p>\n      </div>\n    );\n  }\n\n  if (!stats) return null;\n\n  return (\n    <div className=\"advanced-panel stats-panel\">\n      <h4><BarChart3 size={16} /> 버킷 통계</h4>\n\n      <div className=\"stats-grid\">\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_objects}</div>\n          <div className=\"stat-label\">총 객체</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_folders}</div>\n          <div className=\"stat-label\">폴더</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className=\"stat-value\">{stats.total_size_human}</div>\n          <div className=\"stat-label\">총 용량</div>\n        </div>\n        <div className=\"stat-card\">\n          <div className={`stat-value ${stats.versioning_enabled ? 'enabled' : ''}`}>\n            {stats.versioning_enabled ? 'ON' : 'OFF'}\n          </div>\n          <div className=\"stat-label\">버전 관리</div>\n        </div>\n      </div>\n\n      {Object.keys(stats.file_types).length > 0 && (\n        <div className=\"stats-section\">\n          <h5>파일 유형 분포</h5>\n          <div className=\"file-types\">\n            {Object.entries(stats.file_types).map(([ext, count]) => (\n              <div key={ext} className=\"file-type-item\">\n                <span className=\"ext\">.{ext}</span>\n                <span className=\"count\">{count}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"stats-section\">\n        <h5>크기 분포</h5>\n        <div className=\"size-distribution\">\n          {Object.entries(stats.size_distribution).map(([range, count]) => (\n            <div key={range} className=\"size-item\">\n              <span className=\"range\">{range}</span>\n              <div className=\"bar-container\">\n                <div\n                  className=\"bar\"\n                  style={{\n                    width: `${(count / Math.max(stats.total_objects, 1)) * 100}%`\n                  }}\n                />\n              </div>\n              <span className=\"count\">{count}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 고급 기능 탭 컴포넌트\nexport const StorageAdvancedTabs = ({ bucketName, selectedObject, showToast }) => {\n  const [activeTab, setActiveTab] = useState('stats');\n\n  const tabs = [\n    { id: 'stats', label: '통계', icon: BarChart3 },\n    { id: 'policy', label: '정책', icon: Shield },\n    { id: 'versioning', label: '버전', icon: GitBranch },\n    { id: 'lifecycle', label: '생명주기', icon: Clock },\n    { id: 'presigned', label: 'URL 생성', icon: Link },\n  ];\n\n  if (!bucketName) {\n    return (\n      <div className=\"advanced-panel\">\n        <div className=\"empty-state\">\n          <Settings size={32} />\n          <p>버킷을 선택하세요</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"storage-advanced\">\n      <div className=\"advanced-tabs\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            className={`tab-btn ${activeTab === tab.id ? 'active' : ''}`}\n            onClick={() => setActiveTab(tab.id)}\n          >\n            <tab.icon size={14} />\n            {tab.label}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"advanced-content\">\n        {activeTab === 'stats' && (\n          <BucketStats bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'policy' && (\n          <BucketPolicyManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'versioning' && (\n          <VersioningManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'lifecycle' && (\n          <LifecycleManager bucketName={bucketName} showToast={showToast} />\n        )}\n        {activeTab === 'presigned' && (\n          <PresignedUrlGenerator\n            bucketName={bucketName}\n            objectName={selectedObject}\n            showToast={showToast}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StorageAdvancedTabs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}